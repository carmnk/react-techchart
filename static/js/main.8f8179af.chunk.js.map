{"version":3,"sources":["Site/Site.tsx","../../src/MuiTheme.tsx","../../../src/Types/ChartStateData.ts","../../../src/Types/ChartStateSubchart.ts","../../../src/Canvas/Charts/CBarChart.tsx","../../../src/utils/Basics.ts","../../../src/Canvas/Charts/CLineChart.tsx","../../../src/Canvas/Charts/CCandleChart.tsx","../../../src/Canvas/CText.tsx","../../../src/ChartState/utils/DateTime.ts","../../../src/ChartState/utils/Utils.ts","../../../src/Canvas/Crosshair.tsx","../../../src/Canvas/Marker.tsx","../../../src/Canvas/Xaxis.tsx","../../../src/Canvas/Yaxis.tsx","../../../src/Menu/Subelements/ChartMenuListItem.tsx","../../../src/Menu/Content/Home.tsx","../../../src/Components/CTreeItem.tsx","../../../src/utils/Color.ts","../../../src/Components/Colorpicker.tsx","../../../src/Components/CTreeView.tsx","../../../src/Components/CIcon.tsx","../../../src/Menu/Subelements/CMColorPropTreeItem.tsx","../../../src/Menu/Subelements/ChartGraphTreeItem.tsx","../../../src/utils/React.tsx","../../../src/ChartState/Reducer/DataFactory.ts","../../../src/Menu/Subelements/IndiGraphTreeItem.tsx","../../../src/Tools/VLine.tsx","../../../src/Tools/HLine.tsx","../../../src/Tools/Trendline.tsx","../../../src/Tools/DefaultTools.tsx","../../../src/Menu/Subelements/ToolTreeItem.tsx","../../../src/Menu/Subelements/SubchartTreeItem.tsx","../../../src/Menu/Content/CMSettings.tsx","../../../src/Components/CSnackbar.tsx","../../../src/Menu/Content/CMChart.tsx","../../../src/Menu/Content/IndicatorsSubMenu.tsx","../../../src/Indicators/EMA.ts","../../../src/Indicators/RSI.ts","../../../src/Indicators/KAMA.ts","../../../src/Indicators/DefaultIndicators.ts","../../../src/Indicators/SMA.ts","../../../src/Indicators/MACD.ts","../../../src/Indicators/ATR.ts","../../../src/Indicators/Volume.ts","../../../src/Indicators/OBV.ts","../../../src/Menu/Content/IndicatorsAdd.tsx","../../../src/ChartState/Defaults.ts","../../../src/Menu/ChartMenuLayout.tsx","../../../src/Menu/Content/IndicatorsEdit.tsx","../../../src/Menu/Content/ToolsSubMenu.tsx","../../../src/Menu/Content/ToolsAdd.tsx","../../../src/Menu/Content/ToolsEdit.tsx","../../../src/Menu/ChartMenu.tsx","../../../src/Menu/ChartMenuButton.tsx","../../../src/Dom/GraphLabel.tsx","../../../src/Dom/ChartLabels.tsx","../../../src/Tools/DrawTool.tsx","../../src/CChart.tsx","../../../src/ChartState/Reducer/SubchartFactory.ts","../../../src/ChartState/Interactions.ts","../../../src/ChartState/Reducer/Factory.ts","../../../src/ChartState/Reducer/Reducer.ts","../../../src/Types/ChartStateReducer.ts","../../../src/ChartState/Calc/CalcSubcharts.ts","../../../src/ChartState/ToolInteractions.ts","../../../src/ChartState/Calc/PeriodUtils.ts","../../../src/ChartState/Calc/CalcXaxis.ts","../../../src/ChartState/useChartInteractions.ts","../../../src/ChartState/Calc/CalcPointer.ts","../../../src/ChartState/useChartState.ts","../../../src/ChartState/Calc/CalcRtData.ts","Site/Layout.tsx","App.tsx","dataseriesFb2021.js","reportWebVitals.js","index.js"],"names":["Site","props","setDarkMode","theme","useTheme","Stack","sx","height","label","style","minHeight","backgroundColor","palette","background","paper","color","getContrastText","default","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","textAlign","paddingBottom","Typography","flexGrow","border","children","fontFamily","calcYaxis","pixX","period","translatedY","a","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","r","g","colorNames","e","intId","id","acc","lastData","hours","lastPrev","firstNew","d","adjustedPixXy","Dispatch","task","params","srcChartData","indicatorData","prevData","calcGraph","setChartMenu2Open","type","curComplSubchartHeights","current","graphProps","action","date","ref","Math","round","yaxis","calc","PreState","pointer","drawElementType","draw","nPoints","_a","defaultTools","subchartIdx","getSubchartIdxByPixXy","drag","initial","subcharts","subchart","_b","_c","calcPointer","move","pixXSnap","xy","pixY","MenuIconButton","styled","IconButton","primary","main","Layout","bgcolor","boxShadow","Toolbar","pr","variant","href","aria-label","onClick","path","mdiThemeLightDark","size","edge","mdiGithub","mdiMenu","Data","name","data","map","dataset","Date","RtData","undefined","indicator","iKAMA","strokeColor","indSrcId","iEMA","settings","disableTheme","initWidthPerTick","App","ContainerRef","React","useRef","useState","DarkMode","console","log","useChartState","ChartState","rtTicks","toggleDark","useCallback","defaultLightTheme","defaultDarkTheme","Fragment","ThemeProvider","muiDarkTheme","CChart","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":";ySAMaA,EAAO,SAACC,GAEKA,EAAhBC,YAAR,IAGMC,EAAQC,cAEd,OACE,eAACC,EAAA,EAAD,CAAOC,GAAI,CAAEC,OAAQ,OAAQC,MAAO,YAApC,UACE,qBACEC,MAAO,CACLC,UAAW,IACXC,gBAAiBR,EAAMS,QAAQC,WAAWC,MAC1CC,MAAOZ,EAAMS,QAAQI,gBAAgBb,EAAMS,QAAQC,WAAWI,SAC9DC,gBAAiB,sEACjBC,iBAAkB,YAClBC,eAAgB,IAChBC,mBAAoB,aAGxB,sBACEZ,MAAO,CACLE,gBAAiBR,EAAMS,QAAQC,WAAWC,MAC1CC,MAAOZ,EAAMS,QAAQI,gBAAgBb,EAAMS,QAAQC,WAAWI,SAC9DK,UAAW,SACXC,cAAe,OALnB,UAQE,cAACC,EAAA,EAAD,mGACA,cAACA,EAAA,EAAD,CAAYT,MAAM,iBAAlB,yDAEF,qBAAKN,MAAO,CAAEgB,SAAU,EAAGC,OAAQ,iBAAnC,SAAuDzB,EAAM0B,e,2BChCtD,EAGR,SAAC,GACI,MAAwB,EAAZ,aAAE,EAAU,EAAL,MAEzB,OACA,kBAAC,IAAM,SAAQ,KACX,EAGA,EAAM,SAFN,kBAAC,IAAa,CAAC,MAAO,GAAQ,EAAM,YAQ/B,EAAW,YACtB,YAAY,CACR,QAAO,CACP,QAAS,CACP,KAAM,WAEJ,UAAO,CACT,KAAM,WAER,KAAM,SAEN,WAAU,CACN,IACF,WAAY,IACZ,SAAU,OACV,WAAY,MACZ,WAAY,2BAEV,IACF,WAAY,IACZ,SAAU,SACV,WAAY,MACZ,WAAY,2BAEV,IACF,WAAY,IACZ,SAAU,SACV,WAAY,MACZ,WAAY,2BAEd,GAAI,CACF,WAAY,IACZ,SAAU,SACV,WAAY,MACZ,WAAY,2BAEd,GAAI,CACF,SAAU,SACV,WAAY,MACZ,WAAY,2BAEd,GAAI,CACF,SAAU,UACV,WAAY,MACZ,WAAY,2BAEd,WAAY,sCAKL,EAAe,YAC1B,YAAY,CACR,QAAO,CACP,QAAS,CACP,KAAM,WAEJ,UAAO,CACT,KAAM,WAER,KAAM,OACF,WAAQ,CACV,MAAO,YAGT,WAAU,CACV,GAAI,CACF,WAAY,IACZ,SAAU,OACV,WAAY,MACZ,WAAY,2BAEd,GAAI,CACF,WAAY,IACZ,SAAU,SACV,WAAY,MACZ,WAAY,2BAEV,IACF,WAAY,IACZ,SAAU,SACV,WAAY,MACZC,WAAY,2BAEd,GAAI,CACF,WAAY,IACZ,SAAU,SACV,WAAY,MACZ,WAAY,2BAEd,GAAI,CACF,SAAU,SACV,WAAY,MACZ,WAAY,2BAEd,GAAI,CACF,SAAU,UACV,WAAY,MACZ,WAAY,2BAEd,WAAY,sC,mCChDL,EAAwB,SAAC,GACpC,SAAW,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,OAAe,aAAc,EAAW,MAC1C,EAAwB,SAAC,GACpC,SAAW,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,OAAe,cAAe,EAAW,MAE3C,EAAuB,SAAC,GACnC,MAAI,SAAU,GAAW,SAAU,GAAW,QAAS,GAAW,UAAW,GAIlE,EAAqB,SAAC,GACjC,MAAI,UAAW,GAGJ,EAAkB,SAAC,GAC9B,MAAI,WAAY,GAGL,EAAqB,SAAC,GACjC,MAAI,WAAY,GC7DL,EAAmB,SAAC,GAC/B,MAAmB,cAAf,EAAM,MAGC,EAAe,SAAC,GAC3B,MAAmB,UAAf,EAAM,MCsBC,EAAa,IAAM,MA1CE,SAAC,G,UACzB,EAAgG,EAAvF,UAAE,EAAqF,EAA1E,YAAE,EAAwE,EAAhE,SAAE,EAA8D,EAAtD,SAAE,EAAoD,EAA3C,UAAE,EAAyC,EAA5B,cAAE,EAA0B,EAAd,aAAE,EAAY,EAAL,QAE7F,EAAQ,EAAU,GAAa,MAAM,GAAU,OAAO,GACtD,EAA+C,QAAnC,EAA4B,QAA5B,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAgB,UAAY,eAAE,aAAK,eAAG,GAClD,EAA6B,QAAjB,EAAc,OAAdC,QAAc,IAAdA,OAAS,EAATA,EAAW,cAAM,eAAG,GAChC,EAAW,IAAM,SACrB,WAAM,OAAC,KAA6B,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,UAAW,EAAU,SAArD,MACN,CAAU,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,SAAU,IAKxB,OAAK,GAAgC,IAApB,EAAS,OAIxB,kBAAC,IAAM,SAAQ,KACZ,EACE,KAAI,SAAC,EAAY,G,MAChB,IAAK,EAAwB,GAAa,OAAO,KACjD,IAAM,EAAO,EAAW,KAClB,EAAiB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MACnB,EAA0C,QAAlC,EAAI,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,UAAsB,OAAZ,QAAY,IAAZ,IAAgB,UAAE,QAAI,EAC9C,EAAO,EAAW,KAAO,EAAU,UACzC,OACE,kBAAC,IAAI,CACH,IAAK,mBAAY,EAAW,YAAI,EAAQ,YAAI,EAAQ,iBAAS,GAC7D,OAAQ,CAAC,EAAO,GAAK,EAAQ,GAAK,EAAO,GAAK,EAAQ,IACtD,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,EAAmB,GAAS,EAAM,MAAM,YAAwB,OAAZ,QAAY,IAAZ,IAAgB,GAAK,EAAM,MAAM,YAC7F,YAAa,OAIlB,QAAO,SAAC,GAAQ,oBAxBwB,QC7BpC,EAAY,SAAC,GACtB,YAAU,IAAR,GAA6B,OAAR,KACN,kBAAR,IAAsB,MAAM,KAK5B,EAAc,SAAC,GAC1B,OAAI,KAAK,MAAM,KAAS,EAAY,EAC7B,EAAI,WAAW,MAAM,KAAK,GAAG,QAAU,GC8LnC,EAAa,IAAM,MApLG,SAAC,G,YAEhC,EAUE,EAVO,UACT,EASE,EATS,YACX,EAQE,EARM,SACR,EAOE,EAPM,SACR,EAME,EANc,aAAhB,OAAY,MAAG,EAAC,EAChB,EAKE,EALO,UACT,EAIE,EAJW,cAGX,EACA,EADK,QAIH,EAAQ,EAAU,GAAa,MAAM,GAAU,OAAO,GACtD,EAAmE,QAAvD,EAA+C,QAA/C,EAAmC,QAAnC,EAA4B,QAA5B,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAgB,UAAY,eAAE,aAAK,eAAG,UAAS,eAAE,cAAM,eAAG,GACtE,EAAW,IAA6B,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,UAC1C,EAAsB,EACvB,EACE,KAAI,SAAC,G,MACA,IAAC,EAAW,KAAM,OAAO,KACzB,IAAE,EAAW,EAAwB,GACZ,QAAzB,IAAW,KAAK,iBAAS,eAAG,GAC5B,EAAwB,GACxB,EAAW,KAAK,SAChB,KACA,SAAU,GAAkB,KACzB,CAAC,EAAWC,KAAM,MAE1B,OACA,QAAO,SAAC,GAAQ,mBACnB,GAsFJ,OAAgB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,QAAS,EACzB,kBAAC,IAAM,SAAQ,KAgDb,kBAAC,IAAI,CACH,WAAW,EACX,IAAK,aAAM,EAAW,iBAAS,EAAQ,YAAI,GAC3C,EAAG,EAAU,UACb,EAAG,EACH,OAAQ,EACR,OAAQ,EAAmB,GAAS,EAAM,MAAM,YAAY,GAAgB,EAAM,MAAM,YACxF,YAAa,KAGf,QCnGO,EAAe,IAAM,MAjFG,SAAC,G,gBAC5B,EAA8F,EAArF,UAAE,EAAmF,EAA1E,UAAE,EAAwE,EAA3D,cAAE,EAAyD,EAA1C,YAAf,OAAW,MAAG,EAAC,EAAE,EAAwC,EAA5B,SAAZ,OAAQ,MAAG,EAAC,EAAE,EAA0B,EAAd,SAAZ,OAAQ,MAAG,EAAC,EAAE,EAAY,EAAL,QAE3F,EAAuC,QAA/B,EAAwB,QAAxB,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAY,eAAE,aAAK,eAAG,GAC1C,EAAa,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,OAAO,GACtB,EAAmE,QAAvD,EAA+C,QAA/C,EAAmC,QAAnC,EAA4B,QAA5B,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAgB,UAAY,eAAE,aAAK,eAAG,UAAS,eAAE,cAAM,eAAG,GACtE,EAAW,IAAM,SACrB,WAAM,OAAC,EAAU,EAAQ,MAAM,IAAc,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,UAAW,EAAU,SAA9D,KACN,CAAU,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,SAAU,IAElB,EAAe,IAAM,SACzB,WAAM,OAAU,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,oBAAqB,EAAI,KAAK,MAAM,KAAQ,EAAU,mBAAqB,IAAvF,IACN,CAAC,EAAU,qBAGb,OAAK,GAAU,EAAe,IAAW,EAKvC,kBAAC,IAAM,SAAQ,KACZ,EAAS,KAAI,SAAC,EAAY,GACzB,IAAM,EAAO,EAAW,KAAO,EAAU,UACzC,ILyB+B,SAAC,GACtC,SAAW,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,OAET,YAAa,EAAW,MACxB,YAAa,EAAW,MACxB,WAAY,EAAW,MACvB,aAAc,EAAW,KK/BlB,CAA0B,GAAa,OAAO,KACnD,IAAM,EAAO,EAAW,KAChB,EAAuC,EAAhC,QAAE,EAA8B,EAAvB,QAAE,EAAqB,EAAf,OAAE,EAAa,EAAL,SACpC,EAA0B,EAAf,EAGjB,OACE,kBAAC,IAAM,SAAQ,CAAC,IAAK,iBAAU,IAC7B,kBAAC,I,CACC,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,CAAC,EAAO,GAAK,EAAU,GAAK,EAAO,GAAK,EAAS,IACzD,OAAQ,EAAM,MAAM,sBACpB,YAAa,IAEd,IAAa,EACK,IAAjB,EACE,kBAAC,I,CACC,WAAW,EACX,WAAW,EACX,EAAG,EAAO,GAAM,EAChB,EAAG,EAAU,GACb,MAAO,EACP,OAAQ,EAAW,EACnB,OAAQ,EAAM,MAAM,kBACpB,KAAM,EAAW,EAAU,EAAM,MAAM,cAAgB,EAAM,MAAM,gBACnE,YAAa,IAGf,kBAAC,I,CACC,WAAW,EACX,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,CAAC,EAAO,GAAK,EAAU,GAAK,EAAO,GAAK,EAAW,IAC3D,OAAQ,EAAW,EAAU,EAAM,MAAM,cAAgB,EAAM,MAAM,gBACrE,YAAa,IAIjB,kBAAC,I,CACC,WAAW,EACX,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,CAAC,EAAO,GAAM,EAAc,EAAW,GAAK,EAAO,GAAM,EAAc,EAAW,IAC1F,OAAQ,EAAM,MAAM,kBACpB,YAAa,SAxD+B,QCQ/C,EAAQ,IAAM,MAxBG,SAAC,GACrB,MAAoE,EAA9D,OAAE,EAA4D,EAAtD,OAAE,EAAoD,EAAhD,KAAE,EAA8C,EAA7C,EAAE,EAA2C,EAA1C,EAAE,EAAwC,EAA/B,UAAE,EAA6B,EAArB,SAAE,EAAmB,EAAX,SAAE,EAAS,EAAL,KAEjE,EAAW,IAAM,aACrB,SAAC,EAAS,GACR,IAAM,EAAM,EAAQ,SACpB,EAAI,MAAgB,OAAR,QAAQ,IAAR,IAAY,IAAM,OAAiB,OAAR,QAAQ,IAAR,IAAY,SACnD,EAAI,UAAqB,OAAT,QAAS,IAAT,IAAa,QAC7B,EAAI,UAAkB,OAAN,QAAM,IAAN,IAAU,OAC1B,EAAI,aAAqB,OAAN,QAAM,IAAN,IAAU,SAC7B,EAAI,SACF,EACA,EACA,GAGF,EAAQ,gBAAgB,KAE1B,CAAC,EAAU,EAAW,EAAU,EAAQ,EAAQ,EAAG,EAAG,IAGxD,OAAO,kBAAC,IAAK,CAAC,KAAM,EAAM,WAAW,EAAO,UAAW,O,+DClCnD,EAAW,IACX,EAAS,KACT,EAAQ,MAKD,EAA+B,CAC1C,CAAE,KAAM,UAAWC,OAAQ,EAAU,eAAgB,CAAC,EAAG,EAAG,GAAI,IAAK,MAAO,CAAC,EAAU,OACvF,CAAE,KAAM,QAAS,OAAQ,EAAQ,eAAgB,CAAC,EAAG,EAAG,IAAK,MAAO,CAAC,EAAQ,QAC7E,CAAE,KAAM,OAAQ,OAAQ,EAAO,eAAgB,CAAC,GAAI,MAAO,CAAC,EAAO,IACnE,CAAE,KAAM,QAAS,OARJ,OAQoB,eAAgB,CAAC,GAAI,MAAO,CAAC,EAAI,EAAO,GAAK,IAC9E,CAAE,KAAM,SAAU,OARJ,QAQqB,eAAgB,CAAC,EAAG,EAAG,GAAI,MAAO,CAAC,GAAK,EAAO,GAAK,IACvF,CAAE,KAAM,QAAS,OARJ,QAQoB,eAAgB,GAAI,MAAO,CAAC,IAAM,EAAO,IAAM,KAGrE,EAAgB,SAAC,EAAY,GACtC,OAAM,GACF,IAAC,UACG,OAAC,YAAO,EAAM,SAClB,IAAC,QACG,OAAC,YAAO,EAAM,SAClB,IAAC,OAED,IAAC,QACG,OAAC,YAAO,EAAM,MAClB,IAAC,SACG,OAAC,YAAO,EAAM,OACtB,IAAK,QACH,OAAO,YAAO,EAAM,QACtB,QACE,MAAO,KAIA,EAAgB,SAAC,EAAY,GACtC,OAAM,GACF,IAAC,UACH,OAAO,YAAW,GAChB,IAAC,QACH,OAAO,YAAS,GACd,IAAC,OACH,OAAO,YAAQ,GACb,IAAC,QACH,OAAO,YAAW,GAChB,IAAC,SACH,OAAO,YAAS,GAClB,IAAK,QACH,OAAO,YAAQ,GACjB,QACE,OAAO,IClDA,EAAa,SAAC,EAAW,EAAoB,GACxD,OAAO,EAAI,EAAe,GAEf,EAAa,SAAC,EAAc,EAAoB,GAC3D,OAAQ,EAAO,GAAc,GAGlB,GAAa,SAAC,EAAW,EAAoB,EAAkB,EAAqB,GAC/F,OAAO,EAAa,EAAI,KAAK,IAAI,GAAI,GAAY,EAAWC,GAEjD,GAAa,SACxB,EACA,EACA,EACA,EACA,GAEE,OAAO,EAAa,EAAc,GAAQ,EAAY,KAAK,IAAI,IAAK,IAiD3D,GAAoB,SAC/B,EACA,EACA,EACA,EACA,EACA,EACA,GAOE,IAAI,EAAU,GAAgC,GAC9C,GACA,EAAU,IACV,EAAU,IACV,EAAU,IACV,EAAU,IACV,EAAU,IACV,EAAU,GAEV,OAAO,KAEP,IAAI,EAAS,EAAqB,GAC/B,EAAQ,OAAO,QAAO,SAAC,GAAM,mBAC9B,EAAuB,GACvB,CAAC,EAAQ,KAAM,EAAQ,KAAM,EAAQ,IAAK,EAAQ,OAClD,EAAqB,GACrB,CAAC,EAAQ,OACT,GACF,GAAoB,IAAlB,EAAO,OAAc,OAAO,KAC9B,IAAI,EAAY,EAAc,GAAa,MAAM,GACjD,OAAK,EACJ,KAAI,SAAC,GAAU,MAAC,CACT,QACJ,EACA,EAAU,GAAa,OACvB,EAAU,SACV,EAAU,YACV,EAAU,aAEZ,EAAG,EAAM,QAAQ,EAAY,QAE9B,QAAO,SAAC,GAAU,SAAM,MAAQ,EAAO,GAAW,EAAM,MAAQ,EAA9C,KAClB,MAAK,SAAC,EAAG,GACJ,OAAJ,KAAK,IAAIC,EAAE,KAAO,GAAQ,KAAK,IAAI,EAAE,KAAO,IAAS,EAAI,KAAK,IAAI,EAAE,KAAO,GAAQ,KAAK,IAAI,EAAE,KAAO,GAAQ,EAAI,MAI1G,GAAwB,SACnC,EACA,GAEE,IAAG,IAAU,EAAW,OAAO,KAC/B,IAAI,EAAiB,EAAU,MAAK,SAAC,GAAQ,SAAM,IAAM,EAAI,KAAO,EAAM,GAAK,EAAlC,UAC7C,IAAG,EAAgB,OAAO,KAC1B,IAAI,EAAY,EAAU,QAAQ,GAClC,OAAiB,IAAf,EAAyB,KACtB,GC4GI,GAAY,IAAM,MAtNG,SAAC,G,0BAE/B,EAYE,EAZU,aACZ,EAWE,EAXe,kBACjB,EAUE,EAVW,cACb,EASE,EATG,MACL,EAQE,EARO,UACT,EAOE,EAPE,KACJ,EAME,EANW,cAEX,EAIA,EAJS,YACX,EAGE,EAHO,UACT,EAEE,EAFI,OACN,EACE,EADK,QAGH,EAAiB,EAAc,MAAQ,EACvC,EAAkB,EAAc,OAAS,EACvC,EAAe,EAAM,MAAX,WACZ,EAAuC,EAAM,MAA3C,EAAW,cAAE,EAAmB,sBAElC,EAA2C,EAAY,KAApD,EAAQ,WAAE,EAAU,aAAE,EAAa,gBACpC,EAAgB,EAAZ,KAAE,EAAU,EAAL,MAEb,EAAqB,EAAY,KAAK,YACtC,EAA2C,QAA7B,IAAY,KAAK,oBAAY,eAAG,GAC9C,EAAkB,EAAc,EAAY,SAAW,KACvD,EAAkB,EAAc,EAAY,SAAW,KACvD,EACH,EAAU,IAAqB,EAAU,IAAqB,EAAU,GAErE,KAD8D,QAA9D,EAAsD,QAAtD,EAAmC,QAAnC,IAAU,GAAoB,aAAK,eAAG,UAAgB,eAAE,cAAM,eAAG,GAEjE,EAAY,EAAK,MAAK,SAAC,GAAQ,SAAI,MAAmB,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAX,WAC/B,IACF,IAA4B,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,SAAU,IAAuB,EAAW,EAAwB,OAAb,QAAa,IAAb,IAAiB,EAEpG,EAAmC,WAAf,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAO,GAAG,MAAmB,EAAK,GAAK,KAEvD,EAAc,EAChB,EAAY,WACZ,EAAa,GACb,GAAc,GAAkC,QAAzB,EAAY,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,eAAE,KAAK,cAAM,QAAI,GAAK,IACtC,QAAnB,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,YAAI,eAAE,aACpB,W,UACO,EAA8C,QAAvC,EAAkB,QAAlB,EAAY,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,eAAE,YAAI,eAAG,EAAa,UAAK,eAAE,KAChD,EAAc,EAAc,KAAK,YACnC,OAAC,GAAS,EAQP,EAAc,EAAM,EAAY,MARL,GAHnC,GAaD,GAgBE,EACJ,EAAa,GACb,GAAc,GAAkC,QAAzB,EAAY,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,eAAE,KAAK,cAAM,QAAI,GAAK,IACxD,EAAU,KACV,EAAU,EAAY,KAAK,OAC5B,EACI,EACG,KACC,SAAC,G,UACC,OAOgC,QAPhC,EAOC,QAPD,KACE,EAAY,KAAK,KACL,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAG,EAAa,GAC5B,EACA,EACA,EACA,UACD,eAAE,QAAO,SAAC,GAAQ,0BAAa,QAC/B,MAKJ,OACH,KAEA,EAAuB,EAAqB,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,WAE/C,EAAU,IAAc,EAAU,OAAS,EAC5C,EAAU,GAAG,KACZ,EAAU,EAAY,KAAK,MAE5B,KADA,EAAY,KAAK,KAJjB,EAAY,SAMV,EACH,EAAqB,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,QAAW,GAE9B,EAAU,IAAc,EAAU,OAAS,EAC5C,EAAU,GAAG,GACF,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,GACb,EAAY,EAAE,WACd,IAAW,EAAU,GACrB,EAAO,EAAY,KAAK,KAAM,EAAoB,GAAG,WACrD,KAPA,EAAY,MAQZ,EACJ,IACC,EAAU,IACX,EAAmB,IACC,eAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,OACT,EAAU,UAAU,QAAQ,SAC1B,WAAW,GAAM,QAAQ,EAAU,UAAU,QAAQ,UAAU,WAC/D,EAGN,OAAS,GAAQ,EAAU,OAAS,EAClC,kBAAC,IAAM,SAAQ,KACb,kBAAC,I,CACC,KAAK,cACL,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,CAAC,EAAO,GAAK,GAAK,EAAO,GAAK,EAAkB,EAAc,EAAsB,IAC5F,OAAQ,EAAM,UAAU,YACxB,YAAa,IAEd,EAAY,KAAK,MAAQ,EAAU,EAAU,OAAS,GAAG,OACxD,kBAAC,IAAM,SAAQ,KACb,kBAAC,I,CACC,KAAK,cACL,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,CAAC,GAAK,EAAO,GAAK,EAAiB,EAAa,GAAK,EAAO,IACpE,OAAQ,EAAM,UAAU,YACxB,YAAa,IAEf,kBAAC,I,CACC,KAAK,mBACL,WAAW,EACX,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,CACN,EAAiB,EACjB,EACA,EAAiB,EAAa,GAC9B,EAAO,GACP,EACA,EAAO,GACP,EACA,EAAO,GACP,EAAiB,EAAa,GAC9B,EAAO,IAET,OAAQ,EAAM,UAAU,mBACxB,KAAM,EAAM,UAAU,uBACtB,YAAa,EACb,QAAM,IAER,kBAAC,EAAK,CACJ,KAAK,gBACL,WAAW,EACX,KAAO,OAAD,QAAC,IAAD,IAAK,GACX,OAAO,OACP,OAAO,SACP,UAAW,EAAM,UAAU,iBAC3B,SAAU,EAAM,UAAU,gBAC1B,SAAU,EAAM,UAAU,gBAC1B,EAAG,EAAiB,EAAa,EAAM,MAAM,mBAAqB,EAClE,EAAG,KAGL,KACH,GAAc,GAAK,GAAc,GAAiC,QAAzB,EAAY,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,eAAE,KAAK,cAAM,QAAI,GAAK,EAC1E,kBAAC,IAAM,SAAQ,KACb,kBAAC,I,CACC,KAAK,gBACL,WAAW,EACX,EAAG,EAAO,GACV,EAAG,EAAkB,EAAc,EAAsB,GACzD,MAAO,GACP,OAAQ,GACR,KAAM,EAAM,UAAU,uBACtB,OAAQ,EAAM,UAAU,mBACxB,YAAa,IAEf,kBAAC,E,CACC,KAAK,gBACL,WAAW,EACX,SAAU,EAAM,UAAU,gBAC1B,SAAU,EAAM,UAAU,gBAC1B,UAAW,EAAM,UAAU,iBAC3B,OAAO,SACP,OAAO,MACP,KAAM,EACN,EAAG,EACH,EAAG,EAAkB,EAAc,EAAsB,EAAI,MAG/D,MAEJ,QC9IO,GAAS,IAAM,MA9EJ,SAAC,G,kCACf,EAAuD,EAAhD,QAAE,EAA8C,EAAjC,cAAE,EAA+B,EAA1B,MAAE,EAAwB,EAAZ,aAAE,EAAU,EAAL,MACpD,EAAgC,QAAnB,EAAY,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,eAAE,aAAK,gBAAsB,QAAnB,EAAY,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,eAAE,aAAK,eAAE,QAAS,GACjE,EAA+B,QAAlB,EAAY,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,eAAE,YAAI,gBAAqB,QAAlB,EAAY,QAAZ,EAAY,OAAZ,QAAY,IAAZ,OAAO,EAAP,EAAU,UAAE,eAAE,YAAI,eAAE,QAAS,GACnE,IAAG,IAAY,IAAe,EAAY,OAAO,KACzC,IAAK,EAAmB,EAAL,MACvB,EAAa,EAAM,MAAM,WAEzB,EAAwB,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,KAC1B,EAAO,EAAW,KAClB,EACF,GAAe,EAAwB,GACrB,QAAhB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,YAAI,eAAE,SAClB,EAAwB,GACG,QAA3B,EAAgB,QAAhB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,YAAI,eAAE,iBAAS,eAAe,OAAZ,QAAY,IAAZ,IAAgB,GAC9C,KAEA,EAAI,EAAqB,GACO,QAAlC,EAAC,SAAiC,eAAE,MACpC,EAAqB,GACqB,QAA1C,EAAkC,QAAlC,EAAC,SAAiC,eAAE,cAAM,eAAe,OAAZ,QAAY,IAAZ,IAAgB,GAC7D,KACF,OAAE,EAAU,IAAS,EAAU,GAAW,KAE1C,kBAAC,IAAM,SAAQ,KACb,kBAAC,I,CACK,KAAC,mBACD,WAAO,EACP,EAAD,EAAM,UACL,EAAD,EACC,OAAI,CACN,KAAK,MAAM,GAAQ,GACnB,KAAK,MAAM,GAAQ,GACnB,EAAiB,EAAa,GAC9B,KAAK,MAAM,GAAQ,IAErB,OAAQ,wBACR,YAAa,IAEf,kBAAC,I,CACC,KAAK,sBACL,WAAW,EACX,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,CACN,KAAK,MAAM,EAAiB,GAAc,GAC1C,KAAK,MAAM,GAAQ,GACnB,KAAK,MAAM,EAAiB,EAAa,IAAM,GAC/C,KAAK,MAAM,EAAO,IAAM,GACxB,KAAK,MAAM,GAAkB,GAC7B,KAAK,MAAM,EAAO,IAAM,GACxB,KAAK,MAAM,GAAkB,GAC7B,KAAK,MAAM,EAAO,IAAM,GACxB,KAAK,MAAM,EAAiB,EAAa,IAAM,GAC/C,KAAK,MAAM,EAAO,IAAM,IAE1B,OAAQ,EAAM,UAAU,mBACxB,KAAM,EAAM,UAAU,uBACtB,YAAa,EACb,QAAM,IAER,kBAAC,EAAK,CACJ,KAAK,0BACL,WAAW,EACX,KAAkB,QAAZ,IAAE,kBAAU,QAAI,GACtB,OAAO,OACP,OAAO,SACP,UAAW,EAAM,UAAU,iBAC3B,SAAU,EAAM,UAAU,gBAC1B,SAAU,EAAM,UAAU,gBAC1B,EAAG,KAAK,MAAM,EAAiB,EAAa,EAAM,MAAM,mBAAqB,GAAI,GACjF,EAAG,KAAK,MAAM,GAAM,SC5Bf,GAAQ,IAAM,MA/CG,SAAC,GACrB,MAAoC,EAA3B,UAAE,EAAyB,EAApB,MAAE,EAAkB,EAAL,cACjC,EAAuC,EAAM,MAA3C,EAAW,cAAE,EAAmB,sBAGxC,OACE,kBAAC,IAAM,SAAQ,KACZ,EAAU,SAAS,KAAI,SAAC,EAAW,GAClC,OACE,kBAAC,IAAM,SAAQ,CAAC,IAAK,sBAAe,IAClC,kBAAC,IAAI,CACH,KAAM,qBAAc,GACpB,WAAW,EACX,EAAG,EAAU,EACb,EAAG,EAAc,OAAS,EAAI,EAAc,GAC5C,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClB,OAAQ,EAAM,MAAM,YACpB,YAAa,IAEd,EAAM,KAAK,SACV,kBAAC,IAAI,CACH,KAAM,qBAAc,GACpB,WAAW,EACX,EAAG,EAAU,EACb,EAAG,GACH,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAc,OAAS,EAAI,EAAc,IAC3D,OAAQ,EAAM,KAAK,YACnB,YAAa,IAEb,KACJ,kBAAC,EAAK,CACJ,KAAM,EAAU,WAChB,OAAO,SACP,OAAO,MACP,UAAW,EAAM,MAAM,UACvB,SAAU,EAAM,MAAM,SACtB,SAAU,EAAM,MAAM,SACtB,EAAG,EAAU,EAAI,GACjB,EAAG,EAAc,OAAS,EAAI,EAAc,EAAsB,GAAM,YCezE,GAAQ,IAAM,MArDG,SAAC,GACnB,IAAF,EAAmD,EAA1C,UAAE,EAAwC,EAA3B,cAAE,EAAyB,EAApB,MAAE,EAAkB,EAAL,cAC9C,EAAuB,EAAM,MAAX,mBAGxB,OACA,kBAAC,IAAM,SAAQ,KACZ,EAAU,KAAI,SAAC,EAAU,GACxB,OAAO,EAAS,MAAM,KAAI,SAAC,EAAa,G,UAChC,EAA+C,QAAnC,EAA4B,QAA5B,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAgB,UAAY,eAAE,aAAK,eAAG,GAExD,OADuC,QAAnB,EAAQ,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,iBAAS,QAAI,IACzB,KAAI,SAAC,EAAW,GAChC,OACE,kBAAC,IAAM,SAAQ,CAAC,IAAK,sBAAe,IAClC,kBAAC,IAAI,CACH,KAAM,qBAAc,GACpB,WAAW,EACX,EAAG,EAAc,MAAQ,EAAI,GAAM,EAAM,MAAM,mBAC/C,EAAG,EAAU,KAAO,GACpB,OAAQ,CAAC,EAAG,EAAG,EAAoB,GACnC,OAAQ,EAAM,MAAM,YACpB,YAAa,IAEd,EAAM,KAAK,SACV,kBAAC,IAAI,CACH,KAAM,qBAAc,GACpB,WAAW,EACX,EAAG,GACH,EAAG,EAAU,KAAO,GACpB,OAAQ,CAAC,EAAG,EAAG,EAAc,MAAQ,EAAI,GAAK,GAC9C,OAAQ,EAAM,KAAK,YACnB,YAAa,IAEb,KACJ,kBAAC,EAAK,CACJ,KAAM,EAAU,MAChB,OAAO,QACP,OAAO,SACP,UAAW,EAAM,MAAM,UACvB,SAAU,EAAM,MAAM,SACtB,SAAU,EAAM,MAAM,SACtB,EAAG,EAAc,MAAQ,EAAI,EAAM,MAAM,mBAAqB,GAC9D,EAAG,EAAU,qB,qFC7ClB,GAA6C,aAAO,KAAP,EACxD,SAAC,GAAc,MAAC,CACVP,OAAI,iBACJ,aAAU,EACV,YAAS,GACT,WAJE,QAIY,QAAQ,UAAU,KAChC,SAAM,GACN,OAAI,GACJ,SAAM,WACV,IAAK,MA+CI,GAAoB,IAAM,MAhCG,SAAC,GAEvC,MAQE,EARE,KACJ,EAOE,EAPA,GACF,EAME,EANM,SACR,EAKE,EALK,QACP,EAIE,EAJO,UACT,EAGE,EAHO,UACT,EAEE,EAFM,SACR,EACE,EADS,YAEP,EAAsB,OAAR,QAAQ,IAAR,IAAY,GAChC,OACE,kBAAC,KAAQ,CAAC,QAAM,EAAC,QAAS,EAAS,IAAK,EAAK,aAC3C,kBAAC,GAAqB,CACpB,GAAI,CACF,WAAuB,OAAX,QAAW,IAAX,IAAe,mBAG7B,kBAAC,KAAI,CAAC,KAAM,EAAU,KAAM,OAAQ,MAAgB,OAAT,QAAS,IAAT,IAAa,SACvD,GAEH,kBAAC,IAAU,CACT,QAAQ,KACR,UAAU,MACV,MAAgB,OAAT,QAAS,IAAT,IAAa,gBAEnB,OC/CI,GAAO,SAAC,GAGX,MAAe,EAAL,WACZ,EAAQ,eAER,EAAiB,IAAM,aAAY,WAC7B,OAAV,QAAU,IAAV,KAAa,WACZ,CAAC,IACE,EAAsB,EAAAO,EAAM,aAAY,WAClC,OAAN,QAAM,IAAV,KAAa,gBACZ,CAAC,IACE,EAAiB,IAAM,aAAY,WAC7B,OAAV,QAAU,IAAV,KAAa,WACZ,CAAC,IACE,EAAoB,IAAM,aAAY,WAChC,OAAV,QAAU,IAAV,KAAa,cACZ,CAAC,IAEJ,OACE,kBAAC,KAAI,CAAC,GAAI,CAAE,GAAI,IACd,kBAAC,GAAiB,CAChB,GAAG,IACH,KAAK,QACL,SAAU,KACV,UAAU,eACV,UAAW,EAAM,QAAQ,UAAU,aACnC,QAAS,IAEX,kBAAC,GAAiB,CAChB,KAAK,aACL,GAAG,IACH,SAAU,KACV,UAAU,eACV,UAAW,EAAM,QAAQ,UAAU,aACnC,QAAS,IAEX,kBAAC,GAAiB,CAChB,GAAG,IACH,KAAK,QACL,SAAU,KACV,UAAU,eACV,UAAW,EAAM,QAAQ,UAAU,aACnC,QAAS,IAEX,kBAAC,GAAiB,CAChB,GAAG,IACH,KAAK,WACL,SAAU,KACV,UAAU,eACV,UAAW,EAAM,QAAQ,UAAU,aACnC,QAAS,M,wnBClDX,GAAa,aAAO,KAAP,EAAiB,SAAC,G,UAAE,EAAK,QAAO,aAChD,aAAM,KAAgB,YAAS,GAC9B,UAAW,aACP,qBAAkB,EAAM,QAAQ,GAChC,wBAAqB,EAAM,QAAQ,GACnC,WAAQ,EAAM,QAAQ,GACtB,cAAW,EAAM,QAAQ,GAC7B,aAAc,EAAM,QAAQ,GAC5B,UAAW,CACT,gBAAiB,EAAM,QAAQ,OAAO,OAExC,4DAA6D,CAC3D,gBAAiB,oCAA6B,EAAM,QAAQ,OAAO,SAAQ,KAC3E,MAAO,4BAER,aAAM,KAAgB,QAAU,CAC/B,MAAO,WAEV,GACD,EAAC,aAAM,KAAgB,UAAO,GACxB,WAAQ,EAAM,QAAQ,KAEzB,aAAM,KAAgB,UAAY,CAC7B,YAAS,EAAM,QAAQ,IAI9B,GACD,KAWW,GAAY,IAAM,YAAW,SAAC,EAAuB,GAE5D,IAAF,EAOE,EAPa,gBACf,EAME,EANW,cACF,EAKT,EALkB,UACpB,EAIE,EAJO,UACT,EAGE,EAHO,UACT,EAEE,EAFe,kBACd,EAAK,GACN,EARE,6FAUJ,OACA,kBAAC,GAAU,IACL,IAAC,EACD,MACF,kBAAC,KAAK,CACJ,UAAU,MACV,GAAI,CAAE,WAAY,SAAU,aAAc,WAE1C,kBAAC,KAAG,CAAC,UAAU,OAAO,GAAI,CAAE,GAAI,EAAG,WAAY,IAC5C,GAEH,kBAAC,IAAU,CACT,QAA0B,OAAjB,QAAiB,IAAjB,IAAqB,KAC9B,UAAU,MACV,GAAI,CAAE,SAAU,IAEf,GAEH,kBAAC,IAAU,CAAC,QAAQ,UAAU,UAAU,OACrC,IAIP,GAAI,CAAE,MAAO,gBACb,MAAO,CACL,oBAAqB,EACrB,uBAAwB,IAEtB,OAIV,GAAU,YAAc,Y,4CC/FX,GAAwC,CACjDC,UAAS,UACTC,aAAY,UACZC,KAAI,UACJC,WAAU,UACVC,MAAK,UACLC,MAAK,UACLC,OAAM,UACNC,MAAK,UACLC,eAAc,UACdC,KAAI,UACJC,WAAU,UACVC,MAAK,UACLC,UAAS,UACTC,UAAS,UACTC,WAAU,UACVC,UAAS,UACTC,MAAK,UACLC,eAAc,UACdC,SAAQ,UACRC,QAAO,UACPC,KAAI,UACJC,SAAQ,UACRC,SAAQ,UACRC,cAAa,UACbC,SAAQ,UACRC,UAAS,UACTC,UAAS,UACTC,YAAW,UACXC,eAAc,UACdC,WAAU,UACVC,WAAU,UACVC,QAAO,UACPC,WAAU,UACVC,aAAY,UACZC,cAAa,UACbC,cAAa,UACbC,cAAa,UACbC,WAAU,UACVC,SAAQ,UACRC,YAAW,UACXC,QAAO,UACPC,WAAU,UACVC,UAAS,UACTC,YAAW,UACXC,YAAW,UACXC,QAAO,UACPC,UAAS,UACTC,WAAU,UACVC,KAAI,UACJC,UAAS,UACTC,KAAI,UACJC,MAAK,UACLC,YAAW,UACXC,SAAQ,UACRC,QAAO,UACP,aAAY,UACZC,OAAM,UACNC,MAAK,UACLC,MAAK,UACLC,SAAQ,UACRC,cAAa,UACbC,UAAS,UACTC,aAAY,UACZC,UAAS,UACTC,WAAU,UACVC,UAAS,UACTC,qBAAoB,UACpBC,UAAS,UACTC,WAAU,UACVC,UAAS,UACTC,YAAW,UACXC,cAAa,UACbC,aAAY,UACZC,eAAc,UACdC,eAAc,UACdC,YAAW,UACXC,KAAI,UACJC,UAAS,UACTC,MAAK,UACLC,QAAO,UACPC,OAAM,UACNC,iBAAgB,UAChBC,WAAU,UACVC,aAAY,UACZC,aAAY,UACZC,eAAc,UACdC,gBAAe,UACfC,kBAAiB,UACjBC,gBAAe,UACfC,gBAAe,UACfC,aAAY,UACZC,UAAS,UACTC,UAAS,UACTC,SAAQ,UACRC,YAAW,UACXC,KAAI,UACJC,QAAO,UACPC,MAAK,UACLC,UAAS,UACTC,OAAM,UACNC,UAAS,UACTC,OAAM,UACNC,cAAa,UACbC,UAAS,UACTC,cAAa,UACbC,cAAa,UACbC,WAAU,UACVC,UAAS,UACTC,KAAI,UACJC,KAAI,UACJC,KAAI,UACJC,WAAU,UACVC,OAAM,UACNC,cAAa,UACbC,IAAG,UACHC,UAAS,UACTC,UAAS,UACTC,YAAW,UACXC,OAAM,UACNC,WAAU,UACVC,SAAQ,UACRC,SAAQ,UACRC,OAAM,UACNC,OAAM,UACNC,QAAO,UACPC,UAAS,UACTC,UAAS,UACTC,KAAI,UACJC,YAAW,UACXC,UAAS,UACTC,IAAG,UACHC,KAAI,UACJC,QAAO,UACPC,OAAM,UACNC,UAAS,UACTC,OAAM,UACNC,MAAK,UACLC,MAAK,UACLC,WAAU,UACVC,OAAM,UACNC,YAAW,WAYF,GAAW,SAAC,GACvB,IAAK,EAAK,OAAO,KAGf,EAAI,EAAI,QADa,oCACW,SAAU,EAAG,EAAG,EAAG,GACnD,OAAOC,EAAI,EAAIC,EAAI,EAAI,EAAI,KAE3B,IAAI,EAAS,4CAA4C,KAAK,GAC9D,OAAK,EACH,CACED,EAAG,SAAS,EAAO,GAAI,IACvB,EAAG,SAAS,EAAO,GAAI,IACnB,EAAD,SAAS,EAAO,GAAI,KAEzB,M,iNCvIA,GAAY,CAChB,UACA,gBACA,gBACA,gBACA,eACA,eACA,cACA,cACA,gBACA,cACA,cACA,gBACA,YACA,aACA,gBACA,cACA,cACA,eAGW,GAAY,SAAC,GAMhB,MAAkD,EAA7C,MAAE,EAA2C,EAAjC,MAAV,OAAK,MAAG,GAAE,EAAE,EAA+B,EAApB,OAAX,OAAM,MAAG,GAAE,EAAE,EAAkB,EAAL,SAAb,OAAQ,MAAG,GAAE,EACrD,OACE,kBAAC,KAAG,MACE,EAAQ,CACZ,GAAE,IACA,SAAU,EACV,UAAW,EAEX,UAAW,aACX,WAAY,EACZ,aAAc,EACd,OAAQ,kBACG,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,QAUR,GAAc,SAAC,GAChB,IAAF,EAA2B,EAAtB,MAAE,EAAoB,EAAL,gBACxB,EAAkB,IAAM,UAAS,GAAhC,EAAI,KAAE,EAAO,KACd,EAA8B,IAAM,SAAwB,MAA3D,EAAU,KAAE,EAAa,KAE1B,EAAW,IAAM,OAA0B,MAE3C,EAAQ,uCAAuC,KAAK,GACpD,EACF,GAA0B,kBAAV,EAAqB,GAAS,GAAS,KACrD,EACa,kBAAV,EACF,EAAiB,MAChB,oGAEF,KACA,IAAW,GAAS,KAAK,GAAsB,MAAb,EAAM,GACxC,EACF,GAAS,KAAK,GAAS,KAAK,GAAS,KAAK,EACxC,CAAC,WAAW,EAAM,IAAK,WAAW,EAAM,IAAK,WAAW,EAAM,KAC9D,GAAW,EACX,CAAC,EAAY,EAAG,EAAY,EAAG,EAAY,GAC3C,GACJ,GAAyB,IAAvB,EAAY,OAAc,CACxB,IAAE,EAA8B,KD4CxB,GACP,GAASE,GAAU,MADQ,KC3C5B,GACF,EAAY,KAAK,EAAa,EAAG,EAAa,EAAG,EAAa,GAGhE,IAAI,EACF,GAAY,GAAS,KAAK,EAA+B,IAAvB,WAAW,EAAM,IAAY,IAC7D,EAA0B,IAAM,SAAS,GAAxC,EAAQ,KAAE,EAAW,KAE1B,OACA,kBAAC,IAAM,SAAQ,KACb,kBAAC,KAAU,CACL,MAAE,UACF,MAAG,CAAQ,QAAG,GACd,QAAK,WACD,GAAE,IAEN,IAAC,GAEL,kBAAC,GAAS,CAAK,MAAG,KAEpB,kBAAC,KAAO,CACF,yBACA,KAAE,EACF,SAAM,EAAS,QACf,QAAK,WACD,GAAE,IAEN,aAAU,CACN,SAAI,SACJ,WAAM,UAEV,gBAAa,CACT,SAAI,MACJ,WAAM,UAEV,WAAQ,CAAE,GAAI,CAAE,MAAO,IAAK,EAAG,KAGnC,kBAAC,KAAI,CACC,WAAK,EACL,QAAK,EACL,IACF,WAAY,SACN,aAAQ,SACd,aAAc,SACd,EAAG,IAGJ,GAAU,KAAI,SAAC,EAAK,GAAW,OAC9B,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,EAAG,IAAK,GACrB,kBAAC,KAAU,CACT,MAAM,UACN,MAAO,CAAE,QAAS,GAClB,YAAa,SAACC,GACZ,EAAc,eAAQ,GAAU,GAAO,YAAI,EAAQ,OAE/C,aAAQ,WACJ,EAAM,OAEV,QAAG,WACP,EACE,QAAU,GAAU,GAAU,IAAM,EAAW,IAAM,OAIzD,kBAAC,GAAS,CACF,MAAC,QAAU,EAAM,MACvB,MAAO,GACP,OApBwB,UAyBhC,kBAAC,KAAI,CAAK,QAAC,GAAI,GACb,kBAAC,IAAU,eAEb,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,EAAG,MAAO,CAAE,QAAS,aAClC,kBAAC,KAAM,CACD,MAAG,EACP,SAAU,SAAC,EAAQ,GACjB,EAAY,MAAM,QAAQ,GAAO,EAAI,GAAK,GAC1C,EACE,eAAQ,EAAY,GAAE,YAAI,EAAY,GAAE,YAAI,EAAY,GAAE,aACvD,MAAM,QAAQ,GAAO,EAAI,GAAK,GAAO,IAAG,UAMnD,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,KAAS,CACR,OAAO,OACP,QAAQ,WACR,KAAK,QACL,WAAY,CAAE,MAAO,CAAE,QAAS,qBAChC,MAAO,EACP,SAAU,SAAC,GACT,IAAI,EAAM,SAAS,EAAE,OAAO,MAAO,IAC/B,MAAM,KAAM,EAAM,GAClB,EAAM,GAAK,EAAM,MACrB,EAAY,GACZ,EACE,eAAQ,EAAY,GAAE,YAAI,EAAY,GAAE,YAAI,EAAY,GAAE,YACxD,EAAM,IAAG,YAQrB,kBAAC,KAAI,CACH,WAAS,EACT,QAAS,EACT,GAAI,CACF,WAAY,SACZ,aAAc,SACd,aAAc,SACd,EAAG,IAGL,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,IAAU,CAAC,UAAU,MAAM,MAAM,UAAQ,MAK5C,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,IAAU,CAAC,UAAU,MAAM,MAAM,UAAQ,MAK5C,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,IAAU,CAAC,UAAU,MAAM,MAAM,UAAQ,MAI5C,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,IAAU,CAAC,UAAU,MAAM,MAAM,UAAQ,MAK5C,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,IACf,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,GAAS,CACR,MAAO,GAA0B,EACjC,MAAO,GACP,OAAQ,GACR,SAAU,CAAE,SAAU,GAAI,UAAW,QAI3C,kBAAC,KAAI,CACH,WAAS,EACT,QAAS,EACT,GAAI,CACF,WAAY,SACZ,aAAc,SACd,aAAc,SACd,EAAG,IAGL,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,KAAS,CACR,UAAQ,EACR,MAAO,EAAc,EAAY,GAAK,EACtC,OAAO,OACP,QAAQ,WACR,KAAK,QACL,WAAY,CACV,MAAO,CACL,QAAS,EACT,WAAY,0BACV,EAAc,EAAY,GAAK,IAAM,EAAC,UAOhD,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,KAAS,CACR,UAAQ,EACR,MAAO,EAAc,EAAY,GAAK,EACtC,OAAO,OACP,QAAQ,WACR,KAAK,QACL,WAAY,CACV,MAAO,CACL,QAAS,EACT,WAAY,4BACV,EAAc,EAAY,GAAK,IAAM,EAAC,OAI5C,WAAS,KAGb,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,KAAS,CACR,UAAQ,EACR,MAAO,EAAc,EAAY,GAAK,EACtC,OAAO,OACP,QAAQ,WACR,KAAK,QACL,WAAY,CACV,MAAO,CACL,QAAS,EACT,WAAY,4BACV,EAAc,EAAY,GAAK,IAAM,EAAC,UAMhD,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,KAAS,CACR,UAAQ,EACR,MAAO,EACP,OAAO,OACP,QAAQ,WACR,KAAK,QACL,WAAY,CAAE,MAAO,CAAE,QAAS,EAAG,WAAY,YAGnD,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,IACf,kBAAC,KAAI,CAAC,MAAI,EAAC,GAAI,GACb,kBAAC,KAAM,CACL,MAAM,YACN,QAAQ,YACR,KAAK,QACL,MAAO,CAAE,SAAU,GACnB,QAAS,WAAM,eAAc,W,yiBC9U9B,GAAqC,SAAC,GAC/C,IAAS,EAAK,GAAK,EAAf,IACA,EAAQ,eACZ,OACA,gBAAC,KAAQ,iBACI,WACX,oBACE,gBAAC,KAAI,CACH,KAAM,KACN,KAAM,EACN,MAA8B,UAAvB,EAAM,QAAQ,KAAmB,OAAS,SAGrD,kBACE,gBAAC,KAAI,CACH,KAAM,KACN,KAAM,EACN,MAA8B,UAAvB,EAAM,QAAQ,KAAmB,OAAS,SAGrD,eAAgB,uBAAK,MAAO,CAAE,MAAO,MACrC,GAAI,CAAE,UAAW,OAAQ,GAAI,EAAG,GAAI,IAChC,GAEH,EAAM,W,+hBC1BA,GAAQ,SAAC,GACV,IAAF,EAAoD,EAAhD,KAAE,EAA8C,EAA1C,KAAE,EAAwC,EAAnC,MAAE,EAAiC,EAAvB,WAAE,EAAqB,EAAf,OAAK,EAAK,GAAK,EAAtD,+CACJ,OACA,kBAAC,KAAI,IACH,KAAM,EACN,KAAM,GACF,EAAK,CACT,MAAK,IACH,WAAU,EACV,OAAc,OAAN,QAAM,IAAN,IAAU,iBAClB,aAAc,EACd,YAAa,GACb,UAAW,cACR,O,oBCXE,GAAsB,SAAC,GAQ1B,MAAmD,EAA7C,OAAE,EAA2C,EAA5B,gBAAE,EAA0B,EAArB,MAAE,EAAmB,EAAX,SAAE,EAAS,EAAL,KAChD,EAAQ,eACd,OACE,kBAAC,GAAS,CACR,IAAK,EACL,OAAQ,EACR,UAAW,EACX,kBAAkB,QAClB,UACE,kBAAC,GAAK,CACJ,KAAM,EACN,KAAM,OACN,MAAO,EAAM,QAAQ,KAAK,QAC1B,OAA+B,SAAvB,EAAM,QAAQ,UAAkB,EAAY,mBAGxD,UACE,kBAAC,GAAW,CACV,MAAwB,kBAAV,EAAqB,EAAQ,EAAM,GACjD,gBAAiB,OCpBd,GAA8B,SAAC,G,cAUxC,EAOE,EAPS,YACX,EAME,EANM,SACR,EAKE,EALM,SACR,EAIE,EAJO,UACT,EAGE,EAHM,SACR,EAEE,EAFc,iBAChB,EACE,EADE,KAEA,EAA2D,QAAnD,EAA2C,QAA3C,EAA+B,QAA/B,EAAwB,QAAxB,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAY,eAAE,aAAK,eAAG,UAAS,eAAE,cAAM,eAAG,GAC9D,EAAQ,eACR,EAAY,EAAK,MAAK,SAAC,GAAQ,SAAI,MAAY,OAAL,QAAK,IAAL,OAAK,EAAL,EAAX,WAkGnC,OAAK,EAAe,GACpB,kBAAC,GAAS,CACJ,QAAK,WACD,MAAK,oBAAa,EAAW,cAAM,EAAQ,kBAAU,GAC3C,OAAV,QAAU,IAAhB,KAAmB,IAEjB,IAAC,oBAAa,EAAW,cAAM,EAAQ,kBAAU,GACjD,OAAI,oBAAa,EAAW,cAAM,EAAQ,kBAAU,GACpD,UAAsB,QAAf,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,YAAI,QAAI,YAAc,EAC5C,gBAAiB,EAAM,QAAQ,QAAQ,MACvC,UACE,kBAAC,GAAK,CACJ,KAAM,KACN,KAAM,OACN,MAAO,EAAM,QAAQ,UAAU,aAC/B,WAAY,EAAM,QAAQ,QAAQ,OAGtC,UACkB,IAAhB,GAAkC,IAAb,EACnB,kBAAC,KAAU,CACT,KAAK,QACL,QAAS,SAAC,GACR,EAAE,iBAKF,EAJ+C,CAC7C,KAAM,cACN,OAAQ,CAAE,YAAW,EAAE,SAAQ,EAAE,SAAQ,OAK7C,kBAAC,KAAI,CACH,KAAM,KACN,KAAM,EACN,MAA8B,UAAvB,EAAM,QAAQ,KAAmB,OAAS,eAGnD,GAGU,UAAf,EAAM,MAA6C,iBAAhB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,KAAK,MACzC,kBAAC,GAAS,CACR,IAAK,iBAAU,EAAW,aAAK,EAAQ,aAAK,EAAQ,cACpD,OAAQ,iBAAU,EAAW,aAAK,EAAQ,aAAK,EAAQ,cACvD,UAAW,aACX,kBAAkB,QAClB,UACE,kBAAC,GAAK,CACJ,KAAM,KACN,KAAM,OACN,MAA8B,UAAvB,EAAM,QAAQ,KAAmB,OAAS,SAGrD,UACE,kBAAC,KAAM,CACL,KAAK,QACL,OAAO,OACP,mBAAoB,CAClB,MAAO,CAAE,WAAY,EAAG,cAAe,IAGzC,MAAO,EAAM,UACb,SAAU,SAAC,GACT,IAAM,EAAW,EAAE,OAAO,MAC1B,EAAS,CACP,KAAM,eACN,OAAQ,CACN,KAAM,YACN,YAAW,EACX,SAAQ,EACR,SAAQ,EACR,SAAQ,OAKb,CAAC,OAAQ,WAAW,KAAI,SAAC,EAAgB,GAAsB,OAC9D,kBAAC,KAAQ,CACP,IAAK,iBAAU,EAAW,aAAK,EAAQ,aAAK,EAAQ,wBAAgB,GACpE,MAAO,GAHqD,SAWpE,KArLgB,SAAC,GACnB,OAAJ,EAAe,IAA8B,WAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MACZ,YAApB,EAAM,UACJ,CACE,CACQ,uBACA,UACA,MAAC,EAAM,MAAM,cACb,gBAAW,SAAC,GACR,EAAC,CACG,KAAJ,eACI,OAAF,CACM,KAAN,gBACM,YAAD,EACC,SAAJ,EACR,SAAQ,EACR,SAAU,OAKlB,CACQ,yBACA,UACA,MAAC,EAAM,MAAM,gBACb,gBAAW,SAAC,GACR,EAAC,CACG,KAAJ,eACI,OAAF,CACM,KAAN,kBACM,YAAD,EACC,SAAJ,EACR,SAAQ,EACR,SAAU,OAKlB,CACQ,2BACA,UACA,MAAC,EAAM,MAAM,kBACb,gBAAW,SAAC,GACR,EAAC,CACG,KAAJ,eACI,OAAF,CACM,KAAN,oBACM,YAAD,EACC,SAAJ,EACR,SAAQ,EACR,SAAU,OAKlB,CACQ,yBACA,UACA,MAAC,EAAM,MAAM,sBACb,gBAAW,SAAC,GACR,EAAC,CACG,KAAJ,eACI,OAAF,CACM,KAAN,wBACM,YAAD,EACC,SAAJ,EACI,SAAJ,EACI,SAAF,QAMpB,CACE,CACE,KAAM,oBACN,KAAM,KACN,MAAO,EAAM,MAAM,YACnB,gBAAiB,SAAC,GAChB,EAAS,CACP,KAAM,eACN,OAAQ,CACN,KAAM,cACN,YAAW,EACX,SAAQ,EACR,SAAQ,EACR,SAAU,QAMtB,GA0FD,CAAgB,GAAO,KAAI,SAAC,EAAgB,GAAU,OACrD,kBAAC,GAAmB,CAClB,IAAK,wCAAiC,EAAW,aAAK,EAAQ,aAAK,EAAQ,aAAK,GAChF,OAAQ,wCAAiC,EAAW,aAAK,EAAQ,aAAK,EAAQ,aAAK,GACnF,KAAM,EAAe,KACrB,MAAO,EAAe,MACtB,SAAU,EAAe,KACzB,gBAAiB,EAPkC,sBAWvD,M,41BClOA,GAAkB,SAAC,EAAU,EAA2B,EAAe,GACzE,GAAiB,kBAAR,EAAkB,OAAO,KAClC,IAAE,EAAc,MAAM,QAAQ,GAAM,MAAK,GAAG,GAAG,MAAM,GACnD,EAAa,EACb,EAAgB,EAClB,IACA,EAAK,SAAQ,SAAC,EAAU,GACtB,KAAM,KAAY,IAAoC,kBAAb,GAA6C,kBAAb,EAEvE,MADA,EAAS,KACH,IAAI,MAAM,2BAAoB,EAAW,aAAK,EAAQ,uCAE9D,GAAI,EAAc,EAAK,OAAS,EAAG,CACjC,GACuB,kBAAb,IAA+D,MAAM,QAAQ,IAChE,kBAAb,GAA+C,kBAAf,EAGxC,MADA,EAAS,KACH,IAAI,MAAM,2BAAoB,EAAW,aAAK,EAAQ,uCAW9D,GATI,MAAM,QAAQ,GAChB,EAAc,GAAY,MAAM,QAAQ,EAAW,IAChD,MAAK,EAAW,IAAS,GACzB,MAAM,EAAW,IAMT,WAAT,GAAqB,IAAgB,EAAK,OAAS,EAAG,CACxD,IAAM,EAAW,EAAK,EAAK,OAAS,GACpC,GAAwB,kBAAb,GAAyB,MAAM,QAAQ,EAAW,IAC3D,EAAc,GAAS,SAClB,EAAW,GAAU,MAAM,EAAG,EAAK,EAAK,OAAS,KAAG,GACpD,EAAW,GAAU,MAAM,EAAW,IAAE,QAExC,GAAwB,kBAAb,IAAgC,EAAW,GAAlB,GAA6B,CACtE,IAAqC,IAAW,GAAxC,EAAC,EAAmB,GAAL,KAAS,KAA1B,+BACN,EAAc,GAAS,MAAQ,SAE5B,EAAgB,EAAc,GAC7B,EAAK,EAAW,QAExB,GAAa,WAAT,EAAmB,CACrB,KAAM,KAAY,IAAwB,QAAT,EAE/B,MADA,EAAS,KACH,IAAI,MAAM,2BAAoB,EAAW,aAAK,EAAQ,uCAEjD,QAAT,GAAkB,MAAM,QAAQ,EAAW,IAC7C,EAAc,GAAS,SAAO,EAAW,IAAS,IAAE,IAAQ,GACzD,EAAc,GAAY,MAMrC,MAAO,GAEH,OADA,QAAI,MAAM,4BAA6B,GACpC,KAEP,OAAK,GAGI,GAAe,SAAC,EAAU,EAA2B,GAC9D,OAAF,GAAgB,EAAK,EAAM,EAAU,SAG1B,GAAkB,SAAC,EAAU,GAA8B,UAAgB,EAAK,EAAM,KAA3B,WA8BjE,I,kuBCzFM,GAAa,SACxB,EACA,EACA,EACA,EACA,EACA,GAEE,UAAe,EACb,GAAoB,EAAa,EAAU,EAAW,EAAe,EAAI,GvBsF9C,SAAC,GAChC,IAAK,EAAY,OAAO,EACxB,IAAM,EAAe,EAA+B,EAAW,OAAS,GACxE,QAAS,EAAY,SAAW,EAAY,KuBxFxC,CAAoB,GACpB,GAAgB,EAAa,EAAW,GACxC,MAEO,GAAsB,SACjC,EACA,EACA,EACA,EACA,EACA,G,MAEM,EAAgB,KAAU,GAC1B,EAAiB,EAAc,OAAO,WAAU,SAAC,GAAU,0BAAM,SAC/C,IAApB,GAA0B,EAAU,KAAgB,EAAc,OAAO,GAAgB,IAAM,GACnG,IAAM,EAAyF,QAAlD,EAAC,EAAU,mBAAuC,mBAC7F,UAAW,EACX,SAAU,IACP,EAAc,OAAO,QAAO,SAAC,EAAQ,G,MAAa,gBAAM,KAAM,MAAG,EAAS,MAAO,EAAS,IAAG,MAAK,MAEjG,EAAW,EAAc,QAAQ,SAAW,EAAc,QAAQ,SAAW,EAC7E,EAAQ,GAAU,OAClB,EAAc,OAAJ,QAAI,IAAJ,IAAQ,EAAc,KACpC,MAAK,CACD,KAAE,EACF,KAAE,EACN,SACE,EACA,IACA,EAAc,OACX,KAAI,SAAC,GAAU,MAAgB,kBAAf,EAAM,KAA2B,EAAM,IAAxC,QACf,QAAO,SAAC,GAAQ,mBAChB,KAAK,KACR,IACE,KAAE,YACF,SAAI,EACR,UAAW,EACX,SAAQ,EACR,GAAIC,IAIK,GAAkB,SAAC,EAA6B,EAAmB,GAC5E,IAAI,EAAsC,GAAiB,GAArD,EAAQ,WAAE,EAAY,eAAK,EAAI,KAAjC,6BACF,GAAc,EAAU,UAC1B,IAAI,EAAW,EAAc,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,aAAe,KAAO,GAAY,EAAe,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,aAClF,OAAE,EAAU,GAAkB,KAEzB,CACD,GAAF,EACE,KAAE,EACF,OACA,SAAI,EACJ,KAAE,QACF,KAAE,EACN,SAAQ,IAcC,GAAyB,SACpC,EACA,EACA,GAEA,IAAM,EAAO,EAAQ,KACf,EAAS,EAAK,WAAU,SAAC,GAAQ,SAAI,KAAJ,KACjC,EAAgB,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAO,GACvB,GAAsB,WAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,QAAqB,GAAsC,IAAvB,EAAY,OAAc,OAAO,EAClF,IAAI,EAnBuB,SAAC,EAAwB,GACpD,IAAI,EAAc,EAAU,KAAK,YACjC,OAAG,EACL,SACK,GAAS,CACZ,KAAI,SAAM,EAAU,MAAI,GAAK,GAAa,GAC1C,SAAU,GAAY,EAAe,EAAa,EAAU,YAJrC,EAiBJ,CAAgB,EAAW,GAC1C,EAAgB,GAAqC,EAAM,GAG3D,EAAQ,MAAQ,GAAa,EAAQ,KAAM,CAAC,GAAS,IAAsC,GAQ/F,OAPA,EAAY,SAAQ,SAAC,EAAI,GACzB,IAAM,EAAU,EAAS,WAAU,SAAC,GAAQ,SAAI,KAAJC,KACtC,EAAwB,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAW,GAC7B,GAAwB,eAAX,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,MAAf,CACJ,IAAM,EAAiB,GAAoB,EAAU,OAAI,EAAW,EAAc,MAC9E,IAAgB,EAAS,GAAW,OAE1C,SAAY,GAAO,CAAE,KAAM,KAevB,GAA6B,SAAC,GAChC,IAGI,EAAe,EAAW,MAAM,GAAG,KAAI,SAAC,EAAS,GAAS,OAH7C,EAGuD,EAAW,EAAO,GAH7C,EAGiD,EAAhC,IAFnD,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,QAAmB,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,MAAW,EAAW,KAAK,UAAY,EAAW,KAAK,UAAhD,EADzB,IAAC,EAA4B,KAIzC,EAAiB,KAAQ,GACzB,EAAmB,OAAO,QAAQ,GAAgB,KAAI,SAAC,G,IAAC,EAAG,KAAE,EAAG,KAAM,MAAC,CAAE,GAAI,SAAS,EAAK,IAAK,IAAK,MACrG,EAAkB,EAAiB,KAAI,SAAC,GAAW,gBACnD,EAAmB,EAAgB,QAAQ,KAAK,IAAG,MAAR,KAAY,IACvD,EAAa,KAAK,IAAI,EAAiB,GAAkB,IAI7D,MAAK,CAAE,WAAU,EAAE,qBAHQ,EAAiB,GAAkB,IAAM,EAAW,OAGtC,YAzBtB,SAAC,GACpB,IAAI,EAAmB,EAAa,MACpC,SAAC,GACK,OAAJ,IAAe,EAAY,QAAW,GAAc,EAAY,MAAM,IAAM,GAAc,EAAY,MAAM,MAE9G,IAAG,EAAkB,OAAO,KACuB,EAA/B,eAA+B,EAAxB,MAAnB,IAAwB,EAAc,GAAK,EAA/C,4BACA,EAAW,KAAK,MAAM,EAAa,EAAiB,QAE1D,OADiB,SAAQ,GAAc,CAAE,SAAQ,IAe7B,CAAe,GAEqB,aADnC,EAAiB,GAAkB,GAAK,IAIzD,GAAmB,SACvB,GAEM,MAAkE,GAA2B,GAA3F,EAAU,aAAE,EAAoB,uBAAE,EAAW,cAAE,EAAY,eAEjE,MAAK,CACL,WAAY,EACZ,YAAa,EACb,qBAAoB,EACpB,KAAM,cACN,Sf4BoC,SAAC,GACvC,IAAM,EAAc,EAAW,KAAI,SAAC,GAClC,SAAuB,GACnB,KAAK,IAAG,MAAR,KACK,CACD,EAAY,EAAQ,OACpB,EAAY,EAAQ,MACpB,EAAY,EAAQ,MACpB,EAAY,EAAQ,OAGxB,EAAqB,GACrB,EAAY,EAAQ,OACpB,EAAqB,GACrB,EAAY,KAAK,IAAG,MAAR,KAAY,EAAQ,OAAO,KAAI,SAAC,GAAU,OAAE,EAAU,GAAZ,EAAqB,EAAY,QACvF,KAGN,OADoB,KAAK,IAAG,MAAR,KAAY,GenDf,CAAyB,GAOxC,aAAY,IAIH,GAAc,SACzB,EACA,EACA,G,MAEM,EAAc,EAAa,KAAI,SAAC,GAAgB,iBAChD,EAAqB,EAAY,MAAM,EAAY,WAAU,SAAC,GAAW,WAAW,EAAX,SACzE,EAAiB,EAAmB,KAAI,SAAC,GAAW,SAAO,MAAM,EAAG,EAAO,OAAvB,MAEpD,EAAc,EAAK,KAAI,SAAC,GAC5B,IAAM,EAA6D,GAInE,OAHA,EAAe,SAAQ,SAAC,EAAQ,GAC9B,EAAc,GAAU,EAAc,EAAQ,KAAM,EAAmB,OAElE,KA+DH,EAAW,EAAY,QAC3B,SAAC,EAAK,GAAY,MAAH,CACP,MAAE,EAAI,SAAe,EAAI,SAAS,OAAS,EAAI,KAAO,EAAI,MAAQ,EAAI,EAAI,MAAzD,EACvB,OAAS,EAAI,SAAsC,EAAI,SAAS,QAAU,EAAI,MAAQ,EAAI,OAAS,EAAI,EAAI,OAAlF,UAAW,EAAM,EAAI,EAC9C,MAAQ,EAAI,SAAqC,EAAI,SAAS,OAAS,EAAI,KAAO,EAAI,MAAQ,EAAI,EAAI,MAA9E,SAAU,EAAM,EAAI,EAC5C,KAAO,EAAI,SAAoC,EAAI,SAAS,MAAQ,EAAI,IAAMC,EAAI,KAAO,EAAI,EAAI,KAA1E,QAAS,EAAM,EAAI,EAC1C,MAAQ,EAAI,SAAqC,EAAI,SAAS,OAAS,EAAI,KAAO,EAAI,MAAQ,EAAI,EAAI,MAA9E,SAAU,EAAM,EAAI,EAC5C,QAAUA,EAAIC,SAIV,EAAI,SAAS,SAAW,EAAI,OAC5B,EAAI,QAAU,EACd,EAAI,QALJ,WAAY,EACV,EACA,EAIA,SAAI,KAEZ,EACI,EAAa,OACb,CACE,MAAO,EACP,OAAQ,EACR,MAAO,EACP,KAAM,EACN,MAAO,EACP,QAAS,EACT,SAAU,OAGP,EAAM,GAAK,EAAhB,IACA,EAA+B,QAApB,EA5EG,SAAd,EAAe,EAA0B,GACzC,IACE,EAfkB,SAAC,EAA2C,GAChE,OAAG,EAAU,IAA8B,UAAf,EAC5B,EACA,EAAY,QACV,SAAC,GACC,SAAW,QAAmB,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,QAC/B,EAAW,SAAoB,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,QAAS,CAAC,UAAU,SAAS,MAC9D,EAAW,QAAmB,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,OAAQ,CAAC,SAAU,SAAS,SAAS,MACrE,EAAW,OAAkB,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,MAAO,CAAC,SAAU,QAAS,QAAQ,SAAS,MAC3E,EAAW,QAAmB,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,OAAuB,YAAf,MAMzB,CADX,GAAgC,KACG,GAChD,MAAsB,YAAf,EACH,CACE,QAAS,KAAO,GAAiB,SAAC,GAAQ,gBAAG,EAAH,WAAiB,KAAI,SAAC,GAAY,MAAC,CAC3E,OAAQ,EAAQ,YAGL,UAAf,EACA,CACQ,MAAC,KAAO,GAAiB,SAAC,GAAQ,gBAAG,EAAH,SAAe,KAAI,SAAC,GAAY,MAAC,CACvE,KAAM,EAAQ,KACd,QAAS,WAAY,EAAU,EAAY,UAAW,GAAS,QAAU,QAG9D,SAAf,EACA,CACQ,UAAO,GAAiB,SAAC,GAAQ,iBAAI,EAAI,KAAM,EAAI,MAAO,EAAI,KAAM,EAAnC,SAA+C,KAAI,SAAC,GAAY,MAAC,CACtG,IAAK,EAAQ,IACb,MAAO,SAAU,EAAU,EAAY,QAAS,GAAS,MAAQ,QAGtD,UAAf,EACA,CACQ,MAAC,KAAO,GAAiB,SAAC,GAAQ,iBAAI,EAAI,KAAM,EAAI,MAAO,EAAzB,UAAsC,KAAI,SAAC,GAAY,MAAC,CACpF,KAAJ,EAAQ,KACd,KAAM,QAAS,EAAU,EAAY,OAAQ,GAAS,KAAO,QAGlD,WAAf,EACA,CACQ,OAAE,KAAO,GAAiB,SAAC,GAAQ,iBAAI,EAAI,KAAM,EAAd,WAA4B,KAAI,SAAC,GAAY,MAAC,CAC3E,MAAH,EAAQ,MACL,MAAH,SAAU,EAAU,EAAY,QAAS,GAAS,MAAQ,QAGtD,UAAf,EACA,CACQ,MAAC,KAAO,EAAa,QAAQ,KAAI,SAAC,GAAY,MAAC,CACzC,KAAJ,EAAQ,KACJ,OAAF,UAAW,EAAU,EAAY,SAAU,GAAS,OAAS,QAGzE,KAgCW,CAAY,gBAAQ,eAAE,MAuCrC,MAAK,CACL,MAAO,EAtCP,SAAO,EAAU,EAAoB,G,QAC/B,EAAkC,QAAvB,EAAI,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAO,EAAK,OAAS,UAAE,QAAI,KACtC,EAAuB,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,QAAI,KAC7B,IAAC,IAAa,EAAU,OAAO,SAAI,GAAI,GAAK,GAAO,GACnD,IAAE,EACJ,SAAU,EACN,OACA,UAAW,EACX,QACA,SAAU,EACV,OACA,QAAS,EACT,MACA,SAAU,EACV,OACA,WAAY,EACZ,SACA,KACA,EACJ,SAAU,GAAY,WAAY,GAAY,WAAY,EACtD,CAAE,KAAM,EAAS,KAAM,OAAQ,EAAU,EAAS,OAAQ,EAAS,SACnE,UAAW,GAAY,UAAW,GAAY,UAAW,EACzD,CAAE,MAAO,EAAS,MAAO,MAAO,EAAU,EAAS,MAAO,EAAS,QACnE,SAAU,GAAY,SAAU,GAAY,SAAU,EACtD,CAAQ,OAAS,KAAM,KAAM,EAAU,EAAS,KAAM,EAAS,OAC/D,QAAS,GAAY,UAAW,GAAY,UAAW,EACvD,CAAQ,IAAD,EAAS,IAAK,MAAO,EAAU,EAAS,MAAO,EAASC,QAC/D,SAAU,GAAY,YAAa,GAAY,YAAa,EAC5D,CAAQ,OAAS,KAAM,QAAS,EAAU,EAAS,QAAS,EAAS,UACrE,KACA,EAAc,GAAY,KAAY,EAAaC,EAAiB,GAAuB,KAC3F,EAAc,GAAY,KAAY,EAAaC,EAAiB,GAAuB,KAC7F,OAAG,IAAgB,IAAgB,EAAU,KAAiB,EAAU,IAAgB,GAAY,EACrG,YAAK,EAAK,MAAM,EAAG,EAAK,OAAS,IAAE,IAAE,IAAc,GAAK,EAAQ,MAAM,IAAE,GACxE,SAAK,GAAI,GAAK,GAAO,GAID,CAAU,EAAa,MAAO,GAAyC,EAC9F,OAAM,IAKG,GAAsB,SACjC,EACA,EACA,EACA,G,QAEM,EAAoC,OAAP,QAAO,IAAP,IAAW,GAAtC,EAAW,cAAE,EAAS,YACxB,EAAgB,EAAK,MAAK,SAAC,GAAM,SAAE,KAAO,GAAT,cAAmB,EAAE,QAC1D,GAA0B,eAAX,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,MAAsB,OAAO,KAC9C,IAAI,EAA6B,QAAvB,IAAc,iBAAS,eAAE,YAC/B,EAAW,GAA4B,EAAc,SACrD,EAAuD,QAAvC,IAAK,MAAK,SAAC,GAAQ,SAAI,KAAJ,YAAoB,eAAE,KAC7D,IAAG,IAAQ,EAAe,OAAO,KACjC,IAAI,EAAS,GAAwB,EAAc,UAAU,OAE7D,OAAF,SACK,GAAa,CAEhB,KAAM,EAAG,IACP,UAAW,EACX,SAAkB,OAAR,QAAQ,IAAR,IAAY,IACnB,EAAO,QAAO,SAAC,EAAQ,G,MAAa,gBAAM,KAAM,MAAG,EAAS,MAAO,EAAS,IAAG,MAAK,MAEzF,SAAW,EAEP,EAAc,KAAO,IAAM,EAAU,KAAI,SAAC,GAAU,gBAAW,KAAK,KAAO,IAD3E,EAAc,SAElB,SAAQ,EACR,UAAS,SAAO,EAAc,WAAS,CAAE,OAAM,OAKtC,GAAqC,SAArC,EACX,EACA,EACA,GAEE,IAAI,EAA2B,OAAf,QAAe,IAAf,IAAmB,GACnC,GAAE,EAAU,SAAS,GAAS,MAAO,GACrC,IAAI,EAAgB,EAAK,MAAK,SAACC,GAAM,OAAC,OAAD,QAAC,IAAD,OAAC,EAAD,EAAG,MAAO,GAAV,eAAqB,OAAD,QAAC,IAAD,OAAC,EAAD,EAAG,SAC5D,GAA0B,eAAX,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,MAAsB,MAAO,GAC9C,IAAI,EAAQ,EAAK,MAAK,SAAC,GAAM,SAAE,KAAO,EAAT,YAC/B,MAAuB,WAAX,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,MACV,CAAC,EAAc,IACC,eAAX,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,MACR,SAAK,EAAmC,EAAM,EAAM,GAAE,SAAM,GAAS,IAAE,EAAc,KAAE,KAAE,IAAE,EAAc,KAAE,GAC1G,IAIO,GAAuC,SAAvC,EAAwC,EAA4B,GAC7E,OAAM,EAAK,QAAO,SAAC,GAAQ,MAAa,cAAb,EAAI,MAAwB,EAAI,WAAhC,KAC1B,KAAI,SAAC,GAIJ,WAAC,EAAI,IAAO,EAAqC,EAAM,EAAI,KAAG,MAE/D,QAGQ,GAAgC,SAAC,EAA4B,EAAgB,GACxF,UAAmC,EAAM,GAAa,SAAS,IAEpD,GAAsB,SACjC,EACA,EACA,EACA,GAEQ,MAAS,EAAL,KACN,EAAoC,OAAP,QAAO,IAAP,IAAW,GAAtC,EAAW,cAAE,EAAS,YAE9B,GAAM,GAAe,GAA8B,EAAM,EAAQ,GAAc,OAAO,EACtF,IAAM,EAA6B,KAAI,IAAE,GAAW,GAAqC,EAAM,IAAO,IAChG,EAAQ,MAAO,GAAI,GAWzB,OAVA,EAA2B,SAAQ,SAAC,EAAI,GACtC,IAAM,EAAU,EAAS,WAAU,SAAC,GAAQ,SAAI,KAAJ,KACtC,EAAiB,GACrB,EACA,EACA,IAAO,EAAS,CAAE,YAAW,EAAE,UAAS,QAAK,EACrC,OAAR,QAAQ,IAAR,IAAY,IAEV,IAAgB,EAAS,GAAW,MAEnC,G,mMCvXI,GAA6B,SAAC,GAUvC,MAOE,EAPS,YACX,EAME,EANM,SACR,EAKE,EALM,SACR,EAIE,EAJO,UACT,EAGE,EAHM,SACR,EAEE,EAFkB,qBACpB,EACE,EADE,KAEA,EAAe,EAAU,GAAa,MAAM,GAAU,OAAO,GAC7D,EAAQ,EAAmB,GAAgB,EAAe,KAC1D,EAAQ,eACR,EAAY,EAAK,MACrB,SAAC,GAAQ,SAAI,MAAY,OAAL,QAAK,IAAL,OAAK,EAAL,EAAX,WAET,OAAG,GAA6B,eAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MAGvB,kBAAC,GAAS,CACJ,IAAC,uCAAgC,EAAW,aAAK,EAAQ,aAAK,GAC9D,OAAI,uCAAgC,EAAW,aAAK,EAAQ,aAAK,GACjE,gBAAa,EAAM,QAAQ,QAAQ,MACnC,QAAK,WACD,MAAK,uCAAgC,EAAW,aAAK,EAAQ,aAAK,GACpD,OAAd,QAAc,IAApB,KAAuB,IAErB,UACF,kBAAC,GAAK,CACE,UACA,YACA,MAAC,EAAM,QAAQ,UAAU,aACzB,WAAM,EAAM,QAAQ,QAAQ,OAGlC,UAAO,EAAU,SACjB,UACc,IAAhB,GAAkC,IAAb,EACnB,kBAAC,KAAU,CACT,KAAK,QACL,QAAS,SAAC,GACR,EAAE,iBAKM,EAJuC,CAC7C,KAAM,cACN,OAAQ,CAAE,YAAW,EAAE,SAAU,EAAG,SAAQ,OAKhD,kBAAC,KAAI,CACG,UACA,OACA,MAAwB,UAAvB,EAAM,QAAQ,KAAmB,OAAS,eAGnD,GAGN,kBAAC,GAAS,CACJ,IAAC,2CAAoC,EAAW,aAAK,EAAQ,aAAK,GAClE,OAAI,2CAAoC,EAAW,aAAK,EAAQ,aAAK,GACrE,UACF,kBAAC,GAAK,CACE,UACA,YACA,MAAC,EAAM,QAAQ,KAAK,UAG1B,UAAM,SACN,kBAAc,QAClB,UACE,kBAAC,KAAM,CACL,KAAK,QACL,OAAO,OACP,mBAAoB,CAAE,MAAO,CAAE,WAAY,EAAG,cAAe,IAC7D,MAAO,EAAU,SACjB,SAAU,SAAC,GACT,IAAM,EAAW,EAAE,OAAO,MAC1B,EAAS,CACP,KAAM,sBACN,OAAQ,CACN,OAAQ,EAAU,GAClB,YAAa,OAKlB,CAAC,aAAc,eAAe,SAC7B,EAAU,UAAU,iBAEjB,WACC,IAAM,EAAkB,EAAU,GAAa,MAC7C,GACA,OAAO,KAAI,SAAC,GAAU,mBASxB,OAR0B,EAAU,UAAU,QAC3C,YAEyC,eAAxC,EAAU,UAAU,gBACpB,EACwC,gBAAxC,EAAU,UAAU,gBACpB,EAAK,QAAO,SAAC,GAAQ,kBAAI,QACzB,GALA,EAAK,QAAO,SAAC,GAAQ,SAAgB,SAAS,EAAzB,QAMD,KAAI,SAAC,GAC3B,SAAI,KAAO,EAAU,IACpB,GACC,EACA,EAAU,GACV,EAAI,IAQF,KANF,kBAAC,KAAQ,CACP,IAAK,oDAA6C,EAAW,aAAK,EAAQ,aAAK,EAAQ,YAAI,EAAI,IAC/F,MAAO,EAAI,IAEV,EAAI,SAvBZ,GA4BD,QAKT,EAAU,UAAU,WAAW,KAAI,SAAC,EAAO,G,QACpC,EAAS,EAAM,MAAM,YAE3B,OACE,kBAAC,GAAmB,CAClB,OAAQ,+CAAwC,EAAW,aAAK,EAAQ,aAAK,EAAQ,cAAM,GAC3F,IAAK,+CAAwC,EAAW,aAAK,EAAQ,aAAK,EAAQ,cAAM,GACxF,MAEiB,QADf,EAAsD,QAAtD,IAAU,GAAa,MAAM,GAAG,OAAO,GAAU,aAAK,eAClD,mBAAW,eAAG,GAEpB,SAAU,KACV,KAAK,oBACL,gBAAiB,SAAC,GAChB,EAAS,CACP,KAAM,eACN,OAAQ,CACN,YAAW,EACX,SAAU,EACV,SAAQ,EACR,SAAQ,YACH,EAAO,MAAM,EAAG,IAAM,IACzB,I,GACG,EAAO,MAAM,EAAQ,IAAE,GAE5B,KAAM,uBAOjB,EAAU,UAAU,OAAO,KAAI,SAAC,EAAO,GAAa,OACnD,kBAAC,GAAS,CACR,IAAK,cAAO,EAAW,kBAAU,EAAQ,kBAAU,EAAQ,YAAI,GAC/D,OAAQ,UAAG,EAAI,EAAW,cAAM,EAAQ,YAAI,GAC5C,UACE,kBAAC,GAAK,CACJ,KAAM,KACN,KAAM,OACN,MAAO,EAAM,QAAQ,KAAK,UAG9B,UAAW,EAAM,KACjB,kBAAkB,QAClB,UACE,kBAAC,KAAS,CACR,QAAQ,WACR,OAAO,OACP,KAAK,QACL,WAAY,CAAE,MAAO,CAAE,QAAS,EAAG,MAAO,KAC1C,MAAO,EAAM,IACb,SAAU,SAAC,GACT,IAAM,EAAM,WAAW,EAAE,OAAO,OAC5B,MAAM,IACV,EAAS,CACP,KAAM,sBACN,OAAQ,CACN,OAAQ,EAAU,GAClB,SAAU,CAAE,SAAQ,EAAE,SAAU,eAtKI,MCS3C,GAAS,IAAM,MAnCG,SAAC,G,MACtB,EAAkF,EAA7E,MAAE,EAA2E,EAAlE,UAAE,EAAgE,EAArD,YAAE,EAAmD,EAA/C,KAAE,EAA6C,EAApC,UAAM,EAA8B,EAAxB,GAAE,EAAsB,EAAb,UAAE,EAAW,EAAL,OACxE,EAAgB,EAAU,GAAf,IAClB,KAAuB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,IAE9B,GAAqB,IAAlB,EAAO,SAAiB,IAAe,IAAW,EAAU,OAAQ,OAAO,KAC9E,IAAI,EACc,IAAlB,EAAO,OACH,CAAC,EAAU,OAAO,EAAO,GAAG,IAAK,EAAO,EAAO,GAAG,GAAI,EAAa,KAC1D,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,IACZ,EAAU,GACV,KACJ,IAAG,EAAO,OAAO,KAEnB,IAAM,GAAmB,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,aAAc,EAAM,YAAc,MACvD,GAAmB,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,aAAc,EAAM,YAAc,OACvD,EAAU,CAAC,WAAY,aAAc,eAAgB,wBAAwB,SAAa,OAAJ,QAAI,IAAJ,IAAQ,IAChG,EACA,eACE,EAA6D,QAA9C,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,KAAK,IAAI,EAAU,OAAS,EAAG,WAAG,eAAE,OAE/D,EAAoC,CACxC,CAAC,EAAM,GAAgB,eAAZ,EAA2B,EAAM,GAAK,GACjD,CAAC,EAAM,GAAgB,aAAZ,EAAyB,EAAM,GAAK,IAI/C,OACA,kBAAC,IAAM,SAAQ,KACb,kBAAC,IAAI,CAAC,WAAW,EAAO,EAAG,EAAG,EAAG,EAAG,OAAQ,EAAc,OAAQ,OAAQ,EAAa,YAAa,IACpG,kBAAC,IAAM,CAAC,EAAG,EAAM,GAAI,EAAG,EAAM,GAAI,OAAQ,EAAG,KAAM,QAO5C,GAAqB,CAChC,KAAM,gBACN,KAAM,QACN,QAAS,EACT,SAAU,QACV,OAAQ,CACN,CACE,KAAM,OACN,IAAK,eACL,KAAM,CAAC,WAAY,aAAc,gBACjC,KAAM,WAGV,QAAS,CAAE,OAAQ,CAAC,CAAE,KAAM,QAC5B,UAAW,ICKA,GAAS,IAAM,MAvDJ,SAAC,GAErB,MAWE,EAXG,MACL,EAUE,EAVO,UACT,EASE,EATS,YACX,EAQE,EARW,cACb,EAOE,EAPO,UACT,EAME,EANE,KACA,EAKF,EALQ,GACV,EAIE,EAJO,UACT,EAGE,EAHI,OAKM,EAAqB,EAAZ,KACjB,EAAU,EADmB,EAAL,MAExB,EAAkB,EAAU,GAA1B,EAAM,SAAE,EAAG,MAEb,KAAuB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,IAC9B,GAAqB,IAAlB,EAAO,SAAiB,IAAe,IAAW,EAAU,OAAQ,OAAO,KAC9E,IAAI,EACc,IAAlB,EAAO,OACH,CAAC,EAAU,OAAO,EAAO,GAAG,IAAK,EAAO,EAAO,GAAG,GAAI,EAAa,KAC1D,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,IACZ,EAAU,GACV,KAEJ,IAAG,EAAO,OAAO,KACjB,IAAO,OAAL,QAAK,IAAL,OAAK,EAAL,EAAQ,IAAK,IAAY,OAAL,QAAK,IAAL,OAAK,EAAL,EAAQ,IAAK,EAAQ,OAAO,KAEpD,IAAM,GAAmB,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,aAAc,EAAM,YAAc,MACvD,GAAmB,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,aAAc,EAAM,YAAc,OACvD,EAAU,CAAC,cAAe,aAAc,kBAAmB,wBAAwB,SAAa,OAAJ,QAAI,IAAJ,IAAQ,IACtG,EACA,kBACE,EAAoC,CACxC,CAAa,gBAAZ,EAA4B,EAAM,GAAK,EAAW,EAAM,IACzD,CAAa,eAAZ,EAA2B,EAAM,GAAK,EAAS,EAAM,KAGxD,OACE,kBAAC,IAAM,SAAQ,KACb,kBAAC,IAAI,CACH,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,CAAC,EAAc,GAAG,GAAI,EAAc,GAAG,GAAI,EAAc,GAAG,GAAI,EAAc,GAAG,IACzF,OAAQ,EACR,YAAa,IAEf,kBAAC,IAAM,CAAC,EAAG,EAAM,GAAI,EAAG,EAAc,GAAG,GAAI,OAAQ,EAAG,KAAM,QAMvD,GAAqB,CAChC,KAAM,kBACN,KAAM,QACN,QAAS,EACT,SAAU,QACV,OAAQ,CACN,CACE,KAAM,OACN,IAAK,kBACL,KAAM,CAAC,cAAe,aAAc,mBACpC,KAAM,WAGV,QAAS,CAAE,OAAQ,CAAC,CAAE,KAAM,QAC5B,UAAW,I,mMCdA,GAAa,IAAM,MAxDG,SAAC,GAC1B,MAA6F,EAAxF,MAAE,EAAsF,EAAlF,KAAE,EAAgF,EAAvE,UAAE,EAAqE,EAA1D,YAAE,EAAwD,EAA/C,UAAM,EAAyC,EAAnC,GAAE,EAAiC,EAAxB,UAAU,EAAc,EAAL,OAE1F,EAA+C,EAAU,GAA/C,EAAc,SAAO,EAAW,MAE9C,GAAqB,IAAlB,EAAO,QAAsC,KAAb,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,UAAkB,IAAc,EAAU,OAAQ,OAAO,KAC9F,IAAI,EAAS,EAAU,OAGnB,EACc,IAAlB,EAAO,OACH,EAAO,KAAI,SAAC,GAAO,OAAC,EAAO,EAAG,KAJpB,EAIgC,EAAvB,GAJK,EAAU,EAAG,EAAb,KAAf,IAAC,KAKY,KAAb,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,QACX,EACA,KACJ,IAAG,GAA0B,IAAjB,EAAM,OAAc,OAAO,KACvC,IAAI,GAAmB,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,aAAc,EAAM,YAAc,MACvD,GAAmB,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,aAAc,EAAM,YAAc,OACvD,EAAU,CAAC,OAAQ,YAAa,gBAAgB,SAAa,OAAJ,QAAI,IAAJ,IAAQ,IAAM,EAAO,YAC9E,EAAc,EAAM,GAAG,GAAK,EAAM,GAAG,GAAK,CAAC,EAAM,GAAI,EAAM,IAAM,EACjEC,EAAgB,CAAC,GAAD,GAAK,EAAY,IAAE,SAAO,EAAY,IAAE,IAE5D,GAAc,cAAZ,GAAoC,iBAAT,EAAyB,CAClD,IAAE,EAAK,EAAc,GAAG,GAAK,EAAc,GAAG,GAC5C,EAAK,EAAc,GAAG,GAAK,EAAc,GAAG,GAC5C,EAAQ,EAAK,EACb,EAAa,EAAK,EAAI,EAAc,EACpC,EAAI,EAAc,GAAG,GAAK,EAAQ,EAAc,GAAG,GACnD,GAAc,EAAa,GAAK,EAGlC,GAFJ,EAAc,GAAG,GAAK,EAClB,EAAU,GAAG,GAAK,EACT,iBAAT,EAAyB,CAC3B,IAAM,EAAU,EAAK,EAAI,EAAiB,EACpC,GAAW,EAAU,GAAK,EAChC,EAAc,GAAG,GAAK,EACtB,EAAc,GAAG,GAAK,GAIxB,OACA,kBAAC,EAAAzJ,EAAM,SAAQ,KACb,kBAAC,IAAI,CACH,WAAW,EACX,WAAW,EACX,EAAG,EACH,EAAG,EACH,OAAQ,EAAc,OACtB,OAAQ,EACR,YAAa,IAEf,kBAAC,IAAM,CAAC,EAAG,EAAY,GAAG,GAAI,EAAG,EAAY,GAAG,GAAI,OAAQ,EAAG,KAAM,IACrE,kBAAC,IAAM,CAAC,EAAG,EAAY,GAAG,GAAI,EAAG,EAAY,GAAG,GAAI,OAAQ,EAAG,KAAM,QAO9D,GAAyB,CACpC,KAAM,YACN,KAAM,YACN,QAAS,EACT,SAAU,QACV,OAAQ,CAAC,CAAE,KAAM,OAAQ,IAAK,YAAa,KAAM,CAAC,OAAQ,YAAa,gBAAiB,KAAM,WAC9F,QAAS,CAAE,OAAQ,CAAC,CAAE,KAAM,QAC5B,UAAW,IC/EA,GAA8B,CAAC,GAAO,GAAO,ICiB7C,GAAwB,SAAC,G,YASlC,EAME,EANS,YACX,EAKE,EALM,SACR,EAIE,EAJK,QACP,EAGE,EAHO,UACT,EAEE,EAFM,SACR,EACE,EADkB,qBAEhB,EAA2D,QAAlD,EAA2C,QAA3C,EAA+B,QAA/B,EAAwB,QAAxB,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAY,eAAE,aAAK,eAAG,UAAS,eAAE,aAAK,eAAG,GAC9D,EAAO,GAAkB,KACzB,EAAQ,eACZ,IAAG,EAAM,OAAO,KAuChB,OACA,kBAAC,GAAS,CACJ,IAAC,eAAQ,GACT,OAAI,eAAQ,EAAW,YAAI,GAC3B,UACY,UAAd,EAAK,KACD,kBACc,UAAd,EAAK,KACL,gBACc,cAAd,EAAK,KACL,YACA,OAEF,kBAAc,QACd,UACF,yBACE,MAAO,CACL,OAAQ,oBACiB,UAAvB,EAAM,QAAQ,KAAmB,OAAS,QAE5C,aAAc,IAGhB,kBAAC,KAAI,CACG,KACU,UAAd,EAAK,MACS,UAAd,EAAK,MACS,cAAd,EAAK,KACD,KACA,KAEA,YACA,MAAwB,UAAvB,EAAM,QAAQ,KAAmB,OAAS,OAC3C,OACU,cAAd,EAAK,MAAwB,GAAmB,UAAd,EAAK,KAAmB,GAAK,KAKnE,QAAK,WACD,MAAK,eAAQ,EAAW,YAAI,GACd,OAAd,QAAc,IAApB,KAAuB,IAErB,gBAAa,EAAM,QAAQ,QAAQ,MACnC,UACF,kBAAC,KAAU,CACH,KAAD,QACC,QAAG,SAAC,GACA,EAAN,iBAKM,EAJsC,CAClC,KAAJ,aACI,OAAF,CAAc,YAAD,EAAE,SAAU,EAAG,QAAO,OAK/C,kBAAC,KAAI,CACH,KAAM,KACN,KAAM,EACN,MAA8B,UAAvB,EAAM,QAAQ,KAAmB,OAAS,WAKxC,UAAd,EAAK,KACJ,kBAAC,GAAS,CACR,IAAK,eAAQ,EAAW,eAAO,EAAO,eACtC,OAAQ,eAAQ,EAAW,eAAO,EAAO,eACzC,UAAW,UACX,kBAAkB,QAClB,UACE,kBAAC,GAAK,CACJ,KAAM,KACN,KAAM,OACN,MAA8B,UAAvB,EAAM,QAAQ,KAAmB,OAAS,SAGrD,UACE,kBAAC,KAAS,CACR,QAAQ,WACR,OAAO,OACP,KAAK,QACL,WAAY,CAAE,MAAO,CAAE,QAAS,EAAG,MAAO,KAC1C,aAAc,EAAK,GAAG,GAAG,GACzB,SAAU,SAAC,GACT,IAAM,EAAM,WAAW,EAAE,OAAO,OAC5B,MAAM,IACV,EAAS,CACP,KAAM,cACN,OAAQ,CACN,KAAM,cACN,YAAW,EACX,SAAU,EACV,QAAO,EACP,SAAU,UAOpB,KACH,EAAK,OACF,EAAK,OAAO,KAAI,SAAC,EAAY,G,QACrB,EAEI,QAFgB,EAEzB,QAFyB,KAAa,MACrC,SAAC,GAAY,SAAQ,OAAS,EAAjB,eACd,eAAE,eAAO,eAAE,OACN,EAAO,EACT,EAAkB,GAAU,KAC5B,KACJ,OACE,kBAAC,GAAS,CACR,IAAK,gBAAS,EAAW,gBAAQ,EAAO,aAAK,GAC7C,OAAQ,gBAAS,EAAW,gBAAQ,EAAO,aAAK,GAChD,UAAW,EAAM,KACjB,kBAAkB,QAClB,UACE,kBAAC,GAAK,CACJ,KAAM,EACN,KAAM,OACN,MAA8B,UAAvB,EAAM,QAAQ,KAAmB,OAAS,SAGrD,UACiB,WAAf,EAAM,KACJ,kBAAC,KAAM,CACL,KAAK,QACL,OAAO,OACP,mBAAoB,CAClB,MAAO,CAAE,WAAY,EAAG,cAAe,IAGzC,MAAO,EAAM,IACb,SAAU,SAAC,GACT,IAAM,EAAW,EAAE,OAAO,MAC1B,EAAS,CACP,KAAM,cACN,OAAQ,CACN,KAAM,YACN,YAAW,EACX,SAAQ,EACR,QAAO,EACP,aAAc,EACd,SAAQ,OAKb,EAAM,KAAK,KAAI,SAAC,EAAgB,GAAsB,OACrD,kBAAC,KAAQ,CACP,IAAK,gBAAS,EAAW,gBAAQ,EAAO,aAAK,EAAQ,aAAK,GAC1D,MAAO,GAH4C,OASxC,WAAf,EAAM,KACR,kBAAC,KAAS,CACR,QAAQ,WACR,OAAO,OACP,KAAK,QACL,WAAY,CAAE,MAAO,CAAE,QAAS,EAAG,SAAU,KAC7C,MAAO,EAAM,IACb,SAAU,SAAC,GACT,IAAM,EAAW,WAAW,EAAE,OAAO,OACjC,MAAM,IACV,EAAS,CACP,KAAM,cACN,OAAQ,CACN,KAAM,YACN,YAAW,EACX,SAAQ,EACR,QAAO,EACP,aAAc,EACd,SAAQ,aAKd,OAKZ,KA9Ne,SAAC,GAAsB,OAC5C,CACQ,oBACA,UACA,MAAC,EAAK,MAAM,YACZ,gBAAW,SAAC,GACR,EAAC,CACG,KAAJ,cACN,OAAQ,CACN,KAAM,cACN,YAAW,EACX,SAAU,EACV,QAAO,EACP,SAAU,OAKlB,CACQ,oBACA,UACA,MAAC,EAAK,MAAM,YACZ,gBAAW,SAAC,GACR,EAAC,CACG,KAAJ,cACI,OAAF,CACN,KAAM,cACN,YAAW,EACX,SAAU,EACV,QAAO,EACP,SAAU,QAiMf,CAAe,GAAM,KAAI,SAAC,EAAgB,GAAU,OACnD,kBAAC,GAAmB,CAClB,OAAQ,yCAAkC,EAAW,aAAK,EAAQ,aAAK,EAAO,aAAK,GACnF,IAAK,yCAAkC,EAAW,aAAK,EAAQ,aAAK,EAAO,aAAK,GAChF,MAAO,EAAe,MACtB,SAAU,EAAe,KACzB,KAAM,EAAe,KACrB,gBAAiB,EAPgC,uB,+hBCtP9C,GAAmB,IAAM,YACpC,SAAC,EAA8B,GAE3B,MAOE,EAPS,YACX,EAME,EANO,UACT,EAKE,EALE,KACJ,EAIE,EAJM,SACR,EAGE,EAHc,iBAChB,EAEE,EAFiB,oBAChB,EAAK,GACN,EARE,wFASA,EAAQ,eACR,EAAW,EAAU,GAE3B,OACE,kBAAC,GAAS,IACR,IAAK,GACD,EAAK,CACL,IAAC,cAAO,GACZ,OAAQ,cAAO,GACX,UAAuB,IAAhB,EAAoB,YAAc,mBAAY,GACrD,gBAAa,EAAM,QAAQ,QAAQ,MACnC,QAAK,WACD,MAAK,cAAO,GACF,OAAV,QAAU,IAAhB,KAAmB,IAEjB,UACF,kBAAC,GAAK,CACJ,KAAM,KACN,KAAM,OACN,MAAO,EAAM,QAAQ,UAAU,aAC/B,WAAY,EAAM,QAAQ,UAAU,OAGpC,UACc,IAAhB,EACE,kBAAC,IAAM,SAAQ,KACZ,EACD,kBAAC,KAAU,CACT,KAAK,QACL,QAAS,SAAC,GACR,EAAE,iBAKF,EAJkD,CAChD,KAAM,iBACN,OAAQ,CAAE,YAAW,OAKzB,kBAAC,QAAI,CACH,KAAM,KACN,KAAM,EACN,MAA8B,UAAvB,EAAM,QAAQ,KAAmB,OAAS,gBAIrD,IAGL,EAAS,MAAM,GAAG,OAAO,KAAI,SAAC,EAAO,GACpC,SAAmB,GACjB,kBAAC,GAA0B,CACzB,IAAK,4BAAqB,EAAW,kBAAU,EAAC,kBAAU,GAC1D,UAAW,EACX,SAAU,EACV,YAAa,EACb,SAAU,EACV,SAAU,EACV,qBAAsB,EACtB,KAAM,IAEN,EAAe,GACjB,kBAAC,GAA2B,CAC1B,IAAK,oBAAa,EAAW,cAAM,EAAC,kBAAU,EAAQ,SACtD,UAAW,EACX,SAAU,EACV,YAAa,EACb,SAAU,EACV,SAAU,EACV,iBAAkB,EAClB,KAAM,IAEN,QAGL,EAAS,MAAM,GAAG,MAAM,OAAS,EAChC,kBAAC,GAAS,CACR,IAAK,gBAAS,EAAW,OACzB,OAAQ,gBAAS,EAAW,OAC5B,UACE,yBACE,MAAO,CACL,WAAY,EAAM,QAAQ,QAAQ,KAClC,MAAO,GACP,OAAQ,GACR,OAAQ,iBACR,aAAc,EACd,YAAa,KAGf,kBAAC,QAAI,CACH,KAAM,KACN,KAAM,OACN,MAAO,EAAM,QAAQ,UAAU,gBAIrC,UAAU,QACV,QAAS,WACP,IAAM,EAAK,gBAAS,EAAW,OACf,OAAhB,QAAgB,IAAhB,KAAmB,KAGpB,EAAS,MAAM,GAAG,MAAM,KAAI,SAAC,EAAM,GAAY,OAC9C,kBAAC,GAAqB,CACpB,IAAK,uBAAgB,EAAW,kBAAU,EAAC,iBAAS,GACpD,UAAW,EACX,SAAU,EACV,YAAa,EACb,SAAU,EACV,QAAS,EACT,qBAR4C,QAYhD,SAKZ,GAAiB,YAAc,mB,qNCpHlB,GAAe,SAAC,GAA8C,OACzE,kBAAC,GAAK,CACJ,KAAM,EAAM,SACR,KAAE,OACF,MAAG,EAAM,MAAM,QAAQ,KAAK,QAC5B,MAAG,CAAE,WAAY,EAAM,MAAM,QAAQ,IACzC,OAAqC,UAA7B,EAAM,MAAM,QAAQ,KAAmB,sBANwB,KAU9D,GAAa,SAAC,GAUrB,IAAF,EAOE,EAPO,UACT,EAME,EANQ,WACV,EAKE,EALM,SACR,EAIE,EAJc,iBAChB,EAGE,EAHY,eACd,EAEE,EAFG,MACL,EACE,EADE,KAEA,EAAQ,eACR,EAA0B,IAAM,SAA6B,MAA5D,EAAQ,KAAE,EAAW,KAKtB,EAAc,SAAC,GACf,EAAQ,MACR,IAAkB,OAAV,QAAU,IAAV,KAAa,KAGrB,EAAmE,CACvE,CAAM,cAAM,GACZ,CAAM,SAAM,QAAS,KAAM,MAC3B,CAAM,SAAM,QAAS,KAAM,MAC3B,CAAM,SAAM,OAAQ,KAAM,MAC1B,CAAM,SAAM,YAAa,KAAM,OAE3B,EAAkB,CACtB,CACM,OAAI,UACR,UAAW,mBACX,SAAU,KACN,UACF,kBAAC,GAAW,CACV,MAAO,EAAM,gBACb,gBAAiB,SAAC,GAChB,EAAS,CACP,KAAM,iBACI,OAAF,CAAE,KAAM,kBAAmB,SAAU,SAMvD,CACM,SAAM,QACN,OAAI,iBACJ,UAAO,aACP,SAAM,KACN,UACF,kBAAC,GAAW,CACJ,MAAC,EAAM,MAAM,UACb,gBAAW,SAAC,GAChB,EAAS,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,iBAAkB,SAAU,SAMtD,CACM,SAAM,QACN,OAAI,mBACJ,UAAO,eACP,SAAM,KACV,UACE,kBAAC,GAAW,CACV,MAAO,EAAM,MAAM,YACnB,gBAAiB,SAAC,GAChB,EAAS,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,mBAAoB,SAAU,SAMxD,CACE,SAAU,QACN,OAAI,iBACJ,UAAO,aACP,SAAM,KACN,UACF,kBAAC,GAAW,CACJ,MAAC,EAAM,MAAM,UACb,gBAAW,SAAC,GACR,EAAC,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,iBAAkB,SAAU,SAMtD,CACM,SAAM,QACN,OAAI,mBACJ,UAAO,eACP,SAAM,KACN,UACF,kBAAC,GAAW,CACV,MAAO,EAAM,MAAM,YACnB,gBAAiB,SAAC,GAChB,EAAS,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,mBAAoB,SAAU,SAMxD,CACM,SAAM,QACV,OAAQ,iBACR,UAAW,aACP,SAAM,KACN,UACF,kBAAC,GAAW,CACV,MAAO,EAAM,MAAM,UACnB,gBAAiB,SAAC,GACR0J,EAAC,CACGC,KAAJ,iBACIC,OAAF,CAAE,KAAM,iBAAkB,SAAU,SAMtD,CACM,SAAM,OACN,OAAI,WACJ,UAAO,kBACP,SAAM,KACN,UACF,kBAAC,KAAQ,CACD,QAAG,EAAM,KAAK,SACd,KAAD,QACC,MAAC,CAAE,QAAS,EAAG,MAAO,GAAI,OAAQ,IAClC,SAAI,WACR,EAAS,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,qBAM1B,CACM,SAAM,OACN,OAAI,WACJ,UAAO,kBACP,SAAM,KACV,UACE,kBAAC,KAAQ,CACP,QAAS,EAAM,KAAK,SACpB,KAAK,QACL,MAAO,CAAE,QAAS,EAAG,MAAO,GAAI,OAAQ,IACxC,SAAU,WACR,EAAS,CACP,KAAM,iBACI,OAAF,CAAE,KAAM,qBAM1B,CACM,SAAM,OACN,OAAI,kBACJ,UAAO,eACP,SAAM,KACN,UACF,kBAAC,GAAW,CACJ,MAAC,EAAM,KAAK,YACZ,gBAAW,SAAC,GACR,EAAC,CACG,KAAJ,iBACN,OAAQ,CAAE,KAAM,kBAAmB,SAAU,SAMvD,CACM,SAAM,YACN,OAAI,eACJ,UAAO,gBACP,SAAM,KACN,UACF,kBAAC,KAAQ,CACD,QAAG,EAAM,UAAU,aACzB,KAAK,QACL,MAAO,CAAE,QAAS,EAAG,MAAO,GAAI,OAAQ,IACxC,SAAU,WACR,EAAS,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,yBAM1B,CACE,SAAU,YACV,OAAQ,uBACR,UAAW,eACX,SAAU,KACV,UACE,kBAAC,GAAW,CACJ,MAAC,EAAM,UAAU,YACjB,gBAAW,SAAC,GACR,EAAC,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,uBAAwB,SAAU,SAM5D,CACM,SAAM,YACN,OAAI,6BACJ,UAAO,sBACP,SAAM,KACN,UACF,kBAAC,GAAW,CACV,MAAO,EAAM,UAAU,uBACvB,gBAAiB,SAAC,GACR,EAAC,CACP,KAAM,iBACN,OAAQ,CACN,KAAM,kCACN,SAAU,SAOtB,CACM,SAAM,YACN,OAAI,8BACJ,UAAO,wBACP,SAAM,KACN,UACF,kBAAC,GAAW,CACJ,MAAC,EAAM,UAAU,mBACjB,gBAAW,SAAC,GACR,EAAC,CACP,KAAM,iBACI,OAAF,CAAE,KAAM,8BAA+B,SAAU,SAMnE,CACM,SAAM,YACN,OAAI,4BACJ,UAAO,sBACP,SAAM,KACN,UACF,kBAAC,GAAW,CACJ,MAAC,EAAM,UAAU,iBACjB,gBAAW,SAAC,GACR,EAAC,CACG,KAAJ,iBACI,OAAF,CAAE,KAAM,4BAA6B,SAAU,SAMjE,CACE,SAAU,YACV,OAAQ,6BACR,UAAW,sBACX,SAAU,KACV,UACE,kBAAC,GAAW,CACV,MAAO,EAAM,UAAU,uBACvB,gBAAiB,SAAC,GAChB,EAAS,CACP,KAAM,iBACN,OAAQ,CACN,KAAM,kCACN,SAAU,SAOtB,CACE,SAAU,YACV,OAAQ,8BACR,UAAW,wBACX,SAAU,KACV,UACE,kBAAC,GAAW,CACV,MAAO,EAAM,UAAU,mBACvB,gBAAiB,SAAC,GAChB,EAAS,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,8BAA+B,SAAU,SAMnE,CACE,SAAU,YACV,OAAQ,4BACR,UAAW,sBACX,SAAU,KACV,UACE,kBAAC,GAAW,CACV,MAAO,EAAM,UAAU,iBACvB,gBAAiB,SAAC,GAChB,EAAS,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,4BAA6B,SAAU,UAQnE,OACE,kBAAC,IAAM,SAAQ,KACb,kBAAC,K,CACC,UAAU,MACV,WAAW,SACX,eAAe,WACf,GAAI,CAAE,GAAI,KAEV,kBAAC,KAAM,CACL,MAAO,CACL,OAAQ,iBACR,aAAc,GACd,QAAS,EACT,cAAe,OACf,WAAY,EAAM,QAAQ,UAAU,MACpC,MAAO,EAAM,QAAQ,UAAU,cAEjC,QA/UY,SAAC,GACf,EAAQ,EAAM,iBAgVZ,kBAAC,IAAU,iBAEb,kBAAC,KAAI,CACH,GAAG,YACH,SAAU,EACV,aAAW,EACX,KAAM,QAAQ,GACd,QAAS,WAAM,kBACf,aAAc,CACZ,SAAU,SACV,WAAY,SAEd,gBAAiB,CACf,SAAU,MACV,WAAY,UAGd,kBAAC,KAAQ,CAAC,QAAS,WAAM,yBAAyB,aAGlD,kBAAC,KAAQ,CAAC,QAAS,WAAM,oBAAoB,UAGjD,kBAAC,GAAS,CAAC,SAAU,EAAe,iBAClC,kBAAC,GAAS,CACR,OAAO,IACP,UAAU,UACV,UACE,kBAAC,GAAK,CACJ,KAAM,KACN,KAAM,OACN,MAAO,EAAM,QAAQ,UAAU,aAC/B,WAAY,EAAM,QAAQ,UAAU,OAGxC,gBAAiB,EAAM,QAAQ,QAAQ,MACvC,kBAAkB,KAClB,QAAS,WAES,OAAhB,QAAgB,IAAhB,KADW,OAIZ,EAAyB,KAAI,SAAC,EAAK,G,MAClC,OAAC,EAAI,SAgBH,kBAAC,GAAS,CACR,OAAQ,wCAAiC,GACzC,IAAK,wCAAiC,GACtC,UAAuB,QAAZ,IAAI,gBAAQ,QAAI,GAC3B,UACE,kBAAC,GAAK,CACJ,KAAM,EAAI,KACV,KAAM,OACN,MAAO,EAAM,QAAQ,UAAU,aAC/B,WAAY,EAAM,QAAQ,QAAQ,OAGtC,QAAS,WACS,OAAhB,QAAgB,IAAhB,KAAmB,wCAAiC,MAGrD,EACE,QAAO,SAAC,GAAY,SAAQ,WAAa,EAArB,YACpB,KAAI,SAAC,GAAY,OAChB,kBAAC,GAAS,CACR,IAAK,wCAAiC,EAAI,YAAI,EAAQ,QACtD,OAAQ,wCAAiC,EAAI,YAAI,EAAQ,QACzD,UAAW,EAAQ,UACnB,kBAAkB,QAClB,UAAW,EAAQ,UACnB,UACE,kBAAC,GAAY,CACX,SAAU,EAAQ,SAClB,MAVU,UAjCtB,EACG,QAAO,SAAC,GAAY,SAAQ,WAAa,EAArB,YACpB,KAAI,SAAC,GAAY,OAChB,kBAAC,GAAS,CACR,IAAK,wCAAiC,EAAI,YAAI,EAAQ,QACtD,OAAQ,wCAAiC,EAAI,YAAI,EAAQ,QACzD,UAAW,EAAQ,UACnB,kBAAkB,QAClB,UAAW,EAAQ,UACnB,UACE,kBAAC,GAAY,CAAC,SAAU,EAAQ,SAAU,MAR9B,aAkD1B,kBAAC,GAAgB,CACf,UAAW,EACX,KAAM,EACN,YAAa,EACb,SAAU,EACV,iBAAkB,IAEpB,kBAAC,K,CAEC,UAAW,SAAC,G,OACU,QAAf,IAAI,mBAAW,eAAE,QACtB,EAAS,CACP,KAAM,gBACN,OAAQ,CACN,aAAc,EAAI,OAAO,MACzB,aAAc,EAAI,YAAY,WAKpC,kBAAC,KAAS,CAAC,YAAY,cACpB,SAAC,EAAe,GAAkB,OACjC,kBAAC,KAAG,MACE,EAAS,eAAc,CAC3B,IAAK,EAAS,SACd,GAAI,CACF,WAAY,EAAS,eACjB,EAAM,QAAQ,QAAQ,MACtB,cACJ,qBAAsB,EAAM,QAAQ,GACpC,wBAAyB,EAAM,QAAQ,MAGxC,EAAU,MAAM,GAAG,KAAI,SAAC,EAAU,GACjC,IAAM,EAAc,EAAqB,EACzC,OACE,kBAAC,KAAS,CACR,IAAK,cAAO,GACZ,YAAa,cAAO,GACpB,MAAO,IAEN,SAAC,EAAU,GACV,OACE,kBAAC,GAAgB,IACf,UAAW,EACX,KAAM,EACN,YAAa,EACb,SAAU,EACV,iBAAkB,EAClB,IAAK,EAAS,UACV,EAAS,eAAc,CAC3B,oBACE,kBAAC,KAAU,IACT,KAAK,SACD,EAAS,iBAEb,kBAAC,QAAI,CACH,KAAM,KACN,KAAM,EACN,MACyB,UAAvB,EAAM,QAAQ,KACV,OACA,mBAWvB,EApD8B,oB,+OCpgBzC,GAAQ,IAAM,YAAuC,SAAe,EAAO,GAC7E,OAAK,kBAAC,KAAQ,IAAC,UAAW,EAAG,IAAK,EAAK,QAAQ,UAAa,OAGnD,GAAY,SAAC,GAQhB,MAAgE,EAA5D,KAAE,EAA0D,EAAnD,QAAE,EAAiD,EAA1C,QAAE,EAAwC,EAApC,KAAE,EAAkC,EAAb,iBAArB,OAAgB,MAAC,IAAI,EAAG,EAAU,EAAJ,OAE9D,EAAc,SAAC,EAA8B,GAClC,cAAX,IAEG,OAAH,QAAG,IAAP,SAGA,OACA,kBAAC,KAAQ,CACP,aAAc,CAAE,SAAU,SAAU,WAAY,UAChD,KAAM,EACN,iBAAkB,EAClB,QAAS,EACT,GAAI,CAAE,OAAQ,UAAG,IAAM,EAAS,GAAK,GAAG,EAAM,iBAAiB,MAAO,QAEtE,kBAAC,GAAK,CAAC,SAAU,EAAM,QAAS,GAC7B,K,wiDCXH,SAAgB,GAAgB,G,4FACnB,SAAM,EAAK,OAAO,MAAK,SAAC,G,wBACjC,EAAe,CACnB,CAAE,MAAO,KAAM,IAAqC,QAAhC,EAAwB,QAAxB,IAAW,MAAM,eAAO,eAAE,cAAM,QAAI,GACxD,CAAE,MAAO,KAAM,IAAqC,QAAhC,EAAwB,QAAxB,IAAW,MAAM,eAAO,eAAE,cAAM,QAAI,GACxD,CAAE,MAAO,OAAQ,IAAuC,QAAlC,EAA0B,QAA1B,IAAW,MAAM,iBAAS,eAAE,cAAM,QAAI,IAExD,EAAmB,EAAa,KAAI,SAAC,GAAQ,gBAI7C,EAAsB,EAHE,EAAiB,QAC7C,KAAK,IAAG,MAAR,KAAY,KAEkD,MAC1D,EAAO,EAAW,MAAM,GAGxB,EAAY,CAChB,CAAE,MAAO,IAAK,IAAiC,QAA5B,EAAoB,QAApB,IAAK,GAAG,MAAM,cAAM,eAAE,cAAM,QAAI,GACnD,CAAE,MAAO,IAAK,IAAiC,QAA5B,EAAoB,QAApB,IAAK,GAAG,MAAM,cAAM,eAAE,cAAM,QAAI,IAE/C,EAAgB,EAAU,KAAI,SAAC,GAAQ,gBAIvC,EAAmB,EAHE,EAAc,QACvC,KAAK,IAAG,MAAR,KAAY,KAEyC,MAGjD,EAAY,CAAE,KAAM,EAAG,OAAQ,GACrC,EAAK,SAAQ,SAAC,GACZ,EAAI,MAAM,GAAkB,SAAQ,SAAC,GACnC,IAAM,EAAU,EAAI,YAAY,KAC1B,EAAY,EAAI,YAAY,MACjB,IAAb,IAAiC,IAAf,EAChB,EAAU,EAAW,EAAU,OAC9B,EAAU,UACO,IAAb,IAAiC,IAAf,EAAkB,EAAU,QACnC,IAAb,IAAiC,IAAf,GAAkB,EAAU,eAG3D,IAAM,EAAgB,EAAU,KAAO,EAAU,OAC3C,EACJ,EAAU,KAAO,EAAU,QAAU,EAAU,OAAS,EAEpD,EAAgB,EAClB,EAAW,WAAW,IAAK,IAAI,WAAW,IAAK,KAC/C,EACA,EAAW,WAAW,IAAK,IAC3B,EAEE,EAAW,KAAM,EAAc,OAAQ,CAC7B,UAAH,EACG,iBAAI,EACJ,MAAR,EACQ,MAAR,EACQ,WAAH,IACV,KAAI,SAAC,GAAmB,MAAC,CACV,KAAV,EAAQ,GACE,KAAV,EAAQ,GACE,KAAV,EAAQ,GACE,IAAX,EAAQ,GACG,MAAT,EAAQ,GACC,OAAR,EAAQ,OAGN,OADA,EAAH,QACF,M,OAEC,MAAV,GAhEiB,iBAmEZ,I,GAAM,GAAU,SAAC,GACZ,IAAF,EAAa,EAAL,SACV,EAAwB,IAAM,SAElC,IAFK,EAAO,KAAE,EAAU,KAIpB,EAAQ,eACR,EAAoD,EAAA5J,EAAM,OAAO,MACjE,EAA0C,EAAAA,EAAM,UAAS,GAAxD,EAAgB,KAAE,EAAmB,KACtC,EAAsB,IAAM,SAAS,IAApC,EAAM,KAAE,EAAS,KA0CtB,SAAa,I,wGAGC,G,uBAAP,EAAQ,MAAM,IAAI,MAAM,oBAChB,SAAM,MAAM,I,OACb,KADM,EAAL,UACF,MAAM,IAAI,MAAM,+BAEP,SAAM,GADb,I,cACK,EAAE,SACF,IAAO,UACvB,EAAO,YAAY,KAAO,EAC1B,EAAO,YAAY,MAGT,EAAH,CACO,KAAR,cACQ,OAAN,CAAE,YAAW,EAAE,UAAS,EAAE,OAAO,EAAM,GAAI,UAEzC,GAAD,SAAC,GAAY,gBACnB,GAAO,IACV,CAAE,KAAM,UAAW,KAAM,+BAFH,MAIZ,GAAQ,G,+BAER,QAAJ,MACN,uEACA,GAEU,GAAD,SAAC,GAAY,gBACnB,GAAO,IACV,CAAkB,KAAV,QAAS,KAAM,WAAa,KAFd,M,8BAU1B,IAAI,EAAuB,IAAM,aAAY,WAC7C,GAAoB,KACnB,CAAC,IACE,EAAuB,IAAM,aAAY,WACzC,GAAgB,KACnB,CAAC,IACE,EAAiB,IAAM,aAAY,W,QACT,QAA9B,EAAuB,QAAvB,EAAc,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,eAAO,eAAE,aAAK,mBAC7B,CAAC,IAEF,OACA,kBAAC,IAAM,SAAQ,KACZ,EAAQ,OAAS,EACd,EAAQ,KAAI,SAAC,EAAK,G,MACZ,OACF,kBAAC,GAAS,CACF,IAAD,cAAO,GACN,iBAAY,IAClB,KAAc,QAAR,IAAI,YAAI,QAAI,QACZ,OAAQ,OAAS,EACjB,QAAG,WACC,OAAR,GAAW,SAAC,GACV,OAAmB,IAAnB,EAAQ,OAAe,GAAK,EAAQ,OAAO,OAGzC,QAAG,EAAI,KACP,OAAE,OAId,KAEJ,2BACM,KAAC,OACD,MAAG,CACC,WAAM,SACN,SAAI,WACJ,IAAD,EACC,OAAE,EACF,MAAC,GAEL,IAAC,EACD,SAvHR,SACA,G,wGAGY,KADM,EAAJ,EAAI,OAAO,OACb,U,KACR,EAAM,OAAS,GAAf,Y,iBAEoB,O,sBAAA,GAAM,GAAgB,EAAM,K,cAA1C,EAAc,SACF,IAAM,GAAG,KAAK,OAC9B,EACA,EAAM,GAAG,KAAK,YAAY,MAGhB,EAAH,CACO,KAAR,cACQ,OAAN,CAAE,YAAW,EAAE,UAAS,EAAE,OAAO,EAAM,GAAI,UAEzC,GAAD,SAAC,GAAY,gBACnB,GAAO,IACV,CAAkB,KAAV,UAAW,KAAM,+BAFH,M,+BAKZ,QAAJ,MAAM,8CAA+C,GACjD,GAAD,SAAC,GAAY,gBACnB,GAAO,IACV,CACE,KAAM,QACN,KAAM,iDAJc,M,iCAkG1B,kBAAC,KAAI,CAAK,IAAE,GAAI,IACd,kBAAC,GAAiB,CAChB,KAAK,kBACL,GAAG,IACH,SAAU,KACV,UAAW,EAAM,QAAQ,UAAU,aACnC,QAAS,IAEX,kBAAC,GAAiB,CAChB,KAAK,eACL,GAAG,IACH,SAAU,KACV,UAAW,EAAM,QAAQ,UAAU,aACnC,QAAS,IAEV,EACC,6BACE,kBAAC,KAAS,CACR,WAAW,kBACX,WAAS,EACL,QA1GM,SAAC,GACP,UAAV,EAAE,KAA8B,UAAX,EAAE,MACzB,KAyGY,MAAG,EACH,SAAM,SAAC,GAAW,SAAU,EAAE,OAAZ,QAClB,IAAE,EAAG,EAAG,GAAI,EAAG,UAAW,cAC9B,WAAY,CACV,GAAI,CAAE,UAAW,aAAc,GAAI,GACnC,aACE,kBAAC,KAAc,CAAC,SAAS,OACvB,kBAAC,KAAK,CAAC,UAAU,OACf,kBAAC,KAAU,CAAC,QAAS,EAAiB,KAAK,SACzC,kBAAC,QAAI,CAAC,KAAM,KAAoB,KAAM,KAExC,kBAAC,KAAU,CAAC,QAAS,GACnB,kBAAC,QAAI,CAAC,KAAM,KAAU,KAAM,WAQxC,Q,oBCvPC,GAAoB,SAAC,GAOtB,IAAF,EAA+D,EAAvD,SAAE,EAAqD,EAAvC,eAAE,EAAqC,EAAhC,MAAE,EAA8B,EAApB,WAAE,EAAkB,EAAL,cAChE,OACA,kBAAC,K,CACK,UAAM,MACN,WAAO,SACP,eAAW,WACX,IAAE,GAAI,KAET,EACA,EAAgB,EACf,kBAAC,KAAiB,CAAC,MAAO,sBAAuB,WAAS,EAAC,KAAK,SAC9D,kBAAC,KAAY,CACP,MAAE,eACF,IACI,UAAK,CACT,WACe,eAAb,EACI,EAAM,QAAQ,UAAU,MACxB,EAAM,QAAQ,WAAW,MACvB,UAAG,EACX,gBACE,yEAEJ,uBAAwB,GACxB,cAAe,OACf,oBAAqB,GACrB,WACe,eAAb,EACI,EAAM,QAAQ,UAAU,MACxB,EAAM,QAAQ,WAAW,MAC/B,gBACE,yEAEJ,QAAS,WACG,OAAV,QAAU,IAAV,KAAa,gBAGf,kBAAC,IAAU,cAEb,kBAAC,KAAY,CACX,MAAM,gBACN,GAAI,CACF,UAAW,CACT,WACe,kBAAb,EACI,EAAM,QAAQ,UAAU,MACxB,EAAM,QAAQ,WAAW,MAC/B,UAAW,EACX,gBACE,yEAEJ,wBAAyB,GACzB,qBAAsB,GACtB,WACe,kBAAb,EACI,EAAM,QAAQ,UAAU,MACxB,EAAM,QAAQ,WAAW,MAC/B,gBACE,yEAEJ,QAAS,WACG,OAAV,QAAU,IAAV,KAAa,mBACd,SAKH,OCxFG,GAAyB,CAClC,KAAI,MACJ,SAAQ,UACR,OAAM,CACN,CAAE,KAAM,SAAU,IAAK,IACvB,CAAE,KAAM,gBAAiB,SAAK,IAE9B,QAAO,CACH,OAAI,CACN,CAAE,KAAM,SAAU,IAAK,IACvB,CAAE,KAAM,gBAAiB,SAAK,IAEhC,aAAa,GAGb,WAAU,CAAC,CAAE,KAAM,SACnB,gBAAe,aACf,YAAW,SAAC,GAoBR,I,MAbe,EAAuD,EAA3C,UAAE,EAAyC,EAAjC,SAAE,EAA+B,EAApB,OAAX,OAAM,MAAG,GAAE,EAAE,EAAkB,EAAL,cAC/D,EAAyC,kBAAlB,EAA6B,EAAgB,QACpE,EAAuC,kBAAlB,EAA6B,EAAgB,EAClE,EAAW,SAAC,G,MACR,OAAC,EAAqB,GAC1B,KAAiB,EACd,EAAQ,GACT,EAAO,MACT,EAAqB,KACP,QAAd,IAAQ,cAAM,eAAG,KACjB,GAEA,EAAuC,GAAsB,GAC1D,EAAyB,QAArB,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,cAAM,QAAI,EAAG,EAAI,EAAa,OAAQ,IAC1D,GAAF,EAAI,EAAS,EACP,EAAM,KAAK,CAAE,OAAQ,CAAC,MAAO,KAAM,EAAa,GAAG,YAEtD,GAAI,IAAM,EAAS,EAAG,CAEnB,IADA,IAAJ,EAAU,EACL,EAAI,EAAG,EAAI,EAAQ,IAAK,CAG/B,GADc,EADE,EAAa,IAIvB,GAAG,EACH,EAAM,KAAK,CAAE,OAAQ,CAAC,GAAU,KAAM,EAAa,GAAG,WACzD,CACG,IAAF,EAAa,GAAK,EAAS,GAG3B,GADQ,EADE,EAAa,IAGjB,EAAc,EAAI,GAAG,OAAO,IAAiB,EACtD,EAAc,EAAI,GAAG,OAAO,GAC/B,EAAc,KAAK,CAAE,OAAQ,CAAC,GAAM,KAAM,EAAa,GAAG,OAG9D,OAAO,I,qmBCrDE,GAAyB,CACpC,KAAM,MACN,SAAU,aACV,OAAQ,CAAC,CAAE,KAAM,SAAU,IAAK,KAC9B,QAAO,CACP,OAAQ,CAAC,CAAE,KAAM,SAAU,IAAK,KAChC,aAAa,EACb,SAAU,EACV,YAAa,CAAC,EAAG,KACjB,WAAY,CAAC,CAAE,KAAM,gBAAiB,IAAK,CAAE,MAAO,GAAI,MAAO,OAE/D,WAAU,CAAC,CAAE,KAAM,SACnB,gBAAe,cAEf,YAAW,SAAC,GAQR,I,YAFe,EAAwC,EAA5B,UAAE,EAA0B,EAAlB,SAAE,EAAgB,EAAL,OAAX,OAAM,MAAG,GAAE,EAChD,EAAsC,GAAsB,GACzD,EAAI,EAAS,OAAQ,EAAI,EAAa,OAAQ,IACrD,GAAU,IAAN,EAAJ,CAIM,MAAU,EAAa,GACvB,EAAW,EAAa,EAAI,GAC5B,EAAS,EAAQ,MAAQ,EAAS,MAClC,EAAK,EAAS,EAAI,EAAS,EAC3B,EAAM,EAAS,GAAK,EAAS,EAC7B,EAAI,EAAI,EACR,EAAmE,QAAlD,EAA0C,QAA1C,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,GAA6B,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,QAAS,UAAE,eAAE,cAAM,eAAG,GACtE,EAAoE,QAAlD,EAA0C,QAA1C,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,GAA6B,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,QAAS,UAAE,eAAE,cAAM,eAAG,GACvE,GAAF,EAAI,GAAU,EAAU,IAAmB,EAAU,GACvD,EAAc,KAAK,CAAE,OAAQ,CAAC,KAAM,EAAI,GAAM,KAAM,EAAa,GAAG,WADhE,CAIA,MAAa,EAAK,GAAK,EAAI,GAAK,EAChC,EAAc,EAAM,GAAK,EAAI,GAAK,EAClC,EAAsB,IAAhB,EAAoB,IAAM,IAAM,KAAO,EAAI,EAAa,GAC9D,EAAQ,KAAK,CAAE,OAAQ,CAAC,EAAK,EAAY,GAAc,KAAM,EAAa,GAAG,aAlBjF,EAAc,KAAK,CAAE,OAAQ,CAAC,KAAM,KAAM,MAAO,KAAM,EAAa,GAAG,OAoBvE,OAAG,I,sYClDE,GAA0B,CACnC,KAAI,OACJ,SAAQ,UACR,OAAM,CACN,CAAE,KAAM,WAAY,IAAK,IACzB,CAAE,KAAM,gBAAiB,IAAK,GAC9B,CAAE,KAAM,gBAAiB,IAAK,KAEhC,QAAS,CACP,OAAQ,CACN,CAAE,KAAM,WAAY,IAAK,IACzB,CAAE,KAAM,gBAAiB,IAAK,GAC9B,CAAE,KAAM,gBAAiB,IAAK,KAE5B,aAAS,GAGb,WAAU,CAAC,CAAE,KAAM,SACnB,gBAAe,aACf,YAAW,SAAC,G,MAQC,EAKT,EALqB,UACvB,EAIE,EAJM,SACR,EAGE,EAHW,SAAb,OAAQ,MAAG,GAAE,EACb,EAEE,EAFe,cAAjB,OAAa,MAAG,EAAC,EACjB,EACE,EADgB,cAAlB,OAAa,MAAG,GAAE,EAEd,EAAa,MAA8B,GAAQ,GA2DzD,OAzDI,EACD,MAAsB,QAAhB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,cAAM,QAAI,GAC1B,SAAQ,SAAC,EAAY,G,cACd,EAAM,GAAiC,QAAhB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,cAAM,QAAI,GAC3C,EAAiB,CACrB,OAAQ,CAAC,MACT,KAAM,EAAW,MAEnB,GAAI,EAAM,EAAW,EAAI,EACvB,EAAc,KAAK,OADrB,CAIM,MAAU,EAAa,GACvB,EAAkB,SACtB,G,MAEQ,OAAR,EAAU,GACN,KACA,EAAqB,GACrB,EAAQ,MACR,EAAqB,GACP,QAAd,IAAQ,cAAM,eAAG,GACjB,MACA,EAAQ,EAAgB,GAC9B,GAAK,EAAL,CAIM,MAAS,KAAK,IAClB,GAA4D,QAAlD,EAAD,EAA4B,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAe,EAAM,EAAW,WAAG,QAAI,IAE5D,EACJ,EACG,MAAM,EAAM,EAAU,EAAM,GAC5B,KAAI,SAAC,EAAK,EAAK,GACd,GAAY,IAAR,EAAW,OAAO,KAEtB,IAAM,EAAS,EAAgB,GACzB,EAAS,EAAgB,EAAI,EAAM,IACzC,OAAQ,EAAU,IAAY,EAAU,GAEpC,KADA,KAAK,IAAI,EAAS,MAGvB,QAAO,SAAC,GAAQ,mBACnB,QAAO,SAAC,EAAK,EAAK,GAAQ,aAAW,GACjC,EAAoB,IAAf,EAAmB,EAAS,EAAa,EAC9C,EAAY,GAAO,EAAgB,GACnC,EAAY,GAAO,EAAgB,GACnC,EAAK,KAAK,IAAI,GAAM,EAAY,GAAa,EAAW,GACxD,EACiC,QAArC,EAAgC,QAAhC,EAAwB,QAAxB,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAgB,EAAM,UAAE,eAAE,cAAM,eAAG,UAAE,QACrC,EAA4B,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAe,EAAM,IACjC,EAAO,EAAU,GACnB,EACA,EAAW,GAAM,EAAQ,GAC7B,EAAc,KAAK,CAAE,OAAQ,CAAC,GAAO,KAAM,EAAW,YA9BpD,EAAc,KAAK,OAgClB,ICpFE,GAAwC,CCTf,CAClC,KAAI,MACJ,SAAQ,UACR,OAAM,CAAC,CAAE,KAAM,SAAU,IAAK,KAC9B,QAAO,CAAE,OAAQ,CAAC,CAAE,KAAM,SAAU,IAAK,KAAO,aAAa,GAE/D,WAAY,CAAC,CAAE,KAAM,SACrB,gBAAiB,aACjB,YAAa,SAAC,G,MAMO,EAAwC,EAA5B,UAAE,EAA0B,EAAlB,SAAE,EAAgB,EAAL,OAAX,OAAM,MAAG,GAAE,EAEhD,EAAa,MAA8B,GAAQ,GAgBrD,OAfA,EAAS,MAAsB,QAAhB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,cAAM,QAAI,GAAG,SAAQ,SAAC,EAAY,G,MACvD,EAAiB,GAAiC,QAAhB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,cAAM,QAAI,GAE5D,GAAI,EAAiB,EAAS,EAC5B,EAAc,KAAK,CAAE,OAAQ,CAAC,MAAO,KAAM,EAAW,WADxD,CAIM,IAAF,EAAe,EACb,EAAO,MAAM,EAAiB,EAAS,EAAG,EAAiB,GAAG,SAAQ,SAAC,EAAe,EAAK,GAC3F,EAAqB,GAAgB,GAAgB,EAAc,MAC9D,EAAqB,KAC5B,GAAgB,EAAc,OAAO,GAAK,EAAc,OAAO,GAAK,MAElE,EAAQ,KAAK,CAAE,OAAQ,CAAC,EAAe,GAAS,KAAM,EAAW,WAElE,IDvBiD,GAAM,GEP3B,CACnC,KAAI,OACJ,SAAQ,aACR,OAAM,CACN,CAAE,KAAM,eAAgB,IAAK,IAC7B,CAAE,KAAM,cAAe,IAAK,IAC5B,CAAE,KAAM,gBAAiB,IAAK,IAE9B,QAAO,CACH,OAAI,CACN,CAAE,KAAM,eAAgB,IAAK,IAC7B,CAAE,KAAM,cAAe,IAAK,IAC5B,CAAE,KAAM,gBAAiB,IAAK,IAEhC,aAAa,GAIf,WAAY,CACV,CAAE,KAAM,OAAQ,KAAM,QACtB,CAAE,KAAM,OAAQ,KAAM,UACtB,CAAE,KAAM,OAAQ,KAAM,cAEtB,gBAAe,cACf,YAAW,SAAC,G,kBAQO,EAAsF,EAA1E,UAAE,EAAwE,EAAhE,SAAE,EAA8D,EAA3C,eAAnB,OAAc,MAAG,GAAE,EAAE,EAAyC,EAAvB,cAAlB,OAAa,MAAG,GAAE,EAAE,EAAqB,EAAL,aAAhB,OAAY,MAAG,EAAC,EAC9F,EAAQ,GAAK,YAEb,EAAe,EACjB,CACE,KAAM,EAAS,KAAI,SAAC,EAAY,GAAM,MAAK,gBAAM,GAAU,CAAE,OAAQ,CAAmB,QAAlB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,cAAM,eAAG,SAC3F,OAAQ,EAAS,KAAI,SAAC,EAAY,GAAM,MAAK,gBAAM,GAAU,CAAE,OAAQ,CAAmB,QAAlB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,cAAM,eAAG,SAC7F,SAAU,EAAS,KAAI,SAAC,GAAU,MAAK,gBAAM,GAAU,CAAE,OAAQ,CAAmB,QAAlB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,cAAM,eAAG,SACvF,QAAS,EAAS,KAAI,SAAC,EAAY,GAAM,MAAK,gBAAM,GAAU,CAAE,OAAQ,CAAmB,QAAlB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,cAAM,eAAG,UAEhG,KAEE,EAAW,EAAM,CAAE,UAAW,EAAc,SAAgC,QAAtB,EAAY,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,gBAAQ,QAAI,GAAI,OAAQ,IAC5F,EAAU,EAAM,CAAE,UAAW,EAAc,SAA+B,QAArB,EAAY,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,eAAO,QAAI,GAAI,OAAQ,IAE1F,EAAI,SACc,QAAlB,EAAY,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,YAAI,QAAI,IAAG,GAC1B,EAAS,MAAgC,QAA1B,EAAkB,QAAlB,EAAY,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,YAAI,eAAE,cAAM,QAAI,GAAG,KAAI,SAAC,EAAiB,G,QACjE,EAAM,GAAoC,QAA1B,EAAkB,QAAlB,EAAY,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,YAAI,eAAE,cAAM,QAAI,GAC9C,EAAa,EAAQ,GAAK,OAAO,GACjC,EAAc,EAAgB,OAAO,GAE3C,MAAO,CAAE,OAAQ,CADD,EAAU,IAAgB,EAAU,GAAc,KAAO,EAAc,GAC3D,KAAM6J,EAAa,GAAK,KAAM,YAAa,CAAC,aACxE,GAEE,EAAS,EAAM,CAAE,UAAW,EAAM,SAA8B,QAApB,EAAY,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,cAAM,QAAI,GAAI,OAAQ,IAalF,OAZc,SACb,GAAQ,GACR,EAAK,MAAsB,QAAhB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,cAAM,QAAI,GAAG,KAAI,SAAC,EAAS,G,MAC3C,EAA+B,QAAzB,KAAiB,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,eAAM,QAAI,EACnC,EAAe,EAAQ,OAAO,GAC9B,EAAY,EAAO,GAAK,OAAO,GAC/B,EAAkC,OAAjB,GAAuC,OAAd,EAAqB,KAAO,EAAe,EACrF,EAAc,EAAS,GAAK,OAAO,GACnC,EAAa,EAAQ,GAAK,OAAO,GACvC,gBAAY,GAAO,CAAE,OAAQ,CAAC,EAAc,EAAW,EAAgB,EAAa,SACpF,KCtE8B,CAClC,KAAI,MACJ,SAAQ,aACR,OAAM,CAAC,CAAE,KAAM,SAAU,IAAK,KAC9B,QAAO,CAAE,OAAQ,CAAC,CAAE,KAAM,SAAU,IAAK,KAAO,aAAa,GAC7D,WAAU,CAAC,CAAE,KAAM,SACnB,gBAAe,cACf,YAAW,SAAC,GAQR,I,MAFe,EAAwC,EAA5B,UAAE,EAA0B,EAAlB,SAAE,EAAgB,EAAL,OAAX,OAAM,MAAG,GAAE,EAChD,EAAsC,GAAsB,GACzD,EAAwB,QAApB,KAAY,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,eAAM,QAAI,EAAG,EAAI,EAAa,OAAQ,IACzD,GAAF,EAAI,EACE,EAAM,KAAK,CAAE,OAAQ,CAAC,MAAO,KAAM,EAAa,GAAG,WADvD,CAKA,IADA,IAAF,EAAe,EACV,EAAI,EAAI,EAAS,EAAG,GAAK,EAAG,IAAK,CAChC,IAAF,EAAU,EAAa,GACvB,EAAW,EAAa,EAAI,GAC9B,EAAY,EACR,GAAJ,EAAuB,IAAY,EAAuB,GAAW,CACvE,IAAM,EAAK,EAAQ,KAAO,EAAQ,IAC5B,EAAM,KAAK,IAAI,EAAQ,KAAO,EAAS,OACvC,EAAM,KAAK,IAAI,EAAQ,IAAM,EAAS,OAC5C,EAAY,KAAK,IAAI,EAAI,EAAK,OACzB,CAEL,EADW,KAAK,IAAI,EAAQ,MAAQ,EAAS,OAG/C,GAAgB,EAElB,EAAc,KAAK,CAAE,OAAQ,CAAC,EAAe,GAAS,KAAM,EAAa,GAAG,OAE9E,OAAO,ICtC8B,CACrC,KAAI,SACJ,SAAQ,SACR,OAAM,GACN,QAAO,CAAE,OAAQ,GAAI,aAAa,EAAM,SAAU,GAElD,WAAU,CAAC,CAAE,KAAM,SAEnB,gBAAe,cACf,YAAW,SAAC,GAGR,IAFI,IAAW,EAAiB,EAAL,UACzB,EAAsC,GACnC,EAAI,EAAG,EAAI,EAAa,OAAQ,IAAK,CACtC,MAAU,EAAa,GACzB,EAAkB,GACpB,EAAc,KAAK,CAAE,OAAQ,CAAC,EAAQ,QAAS,KAAM,EAAQ,OAErDC,EAAM,KAAK,CAAE,OAAQ,CAAC,GAAI,KAAM,EAAQ,OAGhD,OAAG,ICpB2B,CAClC,KAAI,MACJ,SAAQ,SACR,WAAU,CAAC,CAAE,KAAM,SACnB,OAAM,GACN,QAAO,CAAE,OAAQ,GAAI,aAAa,EAAM,SAAU,GAClD,gBAAe,cACf,YAAW,SAAC,GAGR,I,QAFe,EAA2B,EAAf,UAAE,EAAa,EAALC,SACnC,EAAsC,GAAsB,GACzD,EAAiB,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,OAAQ,EAAI,EAAa,OAAQ,IAAK,CAC1D,MAAU,EAAa,GACvB,GAAI,IAAN,GAAW,EAAkB,GACvBD,EAAM,KAAK,CAAE,OAAQ,CAAC,EAAQ,QAAS,KAAM,EAAQ,WADzD,CAIA,MAAW,EAAa,EAAI,GAC5B,EAAuB,OAAb,QAAa,IAAb,OAAa,EAAb,EAAgB,EAAI,GAC9B,GAAD,EAAkB,IAAa,EAAkB,GAAhD,CAIA,IACA,GADiC,QAApB,EAAe,QAAf,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAS,cAAM,eAAG,UAAE,QAAI,GAClB,KAAK,KAAK,EAAQ,MAAQ,EAAS,OAAS,EAAQ,OACvEA,EAAQ,KAAK,CAAE,OAAQ,CAAC,GAAM,KAAM,EAAa,GAAG,YALhDA,EAAM,KAAK,CAAE,OAAQ,CAAC,MAAO,KAAM,EAAa,GAAG,QAO3D,OAAG,ILjByF,I,mMMY9F,GAA6D,CACjE,CAAE,KAAM,UAAW,KAAM,MACzB,CAAE,KAAM,aAAc,KAAM,MAC5B,CAAE,KAAM,aAAc,KAAM,MAC5B,CAAE,KAAM,SAAU,KAAM,OAGb,GAAgB,SAAC,G,QASpB,EAA8D,EAArD,UAAE,EAAmD,EAAzC,WAAE,EAAuC,EAA/B,SAAE,EAA6B,EAArB,SAAE,EAAmB,EAAX,SAAE,EAAS,EAAL,KAE3D,EAAwC,IAAM,UAAS,GAAtD,EAAe,KAAE,EAAkB,KACpC,EAAoC,IAAM,SAAS,GAAlD,EAAa,KAAE,EAAgB,KAEhC,EAAqB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,GAAG,MAAM,GAAG,OAAO,GAC3C,EAAgB,EAAK,QAAO,SAAC,GAAQ,sBAAI,QAAsB,OAC/D,EAAgB,EAAK,MAAK,SAAC,GAAQ,SAAI,KAAO,EAAX,UACnC,EAAyC,QAAnB,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,YAAI,QAAI,GAC7C,EAAmC,QAAnB,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,YAAI,QAAI,GACvC,EAA2B,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,GAE7B,EAAQ,eACR,EAAa,IAAM,SACvB,WACM,OAAI,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,sBACP,SAAK,IAAiB,GAAK,EAAS,sBAAoB,GACvD,KACN,CAAS,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,uBA6BP,EAAY,EACf,KAAI,SAAC,EAAU,GACV,OAAJ,EAAS,MACN,KAAI,SAAC,EAAM,GACJ,OAAN,EAAK,OACF,KAAI,SAAC,EAAO,GACH,IAAF,EAAY,EAAK,MAAK,SAAC,GAAQ,SAAI,KAAO,EAAX,UAC/B,EACgB,eAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MACP,EAAU,UAAU,WACpB,KACA,EAAW,EAAY,EAAU,OAAS,EAExC,OAAD,MAAM,GACV,KAAK,GACL,KAAI,SAAC,EAAG,G,MACD,EAAoB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,GACvB,GAA6B,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,MACjC,MAAQ,EAAS,KACjB,GACJ,MAAO,CACL,KAAqB,QAAf,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,YAAI,QAAI,YAAc,EACvC,YAAW,EACX,SAAQ,EACR,SAAQ,EACR,aAAc,EACd,SACsB,eAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MACP,EAAU,SAAW,EAAqB,GAC1C,KACN,KAAM,EAAM,KACZ,OAAQ,EAAM,WAGjB,UAEJ,UAEJ,UAEJ,OACG,EAAqB,EAAW,QACpC,SAAC,G,QACK,MAAkC,eAAX,QAA1B,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAc,eAAE,OACF,eAAzB,EAAK,iBAC8B,WAAX,QAA1B,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAc,eAAE,SAG9B,OACA,kBAAC,IAAM,SAAQ,KACZ,EAAgB,GACf,kBAAC,GAAiB,CACZ,SAAM,EACN,WAAQ,EACR,MAAG,EACH,cAAW,EACX,eACF,kBAAC,IAAM,SAAQ,KACb,kBAAC,KAAS,CACF,UACA,YAAO,CACX,mBAAoB,CAClB,MAAO,CAAE,QAAS,EAAG,aAAc,GAAI,YAAa,MAGxD,QAAQ,WACR,WAAY,CAAE,GAAI,CAAE,aAAc,SAC5B,MACJ,kBAAC,IAAU,CAAC,MAAM,kBAAgB,gBAE9B,MAAC,EACD,SAAI,SAAC,GACT,IAAM,EACsB,kBAAnB,EAAE,OAAO,MACZ,EAAE,OAAO,MACT,SAAS,EAAE,OAAO,MAAO,IAC3B,MAAM,IACF,EAAS,KAGlB,EAAU,KAAI,SAAC,EAAU,G,MAAS,OACjC,kBAAC,KAAQ,CAAS,MAAD,EAAM,IAAK,YAAc,GACrB,QAAlB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,gBAAQ,QAAI,EAAS,UAItC,kBAAC,KAAU,CACH,KAAD,QACC,GAAF,CAAU,wBAAkB,OAAQ,mBAClC,QAAG,WAAM,UAAmB,SAAC,GAAY,cAE/C,kBAAC,QAAI,CACG,KACH,EAAiD,KAA/B,KAEf,OACA,MAAC,EAAM,QAAQ,QAAQ,mBAOzC,kBAAC,GAAS,KACN,EAyFE,EACG,MAAK,SAAC,EAAG,GAAM,OAAC,EAAE,KAAO,EAAE,KAAO,GAAnB,KACf,KAAI,SAAC,EAAM,GAAY,OACtB,kBAAC,GAAS,CACR,IAAK,mBAAY,GACjB,QAAS,EAAU,GAAG,WACtB,UAAW,EAAK,KAChB,kBAAkB,QAClB,SAnOb,EA6NiC,EA7ND,SAAC,GAC5B,EAAU,QAAQ,YACZ,EAAC,CACG,KAAJ,cACI,OAAF,CACN,YAAa,EACb,UAAW,EACX,GAAI,OACJ,UAAS,EACT,SAAU,KAId,EAAS,CACP,KAAM,WACN,OAAQ,CACN,YAAa,EACb,UAAW,EACX,GAAI,OACJ,UAAS,EACT,YAAa,EACb,SAAU,SArBlB,IAAC,KAmIO,GAAU,KAAI,SAAC,EAAK,GAClB,IAAM,EAAmB,EAAmB,QAC1C,SAAC,GAAS,SAAK,WAAa,EAAlB,QAEZ,OACE,EAAiB,OAAS,GACxB,kBAAC,GAAS,CACR,IAAK,cAAO,GACZ,OAAQ,EAAO,WACf,UAAW,EAAI,KACf,gBAAiB,EAAM,QAAQ,QAAQ,MACvC,MAAO,UACP,UACE,yBACE,MAAO,CACL,OAAQ,iBACR,aAAc,EACd,YAAa,GACb,WAAY,EAAM,QAAQ,UAAU,KACpC,SAAU,GACV,OAAQ,KAGV,kBAAC,QAAI,CACH,KAAM,EAAI,KACV,KAAM,OACN,MAAO,EAAM,QAAQ,UAAU,iBAKpC,EACE,MAAK,SAAC,EAAG,GAAM,OAAC,EAAE,KAAO,EAAE,KAAO,GAAnB,KACf,KAAI,SAAC,EAAM,GAAY,OACtB,kBAAC,GAAS,CACR,IAAK,cAAO,EAAM,iBAAS,GAC3B,QACiB,KAAd,EAAS,IACT,EAAU,IACX,WACF,UAAW,EAAK,KAChB,kBAAkB,QAElB,QAAS,W,QACD,EAAY,EAAK,MACrB,SAAC,GAAG,MACF,SAAI,MAA+B,QAAxB,IAAU,UAAc,eAAE,WAEzC,GAAK,EAAL,CACA,IAAM,EAA2B,QAAd,IAAU,YAAI,QAAI,GAC/B,EACU,QAAd,IAAU,YAAI,QACd,aAAuB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,GAAe,WACnC,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,QAAQ,aAChB,EAAS,CACP,KAAM,cACN,OAAQ,CACN,WAAU,EACV,KAAI,EACJ,UAAW,EAEX,SAAU,EAAU,GACpB,GAAI,UAIR,EAAS,CACP,KAAM,WACN,OAAQ,CACN,WAAU,EACV,KAAI,EACJ,GAAI,OACJ,UAAW,EACX,YACW,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,GAAe,YAC7B,SAAU,EAAU,GACpB,cACW,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,GAAe,8B,mjBCvQlD,GACO,qBAAX,QAAyB,OAAO,WAAW,gCAAgC,QAmCvE,GAAyC,CAClD,WAAS,EACT,GAAE,GACF,OAAM,IAiBG,GAAsD,CACjE,YAAY,EACV,KAAI,CACJ,EAAG,EACH,KAAM,EACN,KAAM,EACN,aAAc,GACd,YAAa,KACb,YAAa,GACb,SAAU,EACV,cAAe,EACf,WAAY,GAEd,MAAO,CAAE,mBAAoB,OAElB,GAAoB,CAC7B,YAAU,EACV,YAAW,OACX,gBAAe,OACf,UAAS,CACL,cAAU,EACV,YAAS,OACT,uBAAoB,OACpB,gBAAa,QACb,gBAAa,GACb,iBAAc,OAClB,mBAAoB,OACpB,uBAAwB,OACxB,mBAAoB,OACpB,iBAAkB,OAClB,gBAAiB,QACjB,gBAAiB,IAEjB,KAAI,CACA,UAAM,EACN,UAAM,EACN,YAAS,sBACT,YAAS,UAEb,MAAK,CACD,WAAQ,GACR,mBAAgB,EAChB,UAAO,OACP,YAAS,OACT,UAAO,OACP,SAAM,GACV,SAAU,SAEV,MAAK,CACD,YAAS,GACT,oBAAiB,EACjB,UAAO,OACX,YAAa,OACb,UAAW,OACP,SAAM,GACN,SAAM,SAEV,KAAI,CACA,YAAS,MACT,YAAS,SAIJ,GAAgB,SACxB,IAAiB,CAClB,YAAU,EACV,UAAO,SAAO,GAAkB,WAAS,CAAE,YAAa,SACxD,YAAW,OACX,KAAI,CAAE,YAAa,MAAO,YAAa,QACvC,KAAE,SAAO,GAAkB,MAAI,CAAE,YAAa,4BAC9C,MAAG,SAAO,GAAkB,OAAK,CAAE,UAAW,OAAQ,YAAa,SACnE,gBAAe,SAGN,GAA6B,CACxC,KAAM,GACN,UAAW,GAET,YAAU,EACV,KAAI,GACJ,cArIoE,CACpE,IAAG,EACL,KAAM,EACN,MAAO,IACL,OAAM,IACN,MAAI,GAiIJ,QA9HwD,CACxD,YAAU,EACV,KAAI,CAAM,UAAM,EAAO,GAAI,CAAC,EAAG,IAC/B,MAAK,CAAE,YAAY,EAAO,MAAO,CAAC,EAAG,IACrC,cAAa,CACb,iBAAiB,EACjB,GAAI,CAAC,EAAG,GACR,OAAO,EACP,MAAM,EACN,QAAS,CAAC,EAAG,GACb,gBAAiB,CAAC,EAAG,IAErB,KAAI,CACJ,YAAY,EACZ,GAAI,CAAC,EAAG,GACR,OAAO,EACP,MAAM,EACN,QAAS,CAAC,EAAG,GACb,gBAAiB,CAAC,EAAG,GACrB,MAAO,CAAC,EAAG,GACX,SAAS,GAET,MAAK,CAAE,YAAY,EAAO,OAAO,EAAO,gBAAiB,CAAC,EAAG,GAAI,OAAQ,CAAC,EAAG,KAyG7E,KAAI,CACJ,UAAW,GACX,MAlG2D,CAC3D,iBAAgB,EAChB,mBAAkB,GAClB,OAAM,EACN,KAAI,EACJ,MAAK,EACL,WAAU,EACV,UAAS,EACT,QAAO,EACT,eAAgB,KAChB,oBAAqB,GACnB,SAAQ,IAwFR,QAAS,IAET,MAAK,IAGI,GAAgB,SACxB,IAAY,CACf,MAAO,KAwII,GAA6B,CAAC,OAAQ,UAAW,UAAW,UAAW,UAAW,UAAW,QAC7F,GAA4B,CAAC,OAAQ,UAAW,UAAW,UAAW,UAAW,UAAW,QAC5F,GAAiB,SAAC,EAAoB,GAAgB,SAAS,EAAM,EAAf,SAEtD,GAA0B,CACrC,kBAAmB,cACnB,sBAAuB,OACvB,gBAAiB,UACjB,cAAe,WAGJ,GAAwB,CACnC,YAAa,CAAC,SAGH,GAA4B,CACvC,YAAa,CAAC,SAGH,GAAuB,SAClC,EACA,EACA,EACA,GAEA,MAAa,cAAT,GACF,QAAQ,IAAI,KAAM,GAAiB,GAAkB,GAAkB,IAC/D,GAAkB,GAAkB,EACxC,CAAE,YAAa,CAAC,GAAe,EAAW,GAAkB,GAA0B,OAAR,QAAQ,IAAR,IAAY,KAC1F,CAAE,aAAc,EAAW,GAAkB,IAAkB,MAAM,EAAG,KAE5E,SACK,IAAuB,CAC1B,YAAa,GAAe,EAAW,GAAkB,GAA0B,OAAR,QAAQ,IAAR,IAAY,M,iNC1ShF,GAAkB,SAAC,GAY5B,MASE,EATO,UACT,EAQE,EARK,QACP,EAOE,EAPM,SACR,EAME,EANQ,WACV,EAKE,EALQ,WACV,EAIE,EAJQ,WACV,EAGE,EAHM,SACR,EAEE,EAFM,SACR,EACE,EADK,QAGH,EAAQ,eACR,EAAoC,IAAM,SAC9C,MADK,EAAgB,EAAH,GAAE,EAAgB,KAGhC,EAAoC,IAAM,SAC9C,MADK,EAAa,KAAE,EAAgB,KAIhC,EAAS,IAAM,SACnB,W,MACE,OAAe,QAAf,IAAS,cAAM,QAAI,C,SACZ,IAAiB,CAAE,KAAM,U,SACzB,IAAgB,CAAE,KAAM,YAI/B,IAGE,EAAS,IAAM,aAAY,WAC/B,EAAW,UACV,CAAC,IACE,EAAmB,IAAM,aAAY,WACrC,EAAK,CACP,KAAM,iBACN,OAAQ,CAAE,KAAM,wBAEjB,CAAC,IACE,EAAiB,IAAM,aAC3B,SACE,EACA,GAEiB,UAAb,GAAsB,EAAiB,EAAM,eAChC,UAAb,GAAsB,EAAiB,EAAM,iBAEnD,IAEI,EAAkB,IAAM,aAAY,WACpC,EAAa,MACb,EAAa,QAChB,IAEG,EAAc,IAAM,aACxB,SAAC,GACK,EAAa,MACb,IAAE,EAAgB,EAAO,MAAK,SAAC,GAAU,SAAM,OAAN,KACxC,GACD,EAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,MAAO,OAEhD,CAAC,EAAU,IAGX,OACA,kBAAC,K,CAIK,OAAI,EAAY,OAAS,SACzB,OAAI,EACJ,cAAW,EACX,gBAAa,EACb,QAAK,EACL,WAAQ,CACJ,GAAF,EACA,CACU,wBACR,wBAAyB,GACzB,qBAAsB,GACtB,SAAU,IACV,OAAQ,QAEV,CACE,OAAQ,iBACR,oBAAqB,GACrB,qBAAsB,GACtB,UAAW,MACX,UAAW,SAInB,kBAAC,KAAG,CAAK,IAAE,SAAU,WAAY,IAAK,EAAG,OAAQ,SAC/C,kBAAC,KAAG,CACE,IACI,SAAI,SACJ,IAAD,EACC,OAAE,GACF,MAAC,OACD,QAAG,eACH,EAAH,EACG,UAAK,aACL,OAAE,IAIV,kBAAC,KAAK,CACA,UAAM,MACN,IACI,OAAE,GACF,aAAQ,SACR,eAAU,SACV,cAAS,WAGjB,kBAAC,IAAU,CACL,UAAM,MACN,QAAI,KACJ,IAAE,SAAU,EAAG,GAAI,GAAK,GAAI,IAE/B,GAAc,IAEjB,kBAAC,KAAG,CAAK,IAAE,OAAQ,WACd,GAAyB,SAAb,GACb,kBAAC,KAAU,CAAC,KAAK,QAAQ,QAAS,GAChC,kBAAC,KAAI,CACC,KAAE,KACF,KAAE,OACF,MAAG,EAAM,QAAQ,QAAQ,iBAIjC,OAAO,UAAU,UAAU,MAAM,wBACjC,kBAAC,KAAU,CAAC,KAAK,QAAQ,QAAS,GAChC,kBAAC,KAAI,CACC,KAAE,EAAa,KAAoB,KACnC,KAAE,OACN,MAAO,EAAM,QAAQ,QAAQ,gBAInC,kBAAC,KAAU,CAAC,KAAK,QAAQ,QAAS,GAChC,kBAAC,KAAI,CACH,KAAM,KACN,KAAM,OACN,MAAO,EAAM,QAAQ,QAAQ,mBAMvC,kBAAC,KAAG,CACF,GAAI,CACF,SAAU,WACV,IAAK,EACL,GAAI,EAAY,OAAS,OACzB,OAAQ,EAAY,oBAAsB,OAC1C,UAAW,OACX,EAAG,IAGJ,GAEH,kBAAC,KAAG,CACF,GAAI,CACF,SAAU,EAAY,WAAa,QACnC,OAAQ,EACR,OAAQ,GACR,MAAO,OACP,QAAS,iBAGX,kBAAC,KAAK,CACJ,UAAU,MACV,GAAI,CAAE,WAAY,SAAU,aAAc,SAAU,GAAI,KAExD,kBAAC,KAAG,CAAC,GAAI,CAAE,SAAU,KACrB,kBAAC,KAAU,CACT,GAAG,kBACH,KAAK,QACL,QAAS,SAAC,GACM,OAAd,QAAc,IAAd,KAAiB,EAAG,WAGtB,kBAAC,KAAI,CACH,KAAM,KACN,KAAM,OACN,MAAO,EAAM,QAAQ,QAAQ,gBAGjC,kBAAC,KAAI,CACH,GAAG,aACH,SAAU,EACV,aAAc,CAAE,WAAY,SAAU,SAAU,OAChD,gBAAiB,CACf,SAAU,SACV,WAAY,UAEd,KAAM,QAAQ,GACd,QAAS,EACT,cAAe,CACb,kBAAmB,oBAGrB,kBAAC,IAAU,CACT,QAAQ,KACR,UAAU,MACV,GAAI,CACF,UAAW,SACX,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,MAAO,iBACR,eAIH,kBAAC,KAAO,MACP,CAAC,MAAO,aAAc,SAAS,KAAI,SAAC,EAAM,GAAS,OAClD,kBAAC,KAAQ,CACP,IAAK,wBAAiB,GACtB,QAAS,WACP,EAAS,CAAE,KAAM,aAAc,OAAQ,CAAE,KAAI,OAJC,OAWtD,kBAAC,KAAU,CACT,GAAG,kBACH,KAAK,QACL,QAAS,SAAC,GACM,OAAd,QAAc,IAAd,KAAiB,EAAG,WAGtB,kBAAC,KAAI,CACH,KAAM,KACN,KAAM,OACN,MAAO,EAAM,QAAQ,QAAQ,gBAGjC,kBAAC,KAAI,CACH,GAAG,aACH,SAAU,EACV,aAAc,CAAE,WAAY,SAAU,SAAU,OAChD,gBAAiB,CACf,SAAU,SACV,WAAY,UAEd,KAAM,QAAQ,GACd,QAAS,EACT,cAAe,CACb,kBAAmB,oBAGrB,kBAAC,IAAU,CACT,QAAQ,KACR,UAAU,MACV,GAAI,CACF,UAAW,SACX,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,MAAO,iBACR,aAIH,kBAAC,KAAO,MACP,EAAO,KAAI,SAAC,EAAW,GAAS,OAC/B,kBAAC,KAAQ,CACP,IAAK,wBAAiB,GACtB,QAAS,WACP,EAAY,EAAU,QAGvB,EAP4B,UAYnC,kBAAC,KAAU,CACT,KAAK,QACL,QAAS,WACA,OAAP,QAAO,IAAP,SAGF,kBAAC,KAAI,CACH,KAAM,KACN,KAAM,OACN,MAAO,EAAM,QAAQ,QAAQ,qBC/ThC,GAAiB,SAAC,GAQnB,IAAF,EAAoD,EAA3C,UAAE,EAAyC,EAAjC,SAAE,EAA+B,EAA3B,KAAE,EAAyB,EAAjB,SAAE,EAAe,EAAL,WACjD,EAAQ,eACR,EAAgB,EAAK,QAAO,SAAC,GAAQ,sBAAI,QAAsB,OAErE,OACE,kBAAC,IAAM,SAAQ,KACb,kBAAC,GAAiB,CAChB,SAAU,EACV,WAAY,EACZ,MAAO,EACP,cAAe,IAEjB,kBAAC,GAAS,KACP,EAAU,KAAI,SAAC,EAAU,GACxB,SAAS,MAAM,KAAI,SAAC,EAAO,GACzB,SAAM,OAAO,KAAI,SAAC,EAAO,GACvB,SAAmB,GACjB,kBAAC,GAA0B,CACzB,IAAK,4BAAqB,EAAW,kBAAU,EAAQ,kBAAU,GACjE,UAAW,EACX,SAAU,EACV,YAAa,EACb,SAAU,EACV,SAAU,EACV,KAAM,IAEN,iBC/BL,GAAe,SAAC,GAQjB,IAAF,EAA2D,EAAnD,SAAE,EAAiD,EAAnC,eAAE,EAAiC,EAA5B,MAAE,EAA0B,EAAhB,WAC7C,EAD6D,EAAL,UAE3D,KAAI,SAAC,GAAa,SAAS,MAAM,KAAI,SAAC,GAAU,SAAM,MAAN,aAChD,OACA,QAAO,SAAC,EAAK,GAAQ,cAEtB,OACA,kBAAC,K,CACK,UAAM,MACN,WAAO,SACP,eAAW,WACX,IAAQ,GAAF,KAET,EACA,EAAW,EACV,kBAAC,KAAiB,CAAC,MAAO,iBAAkB,WAAS,EAAC,KAAK,SACzD,kBAAC,KAAY,CACP,MAAE,UACF,IACI,UAAK,CACD,WACO,UAAb,EACI,EAAM,QAAQ,UAAU,MACxB,EAAM,QAAQ,WAAW,MAE/B,UAAW,EACX,gBACE,yEAEE,uBAAkB,GAClB,cAAS,OACf,oBAAqB,GACf,WACS,UAAb,EACI,EAAM,QAAQ,UAAU,MACxB,EAAM,QAAQ,WAAW,MAC/B,gBACE,yEAEJ,QAAS,WACG,OAAV,QAAU,IAAV,KAAa,WAGf,kBAAC,IAAU,cAEb,kBAAC,KAAY,CACX,MAAM,WACN,GAAI,CACF,UAAW,CACT,WACe,aAAb,EACI,EAAM,QAAQ,UAAU,MACxB,EAAM,QAAQ,WAAW,MAE/B,UAAW,EACX,gBACE,yEAEJ,wBAAyB,GACzB,qBAAsB,GACtB,WACe,aAAb,EACI,EAAM,QAAQ,UAAU,MACxB,EAAM,QAAQ,WAAW,MAC/B,gBACE,yEAEJ,QAAS,WACG,OAAV,QAAU,IAAV,KAAa,cACd,SAKH,OC3EJ,GAAwD,CAC5D,CAAE,KAAM,QAAS,KAAM,MACvB,CAAE,KAAM,UAAW,KAAM,MACzB,CAAI,KAAI,WAAY,KAAM,OAEtB,GAIA,CACJ,CAAE,KAAM,YAAa,KAAM,YAAa,SAAU,SAClD,CAAE,KAAM,aAAc,KAAM,QAAS,SAAU,SAC/C,CAAE,KAAM,WAAY,KAAM,QAAS,SAAU,UAGzC,GAAmB,SACvB,EACA,GAQE,EALsC,CAClC,KAAE,OACF,OAAI,CAAQ,KAAF,EAAE,YAHE,MAST,GAAW,SAAC,GAKb,IAAF,EAAoC,EAA5B,SAAE,EAA0B,EAAhB,WAAE,EAAc,EAAL,UACjC,EAAwC,IAAM,UAAS,GAAtD,EAAe,KAAE,EAAkB,KACpC,EAAQ,eAGZ,OACA,kBAAC,IAAM,SAAQ,KACb,kBAAC,GAAY,CACP,UAAO,EACX,SAAS,QACT,WAAY,EACZ,MAAO,EACP,eACE,kBAAC,IAAM,SAAQ,KACb,kBAAC,KAAU,CACT,KAAK,QACL,GAAI,CAAE,OAAQ,iBAAkB,OAAQ,mBACxC,QAAS,WAAM,UAAmB,SAAC,GAAY,cAE/C,kBAAC,KAAI,CACH,KACG,EAAiD,KAA/B,KAErB,KAAM,EACN,MAAO,EAAM,QAAQ,QAAQ,mBAMvC,kBAAC,GAAS,KACN,EA8CE,GACG,MAAK,SAAC,EAAG,GAAM,OAAC,EAAE,KAAO,EAAE,KAAO,GAAnB,KACf,KAAI,SAAC,EAAM,GAAY,OACtB,kBAAC,GAAS,CACR,IAAK,mBAAY,GACjB,QAAS,EAAU,GAAG,WACtB,UAAW,EAAK,KAChB,kBAAkB,QAClB,QAAS,WACP,GAAiB,EAAU,EAAK,MACtB,OAAV,QAAU,IAAV,KAAa,YAvDrB,GAAU,KAAI,SAAC,EAAK,GAAW,OAC7B,kBAAC,GAAS,CACR,IAAK,cAAO,GACZ,OAAQ,EAAO,WACf,UAAW,EAAI,KACf,UACE,yBACE,MAAO,CACL,OAAQ,iBACR,aAAc,EACd,YAAa,GACb,WAAY,EAAM,QAAQ,UAAU,KACpC,SAAU,GACV,OAAQ,KAGV,kBAAC,KAAI,CACH,KAAM,EAAI,KACV,KAAM,OACN,MAAO,EAAM,QAAQ,UAAU,gBAIrC,gBAAiB,EAAM,QAAQ,QAAQ,OAEtC,GACE,QAAO,SAAC,GAAS,SAAK,WAAa,EAAlB,QACjB,MAAK,SAAC,EAAG,GAAM,OAAC,EAAE,KAAO,EAAE,KAAO,GAAnB,KACf,KAAI,SAAC,EAAM,GAEV,OACE,kBAAC,GAAS,CACR,IAAK,cAAO,EAAM,iBAAS,GAC3B,QAAwB,KAAd,EAAS,IAAY,EAAU,IAAI,WAC7C,UAAW,EAAK,KAChB,kBAAkB,QAClB,QAAS,WACP,GAAiB,EAAU,EAAK,MACtB,OAAV,QAAU,IAAV,KAAa,mBCjH1B,GAAY,SAAC,GAKd,IAAF,EAAoC,EAA3B,UAAE,EAAyB,EAAjB,SAAE,EAAe,EAAL,WACjC,EAAQ,eACd,OACE,kBAAC,IAAM,SAAQ,KACb,kBAAC,GAAY,CAAC,UAAW,EAAW,SAAS,WAAW,WAAY,EAAY,MAAO,IACvF,kBAAC,GAAS,KACP,EAAU,KAAI,SAAC,EAAU,GACxB,SAAS,MAAM,KAAI,SAAC,EAAO,GACzB,SAAM,MAAM,KAAI,SAAC,EAAM,GAAY,OACjC,kBAAC,GAAqB,CACpB,IAAK,4BAAqB,EAAW,kBAAU,EAAQ,kBAAU,GACjE,UAAW,EACX,SAAU,EACV,YAAa,EACb,SAAU,EACV,QAP+B,gBCuGlC,GAAa,IAAM,MA3GG,SAAC,GAc9B,IAAF,EAUE,EAVK,QACP,EASE,EATY,eACd,EAQE,EARO,UACT,EAOE,EAPG,MACL,EAME,EANQ,WACV,EAKE,EALM,SACR,EAIE,EAJc,iBAChB,EAGE,EAHQ,WACV,EAEE,EAFM,SACR,EACE,EADE,KAGA,EAAY,aAAc,qBA6D1B,EA5De,CACnB,CAAE,SAAU,OAAQ,WAAY,aAAc,UAAW,WAAM,yBAAC,GAAI,CAAC,WAAN,MAC/D,CAAE,SAAU,QAAS,WAAY,QAAS,UAAW,WAAM,yBAAC,GAAO,CAAC,SAAT,MAC3D,CACE,SAAU,aACV,WAAY,gBACZ,UAAW,WAAM,OACf,kBAAC,GAAa,CACZ,UAAW,EACX,WAAY,EACZ,SAAU,EAAe,SACzB,SAAU,EACV,SAAU,EACV,KAPa,MAWnB,CACE,SAAU,gBACV,WAAY,iBACZ,UAAW,WAAM,OACf,kBAAC,GAAc,CACb,UAAW,EACX,WAAY,EACZ,SAAU,EAAe,SACzB,SAAU,EACV,SAAU,EACV,KAPa,MAWnB,CACE,SAAU,QACV,WAAY,WACZ,UAAW,WAAM,yBAAC,GAAQ,CAAC,UAAW,EAAW,SAAU,EAAU,WAApD,MAEnB,CACE,SAAU,WACV,WAAY,YACZ,UAAW,WAAM,OACf,kBAAC,GAAS,CAAC,UAAW,EAAW,SAAU,EAAU,WADtC,MAInB,CACE,SAAU,WACV,WAAY,WACZ,UAAW,WAAM,OACf,kBAAC,GAAU,CACT,eAAgB,EAChB,UAAW,EACX,MAAO,EACP,SAAU,EACV,WAAY,EACZ,iBAAkB,EAClB,KARa,OAcY,MAAK,SAAC,GAAS,SAAK,WAAa,EAAlB,YAChD,IAAK,EAAe,WAAa,EAAa,OAAO,KACrD,IAAM,EAAuB,EAAY,UACnC,EAAa,EAAY,WAE/B,OADA,QAAQ,IAAI,qBAEV,kBAAC,GAAe,CACd,WAAY,EACZ,UAAW,EACX,SAAU,EACV,SAAU,EAAe,SACzB,WAAY,EACZ,SAAU,EACV,WAAY,EACZ,QAAS,EACT,QAAS,kBAAC,EAAoB,WCnFvB,GAAkB,IAAM,MA1BG,SAAC,GAC7B,IAAF,EAAyB,EAAlB,QAAE,EAAgB,EAAL,YAE1B,OACA,kBAAC,KAAG,CAAK,IAAE,SAAU,WAAY,IAAK,EAAU,GAAK,GAAI,KAAM,KAC7D,kBAAC,KAAM,CACD,MAAE,UACF,QAAI,YACJ,QAAK,EACT,GAAI,CACF,MAAO,GACP,SAAU,GAEV,OAAQ,GACR,cAAe,OACf,aAAc,EACd,QAAS,GACT,QAAS,IAGX,kBAAC,QAAI,CAAC,KAAM,KAAS,KAAK,OAAO,MAAM,cCvBlC,GAAa,SAAC,GAcvB,MAOE,EAPK,QACP,EAME,EANE,KACJ,EAKE,EALM,SACR,EAIE,EAJK,QACP,EAGE,EAHS,YACX,EAEE,EAFM,SACR,EACE,EADQ,WAEN,EAAc,IAAM,aACxB,SAAC,GACQ,OAAP,QAAO,IAAP,KAAU,EAAG,EAAa,KAE5B,CAAC,EAAS,EAAa,IAEzB,OAAK,EAGH,kBAAC,KAAM,CACL,MAAO,CAAE,cAAe,OAAQ,UAAW,QAC3C,QAAS,EACT,UACE,kBAAC,KAAI,CACH,KACE,EAAqB,GAAW,KAAoB,KAEtD,KAAM,KAIT,EAAqB,GACpB,kBAAC,IAAU,KAAE,UAAG,EAAI,YAClB,EAAQ,OACL,KAAI,SAAC,EAAO,G,QACX,UACA,GACA,CAAC,OAAQ,QAAQ,SAAiC,QAAxB,EAAkB,QAAlB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAa,UAAK,eAAE,YAAI,QAAI,IAC7C,OAAL,QAAK,IAAL,OAAK,EAAL,EAAO,QAAQ,GACf,QAEL,QAAO,SAAC,GAAQ,mBAChB,KAAK,OAAS,KAGnB,kBAAC,IAAU,CAAC,QAAQ,SACjB,EAAuB,GACpB,UAAG,EAAI,+BACD,EAAQ,KAAK,QAAQ,GAAS,+BAC9B,EAAQ,KAAK,QAAQ,GAAS,+BAC9B,EAAQ,IAAI,QAAQ,GAAS,+BAC7B,EAAQ,MAAM,QAAQ,IAC5B,UAAG,EAAI,+BACD,EAAQ,MAAM,QAAQ,MArCnB,MC9BV,GAAc,SAAC,GAWhB,IAAF,EACN,EADU,KAAE,EACZ,EADuB,YAAE,EACzB,EADsC,cAAE,EACxC,EADiD,UAAE,EACnD,EADoE,kBAEpE,OACA,kBAAC,IAAM,SAAQ,KACZ,EAAU,KAAI,SAAC,EAAU,GAAS,OACjC,kBAAC,KAAG,CACI,IAAD,8BAAuB,GACtB,GAAF,CACF,SAAU,WACV,IAAK,EAAS,MAGf,EAAS,MAAM,GAAG,OAAO,KAAI,SAAC,EAAO,G,4BAC9B,EAAY,EAAK,MAAK,SAAC,GAAQ,SAAI,KAAO,EAAX,UAC/B,EAAiC,QAAf,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,YAAI,QAAI,GACrC,EAAmC,QAAnB,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,gBAAQ,QAAI,EACvCE,EAAqD,QAAzC,EAAiC,QAAjC,EAA4B,QAA5B,EAAqB,QAArB,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAgB,UAAK,eAAE,aAAK,eAAG,UAAE,eAAE,cAAM,eAAG,GAC9D,KAAc,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,eAAgB,EAAW,OAAO,KAClD,IAAM,EACJ,EAAmB,IACA,cAAnB,EAAU,MACV,EAAU,UAAU,OAAO,OAAS,EAChC,UAAG,EAAU,UAAU,KAAI,YAAI,EAAU,UAAU,OAAO,GAAG,IAAG,KAChE,EAAmB,IACA,cAAnB,EAAU,MAC4B,IAAtC,EAAU,UAAU,OAAO,OAC3B,UAAG,EAAU,UAAU,MACvB,EAAU,KACV,GACH,EAAY,YACb,KAAoB,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,KAAK,eACQ,QAAnC,EAA8B,QAA9B,EAAW,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,KAAK,oBAAY,eAAG,UAAE,eAAE,YAAa,EACV,QAApC,EAA+B,QAA/B,EAAiB,QAAjB,EAAW,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,YAAI,eAAE,oBAAY,eAAG,UAAE,eAAE,KACtC,EAAY,YAAqC,OAAvB,EAAY,KAAK,EAC3C,EAA2B,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,KAAK,GAClC,EAAU,YAAY,OAAS,EAAU,YAAY,KAE3D,OACE,kBAAC,GAAU,CACT,IAAK,sBAAe,EAAI,YAAI,GAC5B,QAAS,EACT,YAAa,EACb,SAAU,EACV,KAAM,EACN,QAAS,EACT,SACE,EAAmB,IACA,cAAnB,EAAU,WAC+B,IAAzC,EAAU,UAAU,QAAQ,SACxB,EAAU,UAAU,QAAQ,SAC5B,EAEN,WACsB,eAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MACa,QAApB,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,iBAAS,eAAE,gBACtB,a,oZCzDT,GAAW,SAAC,G,UACf,EAAoD,EAA3C,UAAE,EAAyC,EAArC,KAAE,EAAmC,EAA/B,KAAE,EAA6B,EAAhB,cAAE,EAAc,EAAL,UACtC,EAA4E,EAAjE,QAAa,EAAoD,EAAvC,UAAS,EAA8B,EAArB,MAAE,EAAmB,EAAb,OAAE,EAAW,EAAL,OAChF,EAAW,EAAL,OAER,EAAmB,EAAK,WAAa,EAAK,MAAS,KACnD,EAAmB,GAAa,MAAK,SAAC,GAAY,SAAQ,OAAR,KAClD,EAA2B,OAAhB,QAAgB,IAAhB,OAAgB,EAAhB,EAAkB,UAC7B,EAAkD,GAChC,QAAxB,EAAgB,OAAhB,QAAgB,IAAhB,OAAgB,EAAhB,EAAkB,cAAM,SAAE,SAAQ,SAAC,GACjC,EAAwB,EAAM,MAAQ,EAAM,OAI5C,IAAI,EAA8C,QAAnC,EAA8B,QAA9B,EAAW,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,KAAK,oBAAY,eAAG,UAAE,eAAE,SAChD,EAAc,EAAY,KAAK,YAC/B,EAAgC,IAAM,SAC1C,WACE,OAAC,EAAU,GAUP,GATD,SACM,EAAK,GAAG,KAAI,SAAC,GACd,UAAU,EAAU,CAAC,EAAO,EAAG,IAAK,EAAO,EAAG,GAAI,EAAa,IAA2B,MAC3F,IACD,CACE,EAAY,KAAK,GAAK,EAAe,OAAN,QAAM,IAAN,OAAM,EAAN,EAAS,EAAY,KAAK,GAAK,EAAY,KAAK,KAC/E,GAAsB,EAAY,KAAK,QAG7C,KACJ,CAAC,EAAY,KAAK,EAAG,EAAK,GAAI,EAAU,EAAY,KAAK,KAAM,EAAY,KAAK,KAAM,EAAa,EAAQ,IAG3G,OACC,EAAK,WACJ,IACC,EAAU,IACT,kBAAC,EAAQ,IACP,UAAW,EACX,YAAa,EACb,GAAI,EAAK,GACT,UAAW,EACX,cAAe,EACf,UAAW,EACX,cAAe,EACf,OAAQ,EACR,OAAQ,EACR,MAAO,GACH,KAGV,M,+fCjCS,GAAS,IAAM,YAAW,SAAC,EAAsB,G,sBACpD,EAAiD,EAAzC,SAAE,EAAuC,EAA7B,WAAE,EAA2B,EAAnB,SAAE,EAAiB,EAAL,QAAZ,OAAO,MAAG,GAAE,EAC5C,EAAiB,EAAL,aAEd,EAAW,IAAM,OAAkC,GACnD,EACJ,IAAM,SAA8B,CAClC,SAAU,KACV,gBAAiB,KAHd,EAAc,KAAE,EAAiB,KAMlC,EAAwB,IAAM,aAAY,WAC9C,GAAkB,SAAC,GAAY,gBAAM,GAAO,CAAE,SAAf,cAC9B,IAEG,EAAyB,IAAM,aAAY,WAC3C,GAAc,SAAC,GAAY,gBAAM,GAAO,CAAE,SAAf,YAC9B,IAEG,EAA8B,IAAM,aAAY,SAAC,GACjDC,GAAc,SAAC,GAAY,gBAAM,GAAO,CAAE,SAAf,SAC9B,IAEG,EAAuB,IAAM,aAAY,SAAC,GAC9C,GAAkB,SAAC,GACjB,SAAQ,gBAAgB,SAAS,GAC9B,SACM,GAAO,CACV,gBAAiB,EAAQ,gBAAgB,QACvC,SAAC,GAAQ,kBAGd,SAAM,GAAO,CAAE,gBAAe,SAAM,EAAQ,iBAAe,IAAE,IAAE,UAEnE,IAEG,EAAwB,IAAM,aAClC,SACE,EACA,EACA,GAEI,EAAU,IAAgB,EAAU,IACxC,EAAkB,CAChB,SAAU,WACV,gBAAiB,CACf,oBAAa,EAAW,sBAAc,GACtC,cAAO,QAIb,IAII,EAAW,EAAW,MAAM,WAC5B,EACI,QADQ,EAAsC,QAAtC,EAAiC,QAAjC,EAA0B,QAA1B,EAAqB,QAArB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,iBAAS,eAAG,UAAE,eAAE,aAAK,eAAG,UAAE,eACpD,cAAM,eAAG,GACP,EACqB,aAAhB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,WAA0B,EAAe,EAChD,EAAkB,EAAW,cAAc,KACzC,EAAgB,EAAW,MAAM,MAAtB,YACb,EAAiB,EAAW,cAAc,MAAQ,EAClD,EAAkB,EAAW,cAAc,OAAS,EAExD,OACA,kBAAC,IAAM,SAAQ,KACb,kBAAC,KAAM,CACD,OAAI,aAAG,iqBAQuC,0MAAhC,EAAW,MAAM,mBAWrC,kBAAC,EAA2B,CACtB,MAAG,EAAW,EAAe,EAC7B,aAAU,GAEd,yBACM,IAAC,EACD,UAAM,kBAER,GAAc,GAAc,EAe5B,kBAAC,IAAM,SAAQ,KACb,kBAAC,I,CACK,MAAG,EAAW,cAAc,MAC5B,OAAI,EAAW,cAAc,OAC7B,UAAM,kBACN,WAAO,GAGX,kBAAC,IAAK,CAAK,WAAO,GAChB,kBAAC,IAAI,CACC,KAAC,aACD,WAAO,EACP,EAAD,GACC,EAAD,EAAkB,EAAc,GAC/B,MAAG,EACH,OAAI,EACJ,KAAE,EAAW,MAAM,MAAM,UACzB,OAAI,EAAW,MAAM,YACrB,YAAS,IAEd,EAAW,UAAU,KAAI,SAAC,EAAU,GAAgB,OACnD,kBAAC,IAAM,SAAQ,CAAO,IAAD,0BAAmB,IACtC,kBAAC,IAAI,CACG,sBAAmB,EACnB,WAAK,EACL,EAAH,GACG,EAAH,EAAS,IAAM,GACZ,MAAC,EACD,OAAE,EAAS,OAAS,EAAS,IAC7B,OAAE,EAAW,MAAM,YACnB,YAVyC,SAgBvD,kBAAC,IAAK,CAAK,WAAO,GACf,KAAK,EAAW,UACf,kBAAC,EAAS,CACJ,UAAO,EAAW,UAClB,UAAO,EAAW,KAAK,MAC3B,cAAe,EAAW,KAAK,UAC/B,OAAQ,EAAW,KAAK,OACxB,OAAQ,EAAW,KAAK,OACxB,YAAa,EACT,SAAM,EACN,SAAM,IAEV,KACH,EAAW,UAAU,KAAI,SAAC,EAAU,GAC/B,OAAJ,EAAS,MAAM,KAAI,SAAC,EAAa,GACzB,OAAN,EAAY,OAAO,KAAI,SAAC,EAAO,G,gBAGvB,EAAY,EAAW,KAAK,MAChC,SAAC,GAAQ,SAAI,KAAO,EAAX,UAEH,OACN,EAAmB,IACC,eAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,QACa,QAAvB,EAAe,QAAf,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,YAAI,eAAE,cAAM,QAAI,GAAK,GAIrB,QADV,EAAmD,QAAnD,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MAA6B,QAAvB,EAAe,QAAf,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,YAAI,eAAE,cAAM,QAAI,GAAK,UAAE,eAC/C,cAAM,QAAI,IAEM,KAAI,SAAC,EAAU,G,kBAC7B,EAEI,QADR,EAA6C,QAA7C,EAA8B,QAA9B,IAAU,UAAU,kBAAU,eAAG,UAAY,eACzC,YAAI,QAAI,OACR,EACc,SAAlB,EACI,EACkB,SAAlB,EACA,EACA,KAEN,IAAK,EAAa,OAAO,KACzB,IAAM,EACmC,QAAvC,EAA2B,QAA3B,IAAU,UAAU,eAAO,eAAE,kBAAU,eAAE,WACvC,SAAC,GAAQ,0BAAI,QAEX,EACc,SAAlB,GACC,EAAU,KACc,IAAzB,EAOI,GANA,CACE,cACyC,QAAvC,EAA2B,QAA3B,IAAU,UAAU,eAAO,eAAE,kBAAU,eACrC,GACA,KAIZ,OACE,kBAAC,EAAW,IACV,IAAK,UAAG,EAAa,mBAAW,EAAW,gBAAQ,EAAQ,aAAK,GAChE,UAAW,EAAW,UACtB,YAAa,EACb,SAAU,EACV,SAAU,EACV,aAAc,EACd,UAAW,EAAW,KAAK,MAC3B,cAAe,EAAW,KAAK,UAC/B,OAAQ,EAAW,KAAK,OACxB,OAAQ,EAAW,KAAK,QACnB,OAKN,cAIb,kBAAC,GAAK,CACJ,UAAW,EAAW,KAAK,MAC3B,cAAe,EAAW,cAC1B,MAAO,EAAW,QAEpB,kBAAC,GAAK,CACJ,cAAe,EAAW,KAAK,UAC/B,cAAe,EAAW,cAC1B,MAAO,EAAW,MAClB,UAAW,EAAW,aAG1B,kBAAC,IAAK,CAAC,WAAW,GAChB,kBAAC,GAAM,CACL,QAAS,EACT,MAAO,EAAW,MAClB,cAAe,EAAW,cAC1B,MAAO,EAAW,KAAK,QAExB,EAAW,UAAU,KAAI,SAAC,EAAU,GACnC,SAAS,MAAM,KAAI,SAAC,EAAO,GACzB,SAAM,OAAO,KAAI,SAAC,EAAO,G,cACvB,GAAmB,cAAf,EAAM,KAAsB,CAC9B,IAAM,EAAY,EAAW,KAAK,MAChC,SAAC,GAAQ,SAAI,KAAO,EAAX,UAEL,EAAQ,EAAQ,WACpB,SAAC,GAAW,SAAO,UAAoB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAlB,OAEd,OAAe,IAAX,IAEkB,eAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,OACwB,KAAX,QAAvB,EAAe,QAAf,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,YAAI,eAAE,cAAM,QAAI,IAHL,MAOH,QAApB,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,iBAAS,eAAE,YAEF,KAAI,SAAC,EAAM,G,cACzB,EACwC,QAA5C,EAAsC,QAAtC,EAA8B,QAA9B,IAAU,UAAU,kBAAU,eAAG,UAAK,eAAE,YAAI,QAC5C,OACI,EACc,SAAlB,EACI,EACkB,SAAlB,EACA,EACA,KACN,OAAK,EAEH,kBAAC,EAAW,CACV,IAAK,kBAAW,EAAI,aAAK,EAAI,aAAK,EAAI,aAAK,GAC3C,UAAW,EAAW,UACtB,YAAa,EACb,SAAU,EACV,SAAU,EACV,aAAc,EACd,UAAW,EAAW,KAAK,MAC3B,cAAe,EAAW,KAAK,UAC/B,OAAQ,EAAW,KAAK,OACxB,OAAQ,EAAW,KAAK,OACxB,QAAgC,QAAvB,EAAgB,QAAhB,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAM,eAAE,aAAK,aAAI,IAbf,QAiBtB,GAAmB,UAAf,EAAM,KAAkB,CACjC,IAAM,EACgB,YAApB,EAAM,UACF,EACoB,SAApB,EAAM,UACN,EACA,KACN,OAAK,EAEH,kBAAC,EAAW,CACV,IAAK,kBAAW,EAAI,aAAK,EAAI,aAAK,GAClC,UAAW,EAAW,UACtB,YAAa,EACb,SAAU,EACV,SAAU,EACV,UAAW,EAAW,KAAK,MAC3B,cAAe,EAAW,KAAK,UAC/B,QAA4B,QAAnB,EAAY,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,eAAE,aAAK,aAAI,IAVX,KAc3B,OAAO,eAMf,kBAAC,IAAK,CAAC,WAAW,IACM,QAArB,IAAW,KAAK,aAAK,eAAE,WACpB,EAAW,KAAK,QAClB,EAAW,UAAU,KAAI,SAAC,EAAU,GAClC,SAAS,MAAM,KAAI,SAAC,EAAO,GACzB,SAAM,MAAM,KAAI,SAAC,EAAM,G,MACf,EAAY,GAAa,MAC7B,SAAC,GAAY,SAAQ,OAAS,EAAjB,QAET,EAA0C,GACrC,QAAX,IAAK,cAAM,SAAE,SAAQ,SAAC,GACpB,EAAgB,EAAM,MAAQ,EAAM,OAEtC,IAAM,EAAO,EAAY,EAAU,UAAY,KAC/C,OAAQ,GAAS,EACf,kBAAC,EAAI,IACH,IAAK,mCAA4B,GAEjC,UAAW,EAAW,UAEtB,YAAa,EAGb,GAAI,EAAK,GACT,cAAe,EAAW,cAC1B,UAAW,EAAW,KAAK,MAC3B,cAAe,EAAW,KAAK,UAC/B,OAAQ,EAAW,KAAK,OACxB,OAAQ,EAAW,KAAK,OACxB,MAAO,EAAK,OACR,IAhBqB,eAwBvC,kBAAC,IAAK,CAAC,WAAW,GACb,EAAW,KAAK,QAAQ,aAC1B,EAAS,QAAQ,sBAClB,EAAW,MAAM,UAAU,aACzB,kBAAC,GAAS,CACR,UAAW,EAAW,UACtB,KAAM,EAAW,KACjB,cAAe,EAAW,cAC1B,YAAa,EAAW,KAAK,QAC7B,UAAW,EAAW,KAAK,MAC3B,MAAO,EAAW,MAClB,OAAQ,EAAW,KAAK,OACxB,QAAS,EACT,cAAe,EAAW,KAAK,YAE/B,KACJ,kBAAC,GAAQ,CACP,UAAW,EAAW,UACtB,cAAe,EAAW,cAC1B,KAAM,EAAW,KACjB,KAAM,EAAW,KACjB,UAAW,EAAW,MAAM,SAIlC,kBAAC,GAAW,CACV,KAAM,EAAW,KACjB,UAAW,EAAW,UACtB,YAAa,EAAW,KAAK,QAC7B,cAAe,EAAW,KAAK,UAC/B,kBAAmB,IAErB,kBAAC,GAAe,CACd,QAEY,QADV,EAAuD,QAAvD,EAAoB,QAApB,IAAW,iBAAS,eAAG,EAAW,UAAU,OAAS,UAAE,eACnD,cAAM,QAAI,EAEhB,YAAa,IAEf,kBAAC,GAAU,CACT,eAAgB,EAChB,QAAS,EACT,WAAY,EACZ,UAAW,EAAW,UACtB,MAAO,EAAW,KAAK,MACvB,MAAO,EAAW,MAClB,WAAY,EAAW,WACvB,SAAU,EACV,iBAAkB,EAClB,SAAU,EAAS,QACnB,KAAM,EAAW,QArTrB,yBACM,MAAG,CACC,OAAE,OACF,WAAM,EAAW,MAAM,kBAG/B,kBAAC,IAAQ,CAAK,IAAQ,MAAC,gBAAkB,MAAM,EAAM,WAAS,GAC5D,kBAAC,IAAU,CAAK,QAAI,KAAK,UAAU,OAAK,0BAGxC,kBAAC,IAAgB,CAAC,MAAM,oBAoTxC,GAAO,YAAc,S,IpB1bM,G,uvBqBCd,GAAsB,SAAC,GAQ1B,MAAgC,EAA7B,IAAE,EAA2B,EAArB,OAAK,EAAW,GAAK,EAAlC,kBACA,EAAQ,GAAiB,GAC7B,OAAG,EACE,CACD,MAAG,CAAC,GACJ,IAAC,EACD,OAAI,GAJS,MAQR,GAAmB,SAAC,GAMvB,MAAmC,EAA7B,OAAE,EAA2B,EAAtB,MAAE,EAAoB,EAAX,UAAE,EAAS,EAAL,KACpC,MAAW,cAAT,GAAyB,EAQtB,CACL,OAAQ,CAPC,cAAT,GAA0B,EACtB,GAA0B,CACxB,OAAM,EACN,MAAO,IAET,GAAsB,CAAE,OAAM,EAAE,MAAO,KAGvC,MAAG,IAVuD,MAcrD,GAAwB,SAAC,GAI5B,MAAkB,EAAZ,OACZ,MAAK,CACD,MAFoB,EAAL,MAGf,KAAE,QACF,UAAO,UACP,OAAE,IAIG,GAA4B,SAAC,GAKtC,MAAK,CAEDC,KAAE,YACF,OAJoB,EAAZ,OAKR,MALoB,EAAL,QAsCV,GAAkB,SAAC,GAMtB,MAA+D,EAAtD,UAAE,EAAoD,EAAnC,kBAAE,EAAiC,EAAtB,YAAE,EAAoB,EAAL,gBAE5D,EAAmB,IAEnB,EAAqB,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,KACvB,EAAmB,EAAU,GAC/B,EACD,SAAK,EAAU,MAAM,EAAG,IAAkB,GAAK,EAAU,MAAM,EAAoB,IAAE,GAElF,EAAkB,EAAiB,QAAU,EAAc,EAAI,GAC/D,EAAyB,EAAiB,KAAI,SAAC,EAAU,GAC7D,SAAS,OAAS,EAAS,IAAM,EAC7B,EAAS,OAAS,EAAS,IAClB,IAAT,EACA,GAAmB,EAAkB,GAAK,EAC1C,KAEA,EAA0B,EAAa,SAAK,GAAsB,IAAE,IAAgB,GAAI,EACxF,EAAwBC,EAAwB,MAAM,GAAG,QAAO,SAAC,EAAK,GAAQ,aAAW,GAG7F,GAAE,GApBsB,IAkBY,EAEJ,CAC5B,IAAE,EAAgB,EAAkB,EAAwB,GAAK,EAC/D,EAAc,EAAwB,KAAI,SAAC,EAAG,GAClD,YAAK,KAAc,IAAT,EAvBY,IAuBqB,GAAoB,EAAG,MAE9D,EAAmB,EAAY,QAAO,SAAC,EAAK,GAAQ,aAAW,GAC/D,EACiB,IAArB,EAAyB,EAAI,GAAiB,EAAmB,EAAI,EAAgB,EACjF,EAAkB,EAAwB,KAAI,SAAC,EAAG,GAAS,SAAI,KAAK,MAAM,EAAgB,EAA/B,OAC3D,EAA8B,EAAgB,MAAM,GAAG,QAAO,SAAC,EAAK,GAAQ,aAAW,GAUvF,EAAmB,EAAiB,QACxC,SAAC,EAAK,EAAK,GACH,OAAE,IAAR,EACI,UAAM,GAAG,CAAE,IAAK,EAAG,OAAQ,EAAkB,KAC9C,SACM,GAAG,I,SAED,GAAG,CACN,IAAK,EAAI,EAAI,OAAS,GAAG,OACzB,OAAQ,EAAI,EAAI,OAAS,GAAG,OAAS,EAAgB,OAExD,KACP,IAEI,EAAmB,GAA4B,cAAjB,EAAQ,KAAuB,EAAQ,UAAU,WAAW,YAAS,EACrG,QAAI,IAAI,GACR,IAAE,GACH,GAAuC,IAA5B,EAAiB,OAEzB,CACE,GAAoB,CACZ,IAAD,EAAiB,EAAiB,OAAS,GAAG,OACnD,OAAQ,EACR,OAAQ,EAAQ,GACV,MAAC,GAAqB,EAAQ,KAAM,EAAY,cAAU,EAAW,GAC3E,UAA4B,cAAjB,EAAQ,KAAuB,EAAQ,eAAY,EAC9D,KAAM,EAAQ,QARlB,IAWJ,QAAO,SAAC,GAAQ,mBACd,OAAJ,SAAW,GAAgB,GAAK,GAAW,GAEvC,IAAE,EAAS,GAAmB,EAAwB,GAAK,GACzD,EAA8B,EACjC,MAAM,GACN,KAAI,SAAC,GAAW,YAAK,IAAI,KAAK,KAAK,EAAS,GAA5B,QACb,EAA2B,EAA4B,QAAO,SAAC,EAAK,GAAQ,cAC5E,EAAmB,EAAiB,QACxC,SAAC,EAAK,EAAK,GACT,OAAQ,IAAR,EACI,C,SAEO,GAAG,CACN,IAAK,EACL,OAAQ,EAAkB,KAG/B,SACM,GAAG,I,SAED,GAAG,CACN,IAAK,EAAI,EAAI,OAAS,GAAG,OACzB,OAAQ,EAAI,EAAI,OAAS,GAAG,OAAS,EAA4B,EAAM,OAE1E,KACP,IAEI,EAAmB,GAA4B,cAAjB,EAAQ,KAAuB,EAAQ,UAAU,WAAW,YAAS,EACnG,GACH,GAAuC,IAA5B,EAAiB,OAEzB,CACE,GAAoB,CAClB,IAAK,EAAiB,EAAiB,OAAS,GAAG,OACnD,OAAQ,EACR,OAAQ,EAAQ,GAChB,MAAO,GAAqB,EAAQ,KAAM,EAAY,cAAU,EAAW,GAC3E,UAA4B,cAAjB,EAAQ,KAAuB,EAAQ,eAAY,EAC9D,KAAM,EAAQ,QARlB,IAWJ,QAAO,SAAC,GAAQ,mBAClB,gBAAW,GAAgB,GAAK,GAAW,I,oZChMzC,GAAgB,SACpB,EACA,EACA,EACA,G,kBAEQ,EAA+C,EAA3C,KAAE,EAAyC,EAA5B,cAAE,EAA0B,EAAd,aAAE,EAAY,EAAL,QAC1C,EAAU,EAAL,MACQ,EAAmC,EAAjB,YAAE,EAAe,EAAL,WACpC,EAAyC,EAA9B,MAAU,EAAoB,EAAL,OAC7C,EAA2B,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,KAC7B,EAAe,EAAkB,EACjC,EAAc,EAAQ,KAAK,MAC3B,EAAY,EAAQ,KAAK,KAEzB,EAAa,EAAQ,KAAK,WAE1B,MACkB,QAAnB,EAAY,QAAZ,IAAQ,YAAI,eAAE,aAAK,eAAG,QAA2B,QAAnB,EAAY,QAAZ,IAAQ,YAAI,eAAE,aAAK,eAAG,QAC1C,QAAZ,IAAQ,YAAI,eAAE,QACf,EAAmB,SAAS,QAO5B,IALA,CAAC,WAAY,WAAY,kBAAkB,SACrB,QAApB,EAAc,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,YAAI,QAAI,KAEzB,CAAC,YAAa,SAAS,SAA6B,QAApB,EAAc,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,YAAI,QAAI,MACtD,EAAQ,KAAK,OACU,EAC1B,gBACK,GAAc,CACjB,YAAa,EACb,OAAO,EACP,IAAK,IAEP,GAAE,GAAc,EAChB,MAAO,CACD,KAAE,WACF,OAAG,EACP,KAAK,EACL,aAAa,GAEf,GAAE,IAAe,EAAW,CACxB,IAAE,EAAa,EAAQ,KAAK,QAC1B,EA7DmB,SAC3B,EACA,EACA,GAEA,IAAK,EAAO,OAAO,KACjB,IAAI,EAA0B,OAAV,QAAU,IAAV,IAAc,GAC9B,EAAiB,EAAU,MAC/B,SAAC,GACK,OAAJ,EAAM,IAAM,EAAI,OAAS,GACzB,EAAM,GAAK,EAAI,OAAS,KAE1B,IAAG,EAAgB,OAAO,KAC5B,IAAM,EAAY,EAAU,QAAQ,GACpC,OAAmB,IAAf,EAAyB,KACtB,EA8CqB,CAAqB,EAAY,GAGvD,GADoB,OAAtB,GAA8B,IAAsB,EAAU,OAAS,EAEvE,MAAO,CACC,sBACA,MAAC,EACD,IAAD,EACL,YAAa,EACb,YAAa,EAAU,GAAmB,OAC1C,aAAa,GAEb,IAAE,ElDqDmB,SAC3B,EACA,EACA,EACA,GAEA,IAAK,IAAU,IAAc,EAAO,MAAO,GAC3C,IAAM,EAAc,GAAsB,EAAO,GACjD,GAAoB,OAAhB,EAAsB,MAAO,GACjC,IAAM,EAAc,EAAM,iBACpB,EAAe,EAAM,mBAE3B,OAAO,EAAU,GAAa,MAC3B,KAAI,SAAC,EAAO,G,UACL,EAAgD,QAApC,EAA6B,QAA7B,EAAc,QAAd,IAAK,iBAAS,eAAG,UAAY,eAAE,aAAK,eAAG,GACzD,OAAK,EACE,EAAM,MACV,KACC,SAAC,EAAM,GACL,SAAK,GACF,KAAI,SAAC,EAAU,GACd,IAAM,EAAa,EAAW,EAAS,GAAI,EAAa,GAClD,EAAa,GACjB,EAAS,GACT,EAAU,GAAa,OACvB,EAAU,SACV,EAAU,YACV,EAAU,aAEZ,OAAO,EAAM,IAAM,EAAa,IAC9B,EAAM,IAAM,EAAa,IACzB,EAAM,IAAM,EAAa,IACzB,EAAM,IAAM,EAAa,GACvB,CAAE,YAAW,EAAE,SAAQ,EAAE,QAAO,EAAE,UAAS,GAC3C,QAEL,QAAO,SAAC,GAAM,sBAOpB,OA5BoB,MA8BxB,OkDlGgB,CAAc,EAAY,EAAW,EAAO,GACzD,KAAS,OAAS,EAAG,CACjB,MAAgD,EAAS,GAAvD,EAAW,cAAE,EAAQ,WAAE,EAAO,UAAE,EAAS,YAG3C,MAAC,CACG,KAAF,WACE,MAAD,EACC,IAAH,EACG,YAAG,EACH,WACR,QAAO,EACP,UAAS,EACT,WATA,EAAU,GAAa,MAAM,GAAU,MAAM,GAAS,GAAG,GAUzD,aAAa,GAQb,OAJF,EAAW,IAAM,GACjB,EAAW,GAAK,EAAI,GACpB,EAAW,IAAM,GACjB,EAAW,GAAK,EAAI,EAEb,CACL,KAAM,YACN,MAAO,EACP,IAAK,EACL,aAAa,GAGf,EAAW,IAAM,GACjB,EAAW,GAAK,EAAI,GACpB,EAAW,IAAM,EAAI,EAEd,CACL,KAAM,QACN,MAAO,EACP,IAAK,EACL,uBAAwB,EAAM,mBAC9B,gBAAiB,EAAM,iBACvB,aAAa,GAGV,KAEP,OAAK,MAoFI,GAAkB,SAC7B,EACA,EACA,GAEE,IAAI,EAAkB,EAAqB,EAAI,EAAM,MAAM,YAC3D,OAAK,GAAgB,CACrB,gBAAiB,EACjB,UAAW,K,oZC7HF,GAAiB,SAC5B,EACA,GAEQ,IAAa,EAAc,EAAL,YACxB,EAAU,EAAQ,UAAU,GAAW,MAAM,KAAI,SAAC,GAAS,SAAK,OAAO,KAAI,SAAC,GAAU,sBAAe,OAqCrG,EAAkB,EAAQ,cAAc,OAAS,EAAQ,MAAM,MAAM,YACrE,EAAY,GAAgB,CAChC,gBAAe,EACf,UAAW,EAAQ,UACnB,kBAAmB,IAEnB,OAAF,SACK,GAAO,CACV,KAAM,EAAQ,KAAK,QAAO,SAAC,GAAe,OAAC,EAAQ,SAAS,EAAlB,OACtC,UAAK,KAkBA,GAAW,SAAC,EAAuB,GACtC,MAA+E,EAArE,WAAE,EAAmE,EAA1D,UAAE,EAAwD,EAA7C,YAAE,EAA2C,EAAzC,GAAE,EAAuC,EAA/B,SAAE,EAA6B,EAApB,UAAE,EAAkB,EAAL,cAE5E,EAAc,EAAQ,UAAU,GAAa,MAAM,GAAG,OAAO,OAGjE,IAAI,GAAY,GAAe,IAAa,EAAY,OAAO,EAC/D,IAAI,EAAO,GAAW,EAAY,EAAW,EAAI,EAAW,EAAU,GACtE,IAAG,EAAM,OAAO,EAChB,IAAI,EAAS,EAAK,GACd,EAA+B,cAAd,EAAK,KAAuB,EAAK,UAAU,WAAW,YAAS,EAChF,EAAQ,GAAqB,EAAK,KAAM,EAAQ,MAAM,WAAY,EAAa,GAE/E,EACU,cAAd,EAAK,MAA0B,GAAe,EAC1C,GAA0B,CACxB,OAAM,EACN,MAAO,IAET,GAAsB,CAAE,OAAM,EAAE,MAAO,IAEzC,EAAmB,IAAW,EAAyB,KAAK,EAAK,KAAK,OAAS,GAAG,OAAO,OAAS,IACpG,EAAM,MAAM,YAAe,EAAyB,KAAK,EAAK,KAAK,OAAS,GAAG,OAAO,KAAI,SAAC,EAAG,GAC5F,OAnBmB,SAAC,GACtB,UAAeC,EAAQ,MAAM,WAAa,GAAkB,GAAkB,GAkB5E,CAAe,OAEjB,IAAI,EAAW,EAAQ,UAAU,GACjC,OAAK,GAAa,GAAa,EAAS,CAAC,QAAO,SAAM,EAAQ,MAAI,IAAE,IAAI,IAAI,CAAC,YAAa,GAAY,SACnG,GAAQ,CACX,MAAO,UAAM,EAAS,MAAM,IAAE,CAAE,OAAM,SAAM,EAAS,MAAM,GAAG,QAAM,IAAE,IAAK,UAmBlE,GAAiB,SAAC,EAAuB,G,MACrC,EAAc,EAAL,MAClB,EAA4B,QAAd,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAE,eAAE,GAC9B,EAAe,EAAU,KAAI,SAAC,EAAU,G,QAC5C,MAAkB,UAAlB,EAAS,KACL,EACD,SACM,GAAQ,CACX,SAA2B,QAAjB,IAAS,gBAAQ,QAAI,EAC/B,GAAe,QAAX,IAAS,UAAE,QAAI,QAAU,EAAY,WAAW,SAAS,EAAG,UAGlE,EAAoB,KACxB,EACG,KAAI,SAAC,EAAU,GACd,MAAkB,cAAlB,EAAS,MAAyB,EAAkB,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,IAElD,KADA,GAAmC,EAAqB,EAAS,OAGtE,OACA,QAAO,SAAC,GAAQ,oBAGf,EAAa,EAAa,KAAI,SAAC,GACnC,MAAa,UAAb,EAAI,KAAmB,GAAgB,EAAI,KAAM,EAAI,KAAM,EAAI,IAAM,QAEjE,EAAY,MAAI,GAAU,GAChC,EAAkB,SAAQ,SAAC,EAAQ,GACjC,IAAM,EAA0B,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,WAAU,SAAC,EAAK,GAAS,SAAI,KAAJ,KACrD,EAAuB,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAe,GAC1B,EAAkC,eAAX,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,MAAuB,EAAW,KAC3D,EAA2B,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,SAE7B,EAAc,EAAU,GAAqE,KAA5C,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MAAK,SAAC,GAAQ,OAAG,OAAH,QAAG,IAAH,OAAG,EAAH,EAAK,MAAL,KAChD,eAAX,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,OAAwB,GAAc,IAClD,EAAU,GAAe,GACb,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,KACF,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,GACZ,EAAa,eACb,EACA,EACA,EAAa,UAGnB,IAAM,EAAa,EAAU,QAAO,SAAC,GAAQ,mBACzC,EAAW,SAAW,EAAa,QAAQ,QAAQ,KAAK,sDAC5D,IAAM,EAAgB,EdlGa,SACnC,EACA,GAEE,IAAE,GAAQ,EACR,EAAO,EACL,EAA+F,EAG/F,EACG,KAAI,SAAC,EAAU,G,gCAcV,IAZQ,IAAV,GACC,EAA8B,QAApB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,kBAAU,eAAE,eACZ,UAAlB,EAAS,MACW,cAAlB,EAAS,MAAwB,EAAS,UAAU,QAAQ,cAEjE,IACA,EAAO,GAEP,IAIoB,UAAlB,EAAS,KAAkB,CACvB,MAC8E,QAAlF,GAAC,OAAQ,UAAW,QAAQ,MAAK,SAAC,GAAG,MAAK,YAA4B,QAApB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,kBAAU,eAAE,qBAAU,QAAI,UAElF,MAAC,CACL,OAAQ,EAAS,GACjB,QAAS,EACT,KAAM,QACN,UAAS,EACT,MAAK,YACA,IAAuB,CAC1B,YAAa,EACT,GAA0B,YAAY,GACtC,GAAsB,YAAY,KACf,QAApB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,kBAAU,eAAE,OAEnB,YAAsC,QAAjC,EAAoB,QAApB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAUC,kBAAU,eAAE,mBAAW,QAAI,EAC1C,SAAE,EACF,SAAgC,QAA9B,EAAoB,QAApB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,kBAAU,eAAE,gBAAQ,QAAI,GAEzC,MAAsB,cAAlB,EAAS,KACX,CACL,OAAmB,QAAX,IAAS,UAAE,QAAI,GACvB,QAAS,EACT,KAAM,YACN,MAAO,CACL,aAAwC,QAA3B,EAAoB,QAApB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,kBAAU,eAAE,aAAK,eAAE,aACtC,EAAS,WAAW,MAAM,YAC1B,EAAS,UAAU,WAAW,QAAU,EACxC,GAAsB,YACtB,EACA,GAAgB,MAAM,EAAG,EAAS,UAAU,WAAW,QACvD,GAAiB,MAAM,EAAG,EAAS,UAAU,WAAW,SAE9D,YAA8C,QAAjC,EAAoB,QAApB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,kBAAU,eAAE,mBAAW,QAAI,EAClD,SAAU,EACV,SAAwC,QAA9B,EAAoB,QAApB,EAAQ,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,kBAAU,eAAE,gBAAQ,QAAI,GAElC,QAEf,QAAO,SAAC,GAAQ,aACnB,MAAK,SAAC,EAAG,GACT,UAAK,GAAK,EAAE,cAAgB,EAAE,YAC1B,EAAE,YAAc,EAAE,YAClB,GAAK,GAAKrK,EAAE,cAAgB,EAAE,YAC9B,EAAE,SAAW,EAAE,SACf,KA/DN,GA+EF,OAdmB,KAAW,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,KAAI,SAAC,GAAU,yBACjB,KAAI,SAAC,EAAG,GAAS,MAAC,CAChD,IAAK,EACL,OAAQ,EACR,MAAO,CAAC,GAAG,KAAI,SAAC,EAAG,GAAS,MAAC,CAC3B,MAAO,GACP,OAAc,OAAN,QAAM,IAAN,OAAM,EAAN,EACJ,QAAO,SAAC,GAAQ,SAAI,cAAJ,KACjB,KAAI,SAAC,GAEJ,OAD0D,EAAvC,YAAuC,EAA7B,SAA6B,EAAnB,SAAc,GAAK,EAApD,kDciBoB,CAAsB,EAAQ,MAAM,WAAY,GAAa,GACzF,EAAY,GAAgB,EAAQ,cAAc,OAAQ,EAAe,EAAQ,OAGvF,gBAAY,GAAO,CAAE,UAAS,EAAE,KAAM,K,+hBCvPlC,GAAkG,CACtG,CAAE,KAAM,kBAAmB,KAAM,CAAC,QAAS,oBAC3C,CAAE,KAAM,uBAAwB,KAAM,CAAC,QAAS,YAAa,gBAC7D,CAAE,KAAM,kCAAmC,KAAM,CAAC,QAAS,YAAa,2BACxE,CAAI,KAAI,8BAA+B,KAAM,CAAC,QAAS,YAAa,uBACpE,CAAE,KAAM,4BAA6B,KAAM,CAAC,QAAS,YAAa,qBAClE,CAAI,KAAI,kCAAmC,KAAM,CAAC,QAAS,YAAa,2BACxE,CAAI,KAAI,8BAA+B,KAAM,CAAC,QAAS,YAAa,uBACpE,CAAI,KAAI,4BAA6B,KAAM,CAAC,QAAS,YAAa,qBAClE,CAAI,KAAI,kBAAmB,KAAM,CAAC,QAAS,OAAQ,gBACnD,CAAE,KAAM,kBAAmB,KAAM,CAAC,QAAS,YAAa,gBAAiB,QAAQ,GACjF,CAAE,KAAM,mBAAoB,KAAM,CAAC,cAAe,QAAQ,GAC1D,CAAE,KAAM,cAAe,KAAM,CAAC,QAAS,OAAQ,YAAa,QAAQ,GACpE,CAAE,KAAM,cAAe,KAAM,CAAC,QAAS,OAAQ,YAAa,QAAQ,GACpE,CAAE,KAAM,iBAAkB,KAAM,CAAC,QAAS,QAAS,cACnD,CAAE,KAAM,mBAAoB,KAAM,CAAC,QAAS,QAAS,gBACrD,CAAE,KAAM,iBAAkB,KAAM,CAAC,QAAS,QAAS,cACnD,CAAE,KAAM,mBAAoB,KAAM,CAAC,QAAS,QAAS,gBACrD,CAAE,KAAM,iBAAkB,KAAM,CAAC,QAAS,QAAS,eAGxC,GAAoB,SAAC,EAAuB,G,MACrD,GCoJuC,SAAC,GAC1C,MAAgB,wBAAhB,EAAO,KDrJH,CAA8B,GAAS,CACnC,MAA8C,EAAO,OAAnD,EAAM,SAAE,EAAW,cAAE,EAAQ,WAAE,EAAQ,WACzC,EAAY,EAAQ,KAAK,MAAK,SAAC,GAAQ,SAAI,KAAJ,KAC7C,GAAwB,eAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MAAsB,OAAO,EAC5C,IAAM,EACJ,GACA,EAAU,UAAU,OAAO,KAAI,SAAC,EAAO,GACrC,YAAiB,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,UAAW,EAAO,SAAM,GAAK,CAAE,IAAK,EAAS,cAEpE,gBACK,GAAO,CACV,KAAM,GAAoB,EAAS,EAAQ,CAAE,UAAS,EAAE,YAAW,GAAI,KAGzE,GCoImC,SAAC,GACtC,MAAgB,oBAAhB,EAAO,KDrIH,CAA0B,GAAS,CAC/B,MAA0B,EAAO,OAA/B,EAAM,SAAE,EAAW,cAC3B,OAAO,GAAuB,EAAS,EAAQ,GAEjD,GC4GiC,SAAC,GAClC,MAAgB,gBAAhB,EAAO,KD7GH,CAAsB,GAAS,CAC3B,MAAmE,EAAO,OAAxE,EAAQ,WAAE,EAAI,OAAE,EAAW,cAAE,EAAQ,WAAE,EAAO,UAAE,EAAY,eAC9D,EAAO,EAAQ,UAAU,GAAa,MAAM,GAAU,MAAM,GAClE,MAAgB,gBAAT,GAAmC,gBAAT,EAC7B,GAAa,EAAS,CAAC,YAAa,EAAa,QAAS,EAAU,QAAS,EAAS,QAAS,GAAO,GAC7F,gBAAT,EACA,GACE,EACA,CAAC,YAAa,EAAa,QAAS,EAAU,QAAS,EAAS,MAChE,CAAC,CAAC,EAAK,GAAG,GAAG,GAAI,KAEV,cAAT,GAAyB,EAAU,GAMnC,EALA,GACE,EACA,CAAC,YAAa,EAAa,QAAS,EAAU,QAAS,EAAS,SAAU,EAAc,OACxF,GAGD,GCwF2B,SAAC,GACnC,MAAgB,iBAAhB,EAAO,KDzFI,CAAuB,GAAS,CACnC,MAAsD,EAAO,OAApB,GAAvC,EAAQ,WAAE,EAAI,OAAE,EAAW,cAAE,EAAQ,WAAU,YACnD,MAAG,CAAC,cAAe,kBAAmB,gBAAiB,oBAAqB,yBAAyB,SACvG,GAEE,GACE,EACA,CAAC,YAAa,EAAa,QAAS,EAAU,SAAU,EAAU,QAAS,GAC3E,GAEO,cAAT,GAAsC,SAAb,GAAoC,YAAb,EAEvC,WAAT,EACA,GAAa,EAAS,CAAC,YAAa,EAAa,QAAS,EAAU,SAAU,EAAU,UAAW,GACnG,EAHA,GAAa,EAAS,CAAC,YAAa,EAAa,QAAS,EAAU,SAAU,EAAU,aAAc,GAIrG,GCuE6B,SAAC,GACrC,MAAgB,mBAAhB,EAAO,KDxEI,CAAyB,GAAS,CACjC,IAAJ,EAAiC,EAAO,OAA5B,EAAU,WAAE,EAAI,OAC5B,EAAoB,OAAZ,SAAY,IAAZ,QAAY,EAAZ,GAAc,MAAK,SAAC,GAAU,SAAM,OAAN,KACxC,IAAC,EAAO,OAAO,EACP,IAAJ,EAAiB,EAAb,KACN,EADmB,EAAL,QtCfI,SAAC,EAAU,GACnC,GAAiB,kBAAR,EAAkB,OAAO,KAClC,IAAE,EAAU,EACZ,IAOI,OANA,EAAC,SAAQ,SAAC,EAAU,GAChB,UAAY,IAAiC,kBAAb,GAA6C,kBAAb,EAC5D,MAAF,IAAI,MAAM,2BAAoB,EAAW,aAAK,EAAQ,uCAExD,EAAI,EAAQ,MAEb,EACP,MAAO,GACH,QAAI,MAAM,4BAA6B,IsCIhB,CAAa,EAAS,GAAQ,EACzD,OAAO,GAAa,EAAS,EAAM,GAC9B,GCuFsB,SAAC,GAA8D,oBAAO,KDvFxF,CAAkB,GACvB,OAAG,GAAe,EAAS,EAAO,QACjC,GCoE0B,SAAC,GAClC,MAAgB,gBAAhB,EAAO,KDrEI,CAAsB,GAC3B,ODzEmB,SAAC,EAAuB,GACzC,IAAY,EAAuD,EAAhD,WAAE,EAA8C,EAArC,UAAE,EAAmC,EAAjC,GAAE,EAA+B,EAAtB,UAAE,EAAoB,EAAf,MAAE,EAAa,EAAL,SAEhE,EAAkB,EAAQ,cAAc,OACxC,EAAO,GAAW,EAAS,EAAW,EAAI,EAAW,GAC3D,IAAK,EAAM,OAAO,EAClB,IAAM,EAA+B,cAAd,EAAK,KAAuB,EAAK,UAAU,WAAW,YAAS,EAEhF,EAAQ,GAAqB,EAAK,KAAM,EAAQ,MAAM,gBAAY,EAAW,GAC7E,EAAS,EAAK,GAElB,GAA+B,IAA7B,EAAQ,UAAU,QAAkB,EAAO,CAC7C,IACM,EAAS,EAAkB,EAAQ,MAAM,MAAM,YAC/C,EAAc,GAAoB,CAAE,IAF9B,EAEmC,OAAM,EAAE,OAAM,EAAE,MAAK,EAAE,UAAS,EAAE,KAAM,EAAK,OAC5F,OAAK,EACL,SACK,GAAO,CACV,KAAM,CAAC,GACP,UAAW,CAAC,KAJW,EA0CrB,IAAE,EAAkB,EAAkB,EAAQ,MAAM,MAAM,YACxD,EAAY,GAAgB,CAChC,gBAAe,EACf,UAAW,EAAQ,UACnB,YAAa,CAAE,KAAI,EAAE,SAAU,EAAQ,MAAM,cAE3C,OAAJ,SACK,GAAO,CACJ,KAAF,SAAM,EAAQ,MAAI,IAAE,IAAI,GACtB,UAAG,ICOJ,CAAY,EAAS,EAAO,QAC9B,GCuE6B,SAAC,GACrC,MAAgB,mBAAhB,EAAO,KDxEI,CAAyB,GAC9B,OAAG,GAAe,EAAS,EAAO,QACjC,GCkEuB,SAAC,GAC/B,MAAgB,aAAhB,EAAO,KDnEI,CAAmB,GAC5B,OAAO,GAAS,EAAS,EAAO,QAC3B,GCqE0B,SAAC,GAClC,MAAgB,gBAAhB,EAAO,KDtEI,CAAsB,GAC3B,OD6FmB,SAAC,EAAuB,GACzC,IAAa,EAAwD,EAA/C,YAAY,EAAmC,EAA5B,SAAY,EAAgB,EAAL,SAClE,EAAS,EAAQ,UAAU,GAAW,MAAM,GAAS,OAAO,GAAa,OACzE,EAAW,EAAQ,UAAU,GACjC,OAAkB,IAAhB,GAA+D,IAA1C,EAAS,MAAM,GAAS,OAAO,OAC/C,GAAe,EAAS,CAAE,YAAa,IAEvC,GACL,GAAgB,EAAS,CAAC,YAAa,EAAW,QAAS,EAAS,SAAU,IAC9E,CAAC,QACD,EAAQ,KAAK,QAAO,SAAC,GAAQ,SAAI,KAAJ,MCvGxB,CAAY,EAAS,EAAO,QAC9B,GC2E4B,SAAC,GACpC,MAAgB,kBAAhB,EAAO,KD5EI,CAAwB,GACjC,OHhCyB,SAC3B,EACA,GAEQ,MAA+B,EAAnB,aAAE,EAAiB,EAAL,aAC5B,EAAW,GAAgB,EAAe,EAAe,EACzD,EAAY,EAAe,EAAe,EAAe,EAEzD,EAAY,EAAQ,UAAU,GAC9B,EAAY,EAAQ,UAAU,GAC9B,EAAU,EAAU,OAAS,EAAU,IACvC,EAAU,EAAU,OAAS,EAAU,IACvC,EAAY,EAAU,EAC1B,OAAK,IAAa,GAAa,EAAU,IAAa,EAAU,IAAc,GAAa,EAAQ,UAAU,OAC3G,EACD,SACM,GAAO,CACV,UAAS,kBACJ,EAAQ,UAAU,MAAM,EAAG,IAAS,I,SAClC,GAAS,CAAE,OAAQ,EAAU,IAAM,EAAS,IAAK,EAAU,Q,GAC7D,EAAQ,UACR,MAAM,EAAW,EAAG,GACpB,KAAI,SAAC,EAAK,GAAS,gBAAM,GAAG,CAAE,IAAK,EAAI,IAAM,EAAW,OAAQ,EAAI,OAAjD,QAAuE,I,SACxF,GAAS,CAAE,IAAK,EAAU,IAAM,EAAW,OAAQ,EAAU,W,GAC/D,EAAQ,UAAU,MAAM,EAAY,IAAE,KGQxC,CAAc,EAAS,EAAO,QAChC,GCmEyB,SAAC,GACjC,MAAgB,eAAhB,EAAO,KDpEI,CAAqB,GAAS,CACjC,MAAqC,EAAO,OAA1C,EAAW,cAAE,EAAQ,WAAE,EAAO,UACtC,OAAO,GAAgB,EAAS,CAAC,YAAa,EAAa,QAAS,EAAU,QAAS,IAClF,GCoEyB,SAAC,GACjC,MAAgB,eAAhB,EAAO,KDrEI,CAAqB,GAC9B,OD0JsB,SAAC,EAAuB,GACxC,MAAS,EAAL,KAEN,EAAiB,SAClB,EAAQ,UAAU,IAAE,CACvB,IAAK,EACL,OACW,UAAT,EACI,EAAQ,cAAc,OAAS,EAAI,EAAQ,MAAM,MAAM,YACvD,EAAQ,UAAU,GAAG,OAC3B,MAAO,C,SAEA,EAAQ,UAAU,GAAG,MAAM,IAAE,CAChC,OACW,QAAT,GAA2B,eAAT,EACd,CAAC,EAAQ,UAAU,GAAG,MAAM,GAAG,OAAO,IACtC,EAAQ,UAAU,GAAG,MAAM,GAAG,OACpC,MAAgB,QAAT,GAA2B,UAAT,EAAmB,GAAK,EAAQ,UAAU,GAAG,MAAM,GAAG,WAIrF,MAAgB,QAAT,GAA2B,eAAT,EACrB,GACE,GAAa,EAAS,CAAC,aAAc,CAAC,IACtC,CAAC,QACD,CAAC,EAAQ,KAAK,MAAK,SAAC,GAAG,gBAAK,SAAI,MAAsD,QAA/C,EAA0C,QAA1C,EAAkC,QAAlC,EAA6B,QAA7B,EAAsB,QAAtB,EAAiB,QAAjB,IAAQ,iBAAS,eAAG,UAAE,eAAE,aAAK,eAAG,UAAE,eAAE,cAAM,eAAG,UAAE,eAAE,aAEjF,UAAT,EACA,GAAa,EAAS,CAAC,aAAY,IAAG,GAAsB,EAAQ,WAAS,IAC7E,ECvLK,CAAW,EAAS,EAAO,QAC7B,GC6EuB,SAAC,GAC/B,MAAgB,aAAhB,EAAO,KD9EI,CAAmBsK,GAAS,CAC7B,MAAU,EAAO,OAAZ,MACI,GAAU,EAAf,KAAU,GAAK,EAArB,WACA,EAAY,EAAM,WAAa,GAA4B,GAC7D,OAAO,GAAX,MACK,GAAO,CACV,MAAK,YACA,GACA,GAAK,CACR,UAAS,SAAO,EAAU,WAAc,EAAM,WAC9C,KAAI,SAAO,EAAU,MAAS,EAAM,MACpC,KAAI,SAAO,EAAU,MAAS,EAAM,MACpC,MAAK,SAAO,EAAU,OAAU,EAAM,OACtC,MAAK,SAAO,EAAU,OAAU,EAAM,WAGrC,GCyCmB,SAAC,GAA2D,iBAAO,KDzClF,CAAe,GAAS,CAC7B,IAAE,EAAK,EAAO,OAAO,GAErB,OADyE,QAA7D,KAAa,MAAK,SAAC,GAAS,SAAK,OAAS,EAAO,OAArB,eAAiC,eAAE,UAC9D,EAAO,OAAO,MAIrB,GAAQ,EAAO,OAAO,KAC9B,SACK,GAAO,CACV,KAAI,SAAO,EAAQ,MAAI,CAAE,WAAW,EAAM,GAAI,GAAI,KAAM,EAAO,OAAO,SAGnE,EATL,SAAY,GAAO,CAAE,KAAM,KAUxB,GCkC+B,SAAC,GACvC,MAAgB,2BAAhB,EAAO,KDnCI,CAA2B,GAAS,CACzC,IAAE,EAAS,KAAU,EAAQ,KAAK,MAAO,EAAO,OAAO,SAAS,KAAK,OAErE,GADA,CAAE,MAAK,SAAO,EAAQ,KAAK,OAAU,EAAO,OAAO,SAAS,KAAK,QAE/D,EAAa,KAAU,EAAQ,UAAW,EAAO,OAAO,SAAS,WAEnE,GADA,CAAE,UAAW,EAAO,OAAO,SAAS,WAElC,EAAiB,KAAU,EAAQ,cAAe,EAAO,OAAO,SAAS,eAE3E,GADA,CAAE,cAAe,EAAO,OAAO,SAAS,eAGxC,OAAJ,eACK,GACA,GACA,GAAS,CACZ,QAAS,EAAO,OAAO,SAAS,QAChC,KAAM,EAAO,OAAO,SAAS,KAC7B,KAAI,YAAO,EAAQ,MAAS,EAAO,OAAO,SAAS,MAAS,KAGhE,OAAO,G,oZE1JH,GAAyB,SAAC,EAAc,EAAc,EAAkB,GAC1E,IAAI,EAAkB,EAAI,KAAK,IAAI,GAAI,GACnC,GAAsB,EAAO,GAAQ,EAAkB,EACvD,EAAgB,KAAK,MAAM,KAAK,MAAM,KAAwB,EAGlE,OAAK,WACL,MAAM,GACH,KAAK,GACL,KAAI,SAAC,EAAG,GACP,IALwB,EAKlB,EACJ,EACA,KAAK,IAAI,GAAI,EAAgB,KAAK,MAAM,EAAM,KAC7C,EAAM,IAAM,EAAI,EAAM,EAAM,IAAM,EAAI,IAAM,EAAM,IAAM,EAAI,EAAM,GAErE,MAAO,CACL,aAAY,EACZ,SAZsB,EASa,EATK,KAAK,KAAK,EAAO,GAAQ,EAAzB,QAe3C,QAAO,SAAC,EAAM,GACb,OAAI,EAAI,SAAc,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,SAAgB,EAC5B,KAEb,aAAa,QAAQ,KAItB,GAAkB,SACtB,EACA,EACA,EACA,EACA,GAEQ,MAA0B,EAApB,OAAE,EAAkB,EAAd,KAAE,EAAY,EAAL,QACvB,EAAkB,EAAU,GAA1B,EAAG,MAAE,EAAM,SACb,EAAkB,KAAK,IAAI,KAAK,OAAO,EAAS,GAAO,IAAK,GAChE,OAAK,EAAU,GAAa,MAAM,GAAU,OAAO,KAAI,SAAC,G,cAClD,EAAY,EAAK,MAAK,SAAC,GAAQ,SAAI,KAAO,EAAX,UACjC,KAAU,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,MAAM,OAAO,KACzB,ItDpBN,EACA,EACA,EsDkBQ,EAAmD,QAAjC,EAAU,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,YAAqB,QAAI,GACvD,EAA+C,QAA9B,EAAC,SAA6B,eAAE,UACjD,EAAU,EAAgB,MAAM,EAAQ,EAAO,GAC/C,GtDvBR,EsDuBsC,EtDtBtC,EsDsBsE,QAAvB,EAAc,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,eAAO,eAAE,YtDrBxE,EsDqBmG,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,WtDnB9F,EAAqB,EAAW,KAAS,EAC5C,EAAY,GACZ,KAAK,IAAG,MAAR,KACK,EAAW,KAAI,SAAC,GACb,KAAqB,GAAU,CACjC,IAAM,EAAM,KAAK,IAAG,MAAR,KACN,EAAQ,OAAO,QACjB,SAAC,EAAO,GAAI,QAAK,OAAU,OAAV,GAAkB,CAAC,OAAQ,QAAQ,SAAiC,QAAxB,EAAkB,QAAlB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAa,UAAK,eAAE,YAAI,QAAI,QAG7F,OAAO,EAAU,GAAO,EAAI,EAE9B,OAAI,EAAuB,GAAiB,EAAQ,KAC7C,EAAQ,WsDOf,EtDFuB,SAC/B,EACA,EACA,GAEE,OAAK,EAAqB,EAAW,KAAS,EAC5C,EAAY,GACZ,KAAK,IAAG,MAAR,KACK,EAAW,KAAI,SAAC,GACb,KAAqB,GAAU,CACjC,IAAM,EAAM,KAAK,IAAG,MAAR,KACN,EAAQ,OAAO,QACjB,SAAC,EAAO,GAAI,QAAK,OAAU,OAAV,GAAkB,CAAC,OAAQ,QAAQ,SAAiC,QAAxB,EAAkB,QAAlB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAa,UAAK,eAAE,YAAI,QAAI,QAG7F,OAAO,EAAU,GAAO,EAAI,EAE9B,OAAI,EAAuB,GAAiB,EAAQ,IAC7C,EAAQ,UsDhBH,CAAkB,EAAgC,QAAvB,EAAc,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,eAAO,eAAE,YAA2B,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,YAC7F,EAA+B,QAAnB,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,gBAAQ,QAAI,EACnC,EAAgB,GAAuB,EAAW,EAAW,EAAW,GAC9E,MAAO,CACL,YAAa,CACX,KAAM,EAAgB,GACtB,EAAG,EACH,KAAM,EACN,WAAY,IAEd,QAAO,EACP,UAAS,EACT,KAAM,KAAK,KAAK,EAAY,GAAiB,EAC7C,UAAS,EACT,KAAM,KAAK,MAAM,EAAY,GAAiB,OAMvC,GAAuB,SAClC,EACA,EACA,EACA,EACA,G,QAEM,EAAQ,EACX,KAAI,SAAC,EAAU,GACd,SAAS,MACN,KAAI,SAAC,EAAO,GACX,SAAM,OAAO,KAAI,SAAC,EAAO,GACvB,SAAM,SAAW,EAAS,CAAE,YAAa,EAAM,SAAU,EAAM,SAAU,GAAS,WAGrF,UAEJ,OACA,QAAO,SAAC,GAAQ,mBACb,EAAY,OAAL,QAAK,IAAL,OAAK,EAAL,EAAQ,GACnB,IAAG,IAAS,EAAQ,OAAO,KAC3B,IAAI,EAAa,SAAC,GAAkB,SAAO,EAAO,EAAK,YAAa,EAAhC,WAChC,EACO,QADM,EAAkG,QAAlG,EAAC,EAAK,MAAK,SAAC,GAAQ,SAAI,KAAO,GAAX,cAAqB,EAAI,eAAqD,eACjH,iBAAS,eAAE,WAkBb,OAhBW,EAAqB,GAC9B,CACE,UAAW,EAAQ,OAAO,KAAI,SAAC,EAAO,GAAI,QACxC,UAAS,CAAC,OAAQ,QAAQ,SAAiC,QAAxB,EAAkB,QAAlB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAa,UAAK,eAAE,YAAI,QAAI,IAAM,EAAW,GAAS,SAG7F,EAAuB,GACvB,CACE,QAAS,EAAW,EAAQ,MACxB,QAAK,EAAW,EAAQ,MAC5B,OAAQ,EAAW,EAAQ,KAC3B,SAAU,EAAW,EAAQ,QAE/B,EAAqB,GACrB,CAAM,SAAM,EAAW,EAAQ,QAC/B,M,oZC9EA,GAAgB,SACpB,EACA,EACA,GAQE,OAAG,GAAiB,GAAS,EACtB,GAAT,MAAY,GAAI,CAAE,GAAE,SAAM,EAAK,IAAE,IAAE,IAAE,KADK,IAItC,GAAU,SACd,EACA,EACA,EACA,G,QASM,EAAK,EAAK,GAYV,EAAmE,QAA1D,EAAkD,QAAlD,KAAa,MAAK,SAAC,GAAQ,SAAI,OAAS,EAAb,eAAuB,eAAE,cAAM,QAAI,GAC3E,OzCHwB,SAAC,EAAU,EAA2B,GAC9D,OAAF,GAAgB,EAAK,EAAM,EAAU,OyCE9B,CAAa,EAAW,CAAC,EAAa,QAAS,EAAG,SAAU,CACjE,GAAI,EACJ,KAAM,EAAK,KACX,MAAO,EAAM,KACb,OAAM,KC9DG,GAAgB,SAC3B,EACA,EACA,EACA,G,gEAEE,IAAG,IAAgB,IAAc,EAAU,OAAO,KAE5C,IAAM,EAAyC,EAA5B,KAAY,EAAgB,EAAL,SAC5C,EzDkCoB,SAAC,GAA8B,MAAC,CAC1D,OAAQ,EAAcC,EAAM,WAC5B,KAAM,EAAc,EAAM,SAC1B,IAAK,EAAc,EAAM,QACzB,KAAM,EAAc,EAAM,SAC1B,MAAO,EAAc,EAAM,UAC3B,KAAM,EAAc,EAAM,UyDxCN,CAAa,GACzB,EAAyC,EAAnC,OAAE,EAAiC,EAA7B,KAAE,EAA2B,EAAxB,IAAE,EAAsB,EAAlB,KAAE,EAAgB,EAAX,MAAE,EAAS,EAAL,KACtC,EAAU,EAAS,MAAM,WAAU,SAAC,GAAQ,SAAI,OAAJ,KAC5C,EAA4C,QAAjC,EAAyB,QAAzB,EAAc,QAAd,IAAS,aAAK,eAAG,UAAQ,eAAE,cAAM,eAAE,WAAU,SAAC,GAAQ,SAAI,QAAJ,KACjE,EAA8D,QAApD,EAA6C,QAA7C,EAAiC,QAAjC,EAAyB,QAAzB,EAAc,QAAd,IAAS,aAAK,eAAG,UAAQ,eAAE,cAAM,eAAG,UAAS,eAAE,aAAK,eAAE,WAAU,SAAC,GAAQ,SAAI,OAAJ,KACnF,EAA8E,QAArE,EAA+D,QAA/D,EAAoD,QAApD,EAA6C,QAA7C,EAAiC,QAAjC,EAAyB,QAAzB,EAAc,QAAd,IAAS,aAAK,eAAG,UAAQ,eAAE,cAAM,eAAG,UAAS,eAAE,aAAK,eAAG,UAAQ,eAAE,YAAI,eAAE,WAAU,SAAC,GAAM,SAAE,MAAF,KACjG,EAA+E,QAArE,EAA+D,QAA/D,EAAoD,QAApD,EAA6C,QAA7C,EAAiC,QAAjC,EAAyB,QAAzB,EAAc,QAAd,IAAS,aAAK,eAAG,UAAQ,eAAE,cAAM,eAAG,UAAS,eAAE,aAAK,eAAG,UAAQ,eAAE,YAAI,eAAG,GACtF,IAAe,IAAb,IAAgC,IAAd,IAAgC,IAAb,IAA8B,IAAZ,IAAkB,EAAS,OAAO,KAE3F,IAAI,EAAiB,EAAY,QAAiC,QAAxB,EAAiB,QAAjB,EAAY,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAe,UAAE,eAAE,aAAK,eAAG,IACjE,EAAkB,EAAY,QAAiC,QAAxB,EAAiB,QAAjB,EAAY,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAe,UAAE,eAAE,aAAK,eAAG,IAClE,EAAU,EAAwB,OAAP,QAAO,IAAP,OAAO,EAAP,EAAS,MAAM,WAAU,SAAC,GAAQ,SAAI,OAAJ,UAAqB,EAClF,GACJ,IACC,EAAU,KACuE,KAAzD,QAAzB,EAAc,QAAd,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAS,aAAK,eAAG,UAAQ,eAAE,QAAQ,WAAU,SAAC,GAAQ,SAAI,SAAJ,MACzB,QAAzB,EAAc,QAAd,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAS,aAAK,eAAG,UAAQ,eAAE,QAAQ,WAAU,SAAC,GAAQ,SAAI,SAAJ,UACtD,EACJ,GAAG,GAAkB,EAAU,IAAc,GAAmB,EAAU,IAAa,OAAO,KAE9F,GAAE,EAAY,OAAS,GAAiC,IAAhB,EAAmB,OAAO,EAElE,IAAI,GAAyB,CAAE,QAAO,EAAE,SAAQ,EAAE,QAAO,EAAE,OAAM,EAAE,QAAO,EAAE,UAAS,IACjF,IAAiB,IAAY,GAC7B,GAAmC,WAAlB,EAA8B,EAAgC,EAC/E,GAAkC,UAAlB,EAA6B,EAAwB,EACrE,GAAiC,SAAlB,EAA4B,EAAsB,EACjE,GAAkC,UAAlB,EAA6B,EAAsB,EAEvE,OAAK,GAAU,EAAa,EAAU,KAAc,GAAY,GAE5C,UAAlB,GAA6B,GAAW,EAAa,EAAU,GAAU,KAAmB,GAC5F,UACC,CAAC,QAAS,UAAU,SAAS,IAC9B,GAAa,EAAa,EAAU,GAAU,KAC9C,GACA,SACC,CAAC,QAAS,SAAU,SAAS,SAAS,IACvC,GAAS,EAAa,EAAU,GAAU,KAC1C,GACA,OACC,CAAC,QAAS,SAAU,QAAS,QAAQ,SAAS,KAC/C,GAAU,EAAa,EAAU,GAAU,KAC1C,GAEiB,YAAlB,GAA+B,GAAY,EAAa,EAAU,GAAU,GAC5E,UACA,KAHA,QAdA,SAoBA,GAAY,SAChB,EACA,EACA,G,UAGQ,EAAqB,EAAlB,IAAE,EAAgB,EAAZ,KAAE,EAAU,EAAL,MAChB,EAAY,EAAL,QACf,IAAK,EAAU,OAAO,EACtB,IAAM,EAAkD,QAAjC,EAAyB,QAAzB,EAAc,QAAd,IAAS,aAAK,eAAG,UAAQ,eAAE,cAAM,eAAG,GACzD,OACA,EAAe,MAAM,GAAG,KAAK,GAAG,MAAQ,GACxC,EAAe,MAAM,GAAG,OAAS,GACjC,EAAe,QAAU,GAMvB,GAAa,SACjB,EACA,EACA,EACA,gBAAI,EAAJ,GAEU,IAAF,EAAc,EAAX,IAAE,EAAS,EAAL,KACT,EAAsB,EAAf,QAAE,EAAa,EAAL,SAEvB,SAAG,EAAW,GAAK,IAAmB,IAAkB,IAAb,IAAgC,IAAd,IAAoB,KAEjF,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAG,KAAK,GAAG,MAAQ,GAClE,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAG,OAAS,IAMzD,GAAe,SACnB,EACA,EACA,EACA,gBAAI,EAAJ,GAEQ,MAAc,EAAX,IAAE,EAAS,EAAL,KACT,EAA+B,EAAxB,QAAE,EAAsB,EAAd,SAAE,EAAY,EAAL,QAChC,IAAG,EAAU,OAAO,EACtB,GACE,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAS,KAAK,GAAG,MAAQ,GACxE,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAS,OAAS,EACjE,CACA,GAAuB,IAAnB,EAAsB,CACxB,IAAI,EAAc,EAClB,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,SAAQ,SAAC,GAAQ,OAAC,GAAe,EAAI,KAApB,UAKhE,IAJA,IAAI,EAAU,EACV,EAAM,EACN,EAAa,EACX,EAAoB,KAAK,MAAM,EAAc,GAC1C,EAAI,EAAG,EAAI,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,OAAQ,IAAK,CAC9E,IAAM,EAAc,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAC/D,KAAK,IAAI,EAAU,EAAY,KAAK,OAAS,GAAqB,KAAK,IAAI,EAAM,KACnF,EAAM,EAAU,EAAY,KAAK,OACjC,EAAa,EAAI,GAEnB,GAAW,EAAY,KAAK,OAExB,OAAF,IAAY,EAEX,GAAuB,IAAnB,EACH,QAAU,IAAZ,GAAiB,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAG,KAAK,OAAS,MAEnF,IAAY,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,OAAS,GACpE,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAS,KAAK,OAAS,GAM1E,OAAK,GAGH,GAAW,SACf,EACA,EACA,EACA,G,uBAAA,QAAI,EAAJ,GAEQ,MAAQ,EAAL,IACH,EAAuC,EAAhC,QAAE,EAA8B,EAAtB,SAAE,EAAoB,EAAb,QAAE,EAAW,EAAL,OACxC,IAAG,EAAU,OAAO,EACpB,IAAI,EAA+E,QAArE,EAA+D,QAA/D,EAAoD,QAApD,EAA6C,QAA7C,EAAiC,QAAjC,EAAyB,QAAzB,EAAc,QAAd,IAAS,aAAK,eAAG,UAAQ,eAAE,cAAM,eAAG,UAAS,eAAE,aAAK,eAAG,UAAQ,eAAE,YAAI,eAAG,GACtF,IAAc,IAAZ,IAA8B,IAAb,IAAgC,IAAd,IAAgC,IAAb,IAAmB,EAAS,OAAO,EAG3F,GAAE,EAAQ,MAAQ,GAA0B,IAAnB,EACrB,OAAG,EAET,GAAI,EAAQ,MAAQ,GAA0B,IAAnB,EAAsB,CAC/C,GAAI,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAS,KAAK,QAAU,EAAG,OAAO,EACrF,GAC2E,IAAxE,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAS,KAAK,SAA4B,IAAX,GAA2B,IAAX,IACtB,IAAxE,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAS,KAAK,SAA4B,IAAX,GAA2B,IAAX,IACtB,IAAxE,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAS,KAAK,SAChD,IAAX,GAA2B,IAAX,GAA2B,IAAX,IACsC,IAAxE,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAS,KAAK,SAChD,IAAX,GAA2B,IAAX,GAA2B,IAAX,GAEnC,OAAO,EAET,OAAK,GAGH,GAAY,SAChB,EACA,EACA,EACA,G,yBAAA,aAEQ,MAAS,EAAL,KACJ,EAAgD,EAAzC,QAAE,EAAuC,EAA/B,SAAE,EAA6B,EAAtB,QAAE,EAAoB,EAAd,OAAE,EAAY,EAAL,QACnD,IAAK,EAAU,OAAO,EACtB,IAAM,EAA+E,QAArE,EAA+D,QAA/D,EAAoD,QAApD,EAA6C,QAA7C,EAAiC,QAAjC,EAAyB,QAAzB,EAAc,QAAd,IAAS,aAAK,eAAG,UAAQ,eAAE,cAAM,eAAG,UAAS,eAAE,aAAK,eAAG,UAAQ,eAAE,YAAI,eAAG,GAClF,EAAW,EAAU,GAAW,KAAqB,QAAd,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAS,aAAK,eAAG,GAC9D,SACc,IAAZ,IACa,IAAb,IACc,IAAd,IACa,IAAb,IACa,IAAb,IACC,GACD,EAAU,MAIR,EAAU,IAAmB,GAC7B,EAAS,OAAS,IAIlB,GAAc,SAClB,EACA,EACA,EACA,qBAEQ,MAAW,EAAL,OACN,EAA2D,EAApD,QAAE,EAAkD,EAA1C,SAAE,EAAwC,EAAjC,QAAE,EAA+B,EAAzB,OAAE,EAAuB,EAAhB,QAAE,EAAc,EAAL,UAC9D,IAAK,EAAU,OAAO,EACtB,IAAM,EAAU,EAAS,MAAM,GAAS,OAAO,GAAU,MAAM,GAAS,KAAK,GAC7E,IAAiB,IAAb,IAAgC,IAAd,IAAgC,IAAb,IAA8B,IAAZ,EAAe,OAAO,EACjF,GAAI,EAAU,KAAyB,IAAb,GAAkB,EAAU,KAA6B,IAAf,EAAkB,OAAO,EAC7F,IAAM,EAAa,EAAQ,MAAM,GAAS,QAAQ,GAClD,OAAI,EAAY,IAAmB,GAC/B,EAAW,SAAW,G,kuBCzNtB,GAAW,SACf,EACA,EACA,GAEE,OAAK,GAAa,EAChB,KAAK,IACH,GACG,EAAI,KAAK,IAAI,IAAc,EAAiB,IAC/C,EAAiB,GAEnB,KAAK,IACH,GACG,EAAI,KAAK,IAAI,IAAc,EAAiB,IAC/C,IAoEF,GAAgB,SACpB,EACA,EACA,EACA,EACA,G,QAEM,EAAe,GAEhB,EAAiB,EADlB,EAEE,EAAS,KAAK,IAAI,KAAK,KAAK,GAAc,GAC1C,EAAY,EAAS,EAAqB,EAC1C,EAA8B,CAC9B,OAAE,EACF,UAAK,EACL,KAAE,EACN,MAAO,EACP,WAAY,EACZ,QAAS,EACL,SAAM,GACN,eAAY,MAEZ,EAAgB,EAAK,MACzB,SAAC,GAAQ,SAAI,MAAgB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAX,WAET,IACC,IACA,IACA,IACA,IACA,EAAc,UACiB,KAAb,QAAnB,EAAa,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,YAAI,eAAE,QAErB,OAAO,EAEP,IAAI,EAAqC,QAAzB,IAAc,KAAK,cAAM,QAAI,EACzC,EAAU,KAAK,IACnB,EACA,EAAY,EAAqB,GAE7B,EAAmB,EACnB,EAAa,KAAK,OACrB,EAAmB,GAAkB,GAElC,EAAO,KAAK,IAAI,EAAY,EAAY,GACxC,EA7GiB,SACvB,EACA,EACA,EACA,GAEA,IAAK,EAAS,cAAgB,EAAU,OAAO,KACzC,MACJ,EAAS,YADG,EAAe,OAAY,EAAmB,WAEtD,EAAkB,EAAa,WACnC,SAAC,GAAgB,SAAY,OAAZ,KAEjB,IAAuB,IAArB,EAAwB,OAAO,KACjC,IAAI,EAAe,EAAW,EAAgB,EAAG,GAE7C,EAAU,MAAQ,EAAS,QAC/B,OAAK,QAAQ,GAAY,SAAQ,SAAC,G,IAAC,EAAG,KAChC,EAAO,EACT,IAAQ,EACV,EAAW,GACR,EAAW,GAAQ,EAAgB,EAAW,GAC9C,EAAW,GAAmB,KAGnC,IAAI,EAAkB,KAAK,IAAI,KAAK,MAAM,EAAiB,IAAK,GAC5D,EAAuB,SAAC,EAAqB,GACjD,YAAK,IAAI,EAAc,EAAW,IAC9B,EAAe,EAClB,MAAM,GACN,KAAI,SAAC,EAAa,GACjB,IAAM,EAAO,EAAY,KACnB,EACS,IAAb,EACI,IAAC,GAAM,EAAY,gBAAc,GAC9B,QAAO,SAAC,GAAQ,eAChB,KAAI,SAAC,GAAQ,cACjB,IAAE,GAAM,EAAY,gBAAc,GACvC,OAAO,IAAC,GAAM,GAAS,GAAE,KAAI,SAAC,EAAU,GACtC,IAAM,EAAM,EAAW,GACjB,EAAS,EAAY,OAC3B,MAAO,CAAE,KAAI,EAAE,SAAQ,EAAE,IAAG,EAAE,OAAM,SAGvC,OACA,QAAO,SAAC,EAAK,EAAK,GACb,OAAJ,EAAqB,EAAI,IAAK,EAAI,UAClC,EAAqB,EAAI,IAAK,EAAI,UAC9B,EACA,KAGN,OADyB,EAAhB,IAAW,GAAK,EAArB,SA2DiB,CACrB,EAAc,KACd,EAAc,SACd,EACA,GAEI,EAAc,EAAc,KAAK,YACjC,EAAwB,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,SAC1B,EACH,GAAmB,IAAe,EAAU,GAExC,MAAM,EAAO,EAAS,GACpB,KAAK,GACL,KAAI,SAAC,EAAG,GACP,IAAM,EAAK,EAAS,EACd,EAAe,GACnB,EAAc,KAAK,GAAI,KACvB,EACA,EAAW,MAEN,IAGP,GAAI,EAAc,CAChB,IAAM,EAAa,EACjB,EAAc,KAAK,GAAI,KACvB,GAEF,MAAO,CAAE,EAAG,EAAY,EAAqB,EAAK,WAAU,GAE9D,OAAO,QAER,QAAO,SAAC,GAAQ,mBAtBnB,GAoCJ,MAAK,CACD,MAAG,EAAY,EACf,OAAE,EACF,UAAK,EACL,OACA,WAAM,EACN,QAAG,EACH,SAAI,EACJ,eAAU,EACV,OAlBS,SAAC,EAAW,GAErB,OAAG,EAAW,EADgB,OAAX,QAAW,IAAX,IAAe,EACD,IAiBjC,OAdS,SAAC,EAAc,GAE5B,OAAO,EAAW,EADgB,OAAX,QAAW,IAAX,IAAe,EACE,M,waC3K/B,GAAuB,SAClC,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,G,YrBiQ0C,EqB9PpC,EAAc,EACd,EAAe,EAGf,EAAuB,IAAM,OrB2P5B,CACL,KAAM,CAAE,UAAW,GAAI,SAFiB,EqBzPZ,GrB2PsB,KAAK,QAAS,MAAO,EAAkB,KAAK,OAC1F,cAAW,EAAkB,cACjC,QAAS,EAAkB,QAC3B,aAAc,CACZ,WAAY,KACZ,kBAAmB,GACnB,WAAY,IAAI,KAChB,YAAa,GACb,uBAAwB,QqB9PtB,EAC4C,QAAhD,EAAuB,QAAvB,EAAc,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,eAAO,eAAE,+BAAuB,QAAI,GADzC,EAAS,MAAQ,EAAU,OAEtC,EAAF,EAAM,WAAU,WACd,IAAM,EAAM,EACZ,IACM,OAAH,QAAG,IAAH,OAAG,EAAH,EAAK,WACN,GACa,WAAb,IACA,EAAU,KACV,EAAU,GALZ,CAQI,IAAE,EAAe,EAAqB,QAEpC,EAAgC,EAAI,QAAlC,EAAW,cAAE,EAAY,eAS3B,EAAgB,CACd,IAAD,EACC,OACA,MAVO,WAAb,QAAyC,IAAhB,EACrB,EACA,EASE,OAPO,WAAb,QAA0C,IAAjB,EACrB,EACA,EAMJ,MAAM,GAEJC,EAAA,QAAQ,MAAM,SAAW,WACzB,UAAQ,MAAM,MACH,WAAb,QAAyC,IAAhB,EACrB,EAAc,KACd,OACF,UAAQ,MAAM,OACH,WAAb,QAA0C,IAAjB,EACrB,EAAe,KACf,OACFA,EAAA,QAAQ,MAAM,IAAM,MACpB,UAAQ,MAAM,KAAO,MACrB,EAAiB,QAAO,SACvB,GAAY,CACf,aAAY,SACP,EAAa,cAAY,CAC5B,YAAW,SACN,EAAa,aAAa,aAAW,IACxC,oB,KAGJ,cAAa,OAEd,CACD,EACA,EACA,EACA,EACA,EACA,EACA,IAIA,EAAF,EAAM,WAAU,WACV,IAAE,EAAM,EACR,GAAI,OAAH,QAAG,IAAH,OAAG,EAAH,EAAK,QACN,KACI,EAAF,QAAQ,MAAM,cAAgB,YAIhC,GADA,UAAQ,MAAM,cAAgB,OAC7B,EAAD,CACA,IAAE,EAAe,EAAqB,QAEpC,EAAqB,SAAC,GAC1B,GAAK,GAAQ,EAAI,QAAjB,CACQ,IAAY,EAA+B,OAA1B,WAAe,EAAW,OAAL,YACxC,EAAe,QAAO,SACvB,GAAY,CACf,aAAY,SACP,EAAa,cAAY,CAC5B,YAAW,SACN,EAAa,aAAa,aAAW,IACxC,oB,KAGJ,cAAe,CAAE,IAAK,EAAG,KAAM,EAAG,MAAK,EAAE,OAAM,EAAE,MAAM,OAMvD,OAHA,IACA,OAAG,iBAAiB,SAAU,GAC9B,OAAG,iBAAiB,oBAAqB,GACtC,WACL,OAAO,oBAAoB,SAAU,GACrC,OAAO,oBAAoB,oBAAqB,OAEjD,CAAC,EAAgB,EAAY,IAG9B,IAAI,EAAuB,IAAM,aACjC,SAAC,EAAO,G,MACN,KACe,eAAb,GACA,EAAU,IACV,EAAU,IACV,KAG0B,QAAvB,EAAc,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,eAAO,eAAE,eAA9B,CACA,IAAM,EAAe,EAAqB,QACpC,EACJ,EAAe,QAAQ,cAAc,wBAD/B,EAAG,MAAE,EAAI,OAEb,QAAI,IAAI,KAAM,EAAU,EAAK,EAAM,EAAO,GAC1C,EAAiB,QAAO,SACvB,GAAY,CACT,aAAM,SACP,EAAa,cAAY,CAC5B,YAAW,SACN,EAAa,aAAa,aAAW,IACxC,oB,KAGJ,cAAe,CAAE,IAAG,EAAE,KAAI,EAAE,MAAK,EAAE,OAAM,EAAE,MAAM,QAGrD,CAAC,EAAY,EAAU,IAGvB,OAAF,KAAE,CAAgB,CACZ,UAAyD,QAAlD,GAAE,QAA+B,QAAtB,IAAe,eAAO,eAAE,sBAAe,aAAI,EAC7D,SAAM,IAKV,IAAI,EAAkB,SAAC,GAA2C,OAClE,EAAG,GAAK,EACR,EAAG,GAAK,IA0MV,OAxME,OAAF,KAAE,CACA,CACM,QAAK,SAAC,GAEA,IAAE,EAKN,EALgB,OAClB,EAIE,EAJI,OACI,EAGR,EAHuB,SACzB,EAEE,EAFG,MAEH,EADI,OAEF,EAAe,QAAQ,QAAO,SAC/B,EAAqB,QAAQ,SAAO,CAC/B,MAAD,CACL,WAAU,EACV,OAAQ,EAAgB,GACxB,gBAAe,EACf,MAAK,KAIH,EAAe,QAAQ,aAAa,YAAW,SAChD,EAAqB,QAAQ,aAAa,YAAY,QACvD,SAAC,GAAQ,4BACV,IACD,UACD,IAEH,OAAQ,SAAC,GACP,IAAM,EACJ,EAAqB,QAAQ,aAAa,YAAY,SACpD,QAEE,EAAY,EAAqB,QAAQ,QAAQ,KAAK,MACtD,EACJ,GAAwB,EACpB,EAAU,GAAK,EAAU,MAAM,GAC/B,EAAU,MAAM,GAChB,EACJ,GAAwB,EACpB,EAAU,GAAK,EAAU,MAAM,GAC/B,EAAU,MAAM,GAEpB,EAOE,EAPA,GACF,EAME,EANK,QACG,EAKR,EALuB,SAClB,EAIL,EAJY,MACR,EAGJ,EAHU,KACJ,EAEN,EAFgB,OAClB,EACE,EADK,QAEH,EAAQ,GACV,EAAqB,QAAQ,QAAQ,KAAK,OAC1C,EACE,EAAO,GACT,EAAqB,QAAQ,QAAQ,KAAK,MAC1C,IACA,GAAe,GAAU,EAAU,MAAM,IAAO,EAAU,MAAM,MAEpE,EAAqB,QAAO,SACvB,EAAqB,SAAO,CAC/B,QAAO,SACF,EAAqB,QAAQ,SAAO,CACvC,KAAM,CACJ,WAAU,EACV,GAAI,EAAgB,GACpB,QAAS,EAAgB,GACzB,gBAAe,EACf,KAAI,EACJ,MAAK,EACL,MAAO,CAAC,EAAQ,GAChB,QAAO,KAGX,aAAY,SACP,EAAqB,QAAQ,cAAY,CAC5C,YAAW,SACN,EAAqB,QAAQ,aAAa,aAAW,IACxD,S,GAEF,WAAY,EAAqB,QAAQ,aAAa,iBAI5D,OAAQ,SAAC,KACU,EAAU,QAGxB,EAAU,OACV,EAAU,MAAM,IAChB,EAAU,MAAM,MAGnB,EAAqB,QAAO,SACvB,EAAqB,SAAO,CAC/B,QAAO,SACF,EAAqB,QAAQ,SAAO,CACvC,KAAM,CACJ,SAAU,EAAU,OACpB,GAAI,EAAgB,EAAU,OAGlC,aAAY,SACP,EAAqB,QAAQ,cAAY,CAC5C,YAAW,SACN,EAAqB,QAAQ,aAAa,aAAW,IACxD,gBAGL,SAEH,QAAS,SAAC,GACR,EAAqB,QAAO,SACvB,EAAqB,SAAO,CAC/B,QAAO,SACF,EAAqB,QAAQ,SAAO,CACvC,WAAY,EAAW,SAEzB,aAAY,SACP,EAAqB,QAAQ,cAAY,CAC5C,YAAW,SACN,EAAqB,QAAQ,aAAa,aAAW,IACxD,gBAGL,QAEH,QAAS,SAAC,GACR,IAAM,EACJ,EAAqB,QAAQ,aAAa,YAAY,SACpD,SAEE,EAAY,EAAqB,QAAQ,QAAQ,MAAM,MACvD,EACJ,GAAwB,EACpB,EAAU,GAAK,EAAW,MAAM,GAChC,EAAW,MAAM,GACjB,EACJ,GAAwB,EACpB,EAAU,GAAK,EAAW,MAAM,GAChC,EAAW,MAAM,GACvB,EAAqB,QAAO,SACvB,EAAqB,SAAO,CAC/B,QAAO,SACF,EAAqB,QAAQ,SAAO,CACvC,MAAO,CAAE,MAAO,CAAC,EAAQ,GAAS,WAAY,EAAW,UAE3D,aAAY,SACP,EAAqB,QAAQ,cAAY,CAC5C,YAAW,SACN,EAAqB,QAAQ,aAAa,aAAW,IACxD,UAGL,QAEH,UAAW,SAAC,GAER,MAKE,EALA,GAEF,GAGE,EAJK,QAIL,EAHG,OACL,EAEE,EAFE,KACM,EACR,EADuB,SAE3B,EAAqB,QAAO,SACvB,EAAqB,SAAO,CAC/B,QAAO,SACF,EAAqB,QAAQ,SAAO,CACvC,cAAe,CACb,iBAAiB,EACjB,GAAI,EAAgB,GACpB,QAAS,EAAgB,GACzB,gBAAe,EACf,KAAI,EACJ,MAAK,KAGT,aAAY,SACP,EAAqB,QAAQ,cAAY,CAC5C,YAAW,SACN,EAAqB,QAAQ,aAAa,aAAW,IACxD,YAGL,SAGL,CAEE,UAAW,EAAa,SAAS,KAAO,EAExC,UAAW,SAAC,G,IAAC,EAAC,KAAE,EAAC,KAAM,OAAC,GAAe,OAAV,QAAU,IAAV,IAAc,GAAI,GAAc,OAAT,QAAS,IAAT,IAAa,KACjE,KAAM,CAAE,mCAAmC,EAAM,UAAU,GAC3D,SACG,GACD,EAAqB,QAAQ,cAAc,KAC7C,aAAc,CAAE,SAAS,EAAO,SAAS,GACzC,MAAO,CAAE,UAAW,SAAC,GAAW,OAAT,KAAG,QAC1B,MAAO,CAAE,UAAW,SAAC,GAAW,OAAT,KAAG,UAGvB,G,iNC/SI,GAAiC,SAC5C,EACA,EACA,EACA,G,YAEQ,EAA6C,EAAzC,KAAiB,EAAwB,EAAjB,cAAE,EAAe,EAAL,WAC1C,EAAQ,EAAK,MACb,GACgC,QAAlC,EAA0B,QAA1B,EAAqB,QAArB,EAAc,QAAd,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAE,eAAE,aAAK,eAAG,UAAE,eAAE,cAAM,eAAG,KACvC,EAAe,EAAU,GAAG,MAAM,GAAG,OAAO,IACxC,EAAU,GAAG,MAAM,GAAG,OAAO,GAC7B,KACA,EAAS,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,GACf,IAAG,IAAc,IAAS,IAAc,EAAI,OAAO,KACnD,IAAI,EAAc,GAAsB,EAAI,GAC5C,GAAkB,OAAhB,EAAsB,OAAO,GAC/B,IAqBI,EA5FsB,SAC5B,EACA,EACA,EACA,GAQE,GAAsB,WAAX,OAAT,QAAS,IAAT,OAAS,EAAT,EAAW,QAAqB,EAAQ,OAAO,KACjD,IAAI,EAAW,EAAK,MAAK,SAAC,GAAQ,SAAI,KAAO,EAAX,UAClC,GAAqB,WAAX,OAAR,QAAQ,IAAR,OAAQ,EAAR,EAAU,MAAkB,OAAO,KAC/B,IAAM,EAA+C,EAAlC,KAAY,EAAsB,EAAL,SAC5B,EAC1B,EADsC,mBAAoB,EAC1D,EADwE,iBAEpE,EAAaC,KAAKC,MACtB,EAAiB,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,GAAG,GAAW,EAAgB,IAE7C,EAAgB,EAAW,EAAY,EAAgB,GAC3D,GACA,EAAa,GACb,EAAa,EAAS,KAAK,OAAS,IACnC,EAED,MAAO,CAAE,WAAU,EAAE,cAAa,GAClC,IAAI,EAAI,KAAK,IAAI,KAAK,MAAM,IACxB,EAAiB,EAAM,eAC3B,IAAG,IAAmB,EAAc,cAAgB,EACpD,MAAO,CAAE,WAAU,EAAE,cAAa,GACpC,IAAM,EAAe,GACnB,EAAS,KAAK,GAAG,KACjB,EACA,EAAc,YAAW,MAEpB,IAGD,EAAW,EAAW,EAAG,EAAgB,GAK7C,MAAK,CACD,EAAH,EACD,YANkB,EAClB,EAAS,KAAK,GAAG,KACjB,GAA8B,EAAc,YAAY,MAKpD,SAAI,EACJ,WAAM,EACN,cAAS,GA0CM,CAAsB,EAAO,EAAW,EAAM,GACjE,IAAG,EAAc,OAAO,KACxB,KAAI,MAAO,GACX,OAxB6B,SAC7B,EACA,EACA,GACuB,MAAC,CAClB,WAAI,EACJ,MACJ,KAAM,EAAG,GACD,cAAK,EACL,SAAE,EACV,KAAM,EAAG,GACT,EAAG,KACH,WAAU,EACV,YAAW,EACH,aAAM,GACN,YAAK,IAET,MAAC,CACG,mBAAY,OAMf,CACL,EAAa,WACb,EAAa,cACb,GAEM,IAAF,EAAwD,EAA9C,WAAE,EAA4C,EAA3C,EAAE,EAAyC,EAA9B,YAAE,EAA4B,EAApB,SAAE,EAAkB,EAAL,cACrD,EACF,GAAa,EAAQ,GACnB,GAAsB,EAAQ,GAAI,GAClC,KACA,EAAe,EAAU,GAAa,MACzC,KAAI,SAAC,EAAO,GACP,OAAJ,EAAM,OAAO,KAAI,SAAC,EAAO,G,MACjB,EAA8D,QAA3C,EAAD,EAAK,MAAK,SAAC,GAAQ,SAAI,MAAY,OAAL,QAAK,IAAL,OAAK,EAAL,EAAX,kBAAyB,eAChE,KACE,EAAe,EACjB,GACE,EAAG,GACH,EAAgB,GAChB,EACA,EACA,EACA,EAAK,WAEP,KACE,EACJ,GAAgB,EAAa,OAAS,EAAI,EAAa,GAAG,KAAO,KAC7D,EACJ,GAAgB,EAAa,OAAS,EAAI,EAAa,GAAG,EAAI,KAC1D,EACJ,EAAK,UAAU,GAAa,MAAM,GAD5B,EAAQ,WAAE,EAAW,cAAE,EAAW,cAE1C,MAAO,CACL,SAAU,EACV,SAAU,EACV,KAAqB,OAAf,QAAe,IAAf,OAAe,EAAf,EAAkB,GACxB,EAAG,GACD,EAAG,GACH,EAAU,GAAa,OACvB,EACA,EACA,GAEF,MAAO,EACP,SAAU,EACV,WAAY,SAIjB,OACA,MAAK,SAAC,EAAG,GACR,OAAmB,OAAZ,EAAE,OAA8B,OAAZ,EAAE,MACzB,EACa,OAAZ,EAAE,OAA8B,OAAZ,EAAE,OACV,OAAZ,EAAE,OACW,OAAZ,EAAE,OACF,KAAK,IAAI,WAAW,EAAE,OAAS,EAAE,GAC/B,KAAK,IAAI,WAAW,EAAE,OAAS,EAAE,GACrC,EACa,OAAZ,EAAE,OAA8B,OAAZ,EAAE,OACV,OAAZ,EAAE,OACW,OAAZ,EAAE,OACF,KAAK,IAAI,WAAW,EAAE,OAAS,EAAE,GAC/B,KAAK,IAAI,WAAW,EAAE,OAAS,EAAE,IACpC,EACD,KAER,MAAO,CACL,WAAU,EACV,KAAM,CACJ,KAAM,EAAG,GACT,SAAQ,EACR,cAAa,EACb,KAAM,EAAG,GACT,EAAC,EACD,WAAU,EACV,YAAW,EACX,aAAY,EACZ,YAAW,GAEb,MAAO,CACL,mBAAkB,K,m7BC7KX,GAAgB,SAAC,GAQpB,MAAwD,EAA5C,aAAE,EAA0C,EAAtC,KAAE,EAAoC,EAA9B,OAAE,EAA4B,EAAvB,MAAE,EAAqB,EAAf,OAAE,EAAa,EAAL,SAIrD,EAAe,IAAM,SAAQ,WAAM,OvB0Nf,SAC1B,EACA,GAEE,IACI,EADc,SAAgD,KAAjB,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,cAA2C,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,YAC/C,GAAmB,GAChE,EAAkC,EAEpC,GAAa,EAAiB,CAAC,OAAQ,SAAQ,SAC1C,EAAgB,KAAK,OAAK,CAC7B,oBAAqB,EACrB,mBAAoB,KAJtB,EAoBF,OAba,SACV,GAAgB,CACnB,UAAW,GACX,MAAK,YACA,GACA,EAAiB,OAAK,CACzB,KAAI,SAAO,EAAiB,MAAM,MAAqB,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,MACzD,MAAK,SAAO,EAAiB,MAAM,OAAsB,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,OAC3D,MAAK,SAAO,EAAiB,MAAM,OAAsB,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,OAC3D,UAAW,GAAF,MAAO,EAAiB,MAAM,WAA0B,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,WACnE,KAAI,SAAO,EAAiB,MAAM,MAAqB,OAAZ,QAAY,IAAZ,OAAY,EAAZ,EAAc,UuBlPpB,CAAa,EAAS,aAAc,EAApC,oBAAgE,IAEnG,EAAsB,EAAS,iBAAmB,EAAS,iBAAmB,GAE9E,EAA0B,EAAS,qBACnC,GACuB,WAA3B,EAAS,eAAgC,GAAW,IAEhD,EAAS,cACT,EAAS,cAFT,aAIA,EAAc,EACd,EAAe,EAEf,EAAyB,IAAM,WAEnC,GAAmB,GAFd,EAAU,KAAE,EAAQ,KAKrB,EAAuB,GAC3B,EACA,EACA,EACA,EACA,EACA,EAAW,cAAc,KACzB,EAAW,cAAc,IACzB,EACA,EACA,EAAW,YAGT,IAAQ,EAAqB,QAAQ,OAAS,GAEhD,KAAY,EAAc,EAAW,WAAY,CACjD,QAAS,WAAM,SAAS,CAAE,KAAM,iBAAkB,OAAQ,CAAE,KAA7C,yBAIf,IAAI,EAAmC,EAAW,KAA5C,EAAE,KAAK,EAAqB,KAA9B,QACA,EAAmD,CACvD,UAAW,EAAW,UAAU,KAAI,SAAC,GAAa,MAAC,CACjD,MAAO,EAAS,UAElB,KAAI,SAAO,GAAqB,CAAE,OAAQ,EAAG,UAE1C,KAAU,EAAqB,QAAQ,aAAa,uBAAwB,KAC3E,EAAiB,QAAQ,aAAa,uBAAyB,GAEnE,EAAF,EAAM,WAAU,WACV,IAAE,EAAU,W,0BAER,EAAW,EAAqB,QAClC,EAAe,EAAS,aACtB,GAAF,EACF,EAAS,QAAQ,KAAI,SAChB,EAAS,QAAQ,MAAI,CACxB,MAAO,CAAC,EAAG,GACX,gBAAiB,CAAC,EAAG,SAJnB,CAQA,MAAY,EAAW,UACzB,GAAqB,EAoEnB,GAnEA,EAAG,QACP,EAAS,OAAO,OAAS,GACzB,EAAU,SAAW,EAAS,KAAK,UAAU,QAC7C,EAAS,KAAK,MAAM,WAAa,EAAS,KAAK,MAAM,OAC/C,EAAG,KAAK,UAAU,SAAQ,SAAC,EAAc,G,QAEvC,EAAW,EAAU,GACrB,EAWC,QAVL,EAAe,QAAf,IAAS,cAAM,eACX,QAAO,SAAC,GACR,SAAS,MACN,KAAI,SAAC,GAAM,SAAE,OAAO,KAAI,SAAC,GAAM,sBAC/B,OACA,SAAS,EAAM,WAEnB,KAAI,SAAC,GAAU,gBACX,GAAK,CACR,KAAM,EAAM,KAAK,MAAM,EAAG,EAAS,KAAK,MAAM,WAAa,EAAS,KAAK,MAAM,MAFjE,eAGb,QAAI,GAEL,EAAS,KAAK,IAAG,MAAR,KAAY,EAAa,MAAM,KAAI,SAAC,GAAW,uBACxD,EACH,GAA4C,IAA1B,EAAe,OAE9B,KAAK,IAAG,MAAR,KACK,EACA,KAAI,SAAC,GACJ,SAAM,KAAK,KAAI,SAAC,GAAG,MAAK,OAAC,EAAuB,IAAe,QAAR,IAAI,YAAI,QAAgB,EAAI,YAEpF,QANL,EAQA,EAAS,KAAK,IAAG,MAAR,KAAY,EAAa,MAAM,KAAI,SAAC,GAAW,uBACxD,EACH,GAA4C,IAA1B,EAAe,OAE9B,KAAK,IAAG,MAAR,KACK,EACA,KAAI,SAAC,GACJ,SAAM,KAAK,KAAI,SAAC,GAAG,MAAK,OAAC,EAAuB,IAAc,QAAP,IAAI,WAAG,QAAgB,EAAI,YAEnF,QANL,EAkBF,IAAmB,EAAQ,GAAU,EAAQ,KAC/C,GAAqB,EACrB,QAAQ,IACN,oCACA,EAAS,OACT,EACA,WACA,EACA,YACA,EACA,YACA,OAIJ,EAAa,YAAY,OAAS,GAAK,EAAoB,CACxD,EAAa,YAAY,SAAS,aAAY,EAAS,QAAQ,cAAc,iBAAkB,GAG5F,IAAF,EAAc,EAAW,MAAM,MAAM,YAErC,EAAiB,EAAS,cAAc,MAAQ,EAEhD,GACgC,QAAlC,EAA0B,QAA1B,EAAqB,QAArB,EAAc,QAAd,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAE,eAAE,aAAK,eAAG,UAAE,eAAE,cAAM,eAAG,KAAM,EAAe,EAAU,GAAG,MAAM,GAAG,OAAO,IACrF,EAAU,GAAG,MAAM,GAAG,OAAO,GAC7B,KACA,EAAgB,EAAW,KAAK,MAAK,SAAC,GAAQ,SAAI,MAAgB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAX,WAC9C,EAAY,EAAW,KAAK,UAE5B,EV7CW,SACvB,EACA,EACA,EACA,G,kBAEQ,EAA0B,EAAd,aAAE,EAAY,EAAL,QAEd,EAGX,EAH6B,YAC/B,EAEE,EAFoB,uBACtB,EACE,EADQ,WAEN,EAAQ,EAAS,KAAK,MACtB,EAA2C,cAAX,QAAhB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,YAAI,eAAE,QAAwB,EAE1D,EAA2B,QAAb,IAAQ,aAAK,eAAE,MAAM,GAKnC,GAHW,QAAb,IAAQ,aAAK,eAAE,aACjB,EAAmB,SAAS,UAC1B,EAEA,CAAE,YAAW,EAAE,KAAM,cACrB,KACE,EAAO,GAAc,EAAU,EAAW,EAAW,GACrD,EACJ,EAAmB,SAAS,oBAAsB,EAAU,OAAS,EACjE,GACQ,OAAV,QAAU,IAAV,OAAU,EAAV,EAAY,QAAS,EAAS,QAAQ,MAAM,WAC1C,EAAW,MACX,EAAmB,SAAS,UAC5B,EAAS,QAAQ,MAAM,WACvB,CACE,KAAM,aACN,uBAAwB,EAAM,mBAC9B,gBAAiB,EAAM,kBAEzB,KACA,EAAO,EAAmB,SAAS,QACnC,GACF,EAAQ,KAAK,YACb,CAAC,iBAAkB,YAAY,SAAmB,QAAV,EAAI,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,YAAI,QAAI,KACxD,EACI,GACH,EAAQ,KAAK,YACd,CAAC,iBAAkB,YAAY,SAAmB,QAAV,EAAI,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,YAAI,QAAI,IAelD,EAAS,CACb,KAAI,EACJ,MAAK,EACL,MAAK,EACL,gBAAe,EACf,KAAI,EACJ,yBAlBC,CAAC,QAAS,aAAa,SAAmB,QAAV,EAAI,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,YAAI,QAAI,MAAW,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,cAC7C,oBAAX,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,OACN,GACA,KACE,EAeF,iBAT0D,QAJ1D,IAAG,GACD,KACE,IACG,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAM,eACU,cAAd,EAAK,MAAsC,UAAd,EAAK,aAAmB,UAW1D,MAAK,CACL,OAAM,EACN,aAAY,SACP,GAAY,CACf,WAAU,SACL,GAAM,CACT,KAAM,GAA0B,EAAgB,KAAO,IAEzD,uBAAwB,EAAe,KAAO,KU/BU,CAAU,EAAU,EAAW,EAAW,GAAxF,EAAM,SAAgB,EAAmB,eACzC,EAAI,SAAQ,GAAmB,CAAE,WAAa,EAAe,MAAM,GAAZ,OACvD,EAAa,QAAQ,aAAe,EAEpC,IAAF,EAAgC,EAAO,gBACzC,GAAgB,EAAS,cAAc,OAAQ,EAAW,EAAW,OACrE,EACE,EACmB,oBAAX,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAE,MVwFM,SAC5B,EACA,EACA,G,MAEA,GAA2B,oBAAX,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAE,MAA2B,OAAO,EACpD,IAAM,EAAa,EAAO,KACpB,EAAc,EAAW,YACzB,EAAY,KAAK,IACrB,KAAK,IACH,EAAW,YAAc,EAAK,gBAAgB,GAC9C,EAAU,GAAa,IAAM,GACb,IAAhB,EAAoB,GAAK,GAE3B,EAAU,EAAc,GAAG,OAAS,IAEhC,EAAc,EAAY,EAAW,YAwB3C,OAtBG,EAAK,SAA2B,IAAhB,EAOd,YACM,EACA,MAAM,EAAG,GACT,KAAI,SAAC,EAAK,GAAS,gBAAM,GAAG,CAAE,OAAQ,EAAI,OAAvB,OACnB,KAAI,SAAC,EAAK,EAAM,GACf,OAAS,IAAT,EAAa,EAAK,SAAM,GAAG,CAAE,IAAK,EAAI,EAAO,GAAG,aACjD,I,SAEE,EAAU,IAAY,CACzB,OAAQ,EACR,IAAK,EAAU,GAAa,IAAM,I,SAE/B,EAAU,EAAc,IAAE,CAAE,IAAK,M,GACnC,EAAU,MAAM,EAAc,IAAE,GAnBtC,YACM,EAAU,MAAM,EAAG,IAAY,I,SAC7B,EAAU,IAAY,CAAE,OAAQ,I,SAChC,EAAU,EAAc,IAAE,CAAE,IAAK,M,GACnC,EAAU,MAAM,EAAc,IAAE,GU9G/B,CAAe,EAAQ,EAA+B,EAAS,QAAQ,MACvE,EAGoD,QAAtD,IAAa,qBAAmC,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,aAAI,UAC5B,WAAX,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,QACjB,EAAS,KAAK,MH8JI,SAC5B,EACA,EACA,GAEA,gBACK,GAAK,CACR,mBACI,EAAc,OAAS,GAAK,EAAiB,EAAM,oBACrD,EAAM,qBGvKsB,CAAe,EAAS,KAAK,MAAO,EAAc,KAAM,IAElF,IAAM,EAAY,EAAO,iBHKH,SAC5B,EACA,EACA,EACA,G,wBAEM,EAAQ,EAAS,KAAK,MACtB,EAAU,EAAS,QACnB,EAAc,EAAS,cAAc,MAAQ,EAC7C,EAA2B,QAAb,IAAQ,aAAK,eAAE,MAAM,GACnC,IAAe,EAAO,MACtB,IAAe,EAAO,MACtB,EAAgC,QAAZ,IAAQ,YAAI,eAAE,GAClC,EAA2B,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAE,YAC7B,EAAqC,eAAX,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAE,OAAwB,EACpD,EAAiC,WAAX,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAE,OAAoB,EAC5C,EAAgB,EAAK,MAAK,SAAC,GAAQ,SAAI,MAAgB,OAAT,QAAS,IAAT,OAAS,EAAT,EAAX,WACnC,EAAuB,QAAZ,IAAQ,YAAI,eAAE,QAC7B,IACC,KACY,QAAX,IAAO,YAAI,eAAE,eACZ,EAAO,QACP,EAAO,OACP,EAAO,kBACR,IAAuB,QAAX,IAAO,YAAI,eAAE,aAE3B,OAAO,EACP,IAAI,EAAY,EAAc,KAAK,OAEnC,GAAE,EAAY,CACd,IAAM,EAAc,EAAO,MACnB,EAAkD,EAA5B,uBAAE,EAA0B,EAAX,gBAC/C,GACW,eAF+C,EAAL,MAGnD,EAAU,IACV,EAAU,GAEV,OAAO,EAET,IAAM,EAAqB,GACX,QAAd,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAS,aAAK,eAAE,gBAAgB,GAChC,EACA,GAEI,EAAqB,EACrB,EAAW,EAAS,GAIpB,EAAmB,GADnB,GAFA,GACH,EAAS,GAAK,GAAsB,GACX,EAAqB,GACG,EACpD,mBACK,GAAK,CACR,mBAAkB,EAClB,iBAAgB,IACb,GACD,EACA,EACA,EACA,EACA,IAGC,GAAI,EAAY,CACf,EAAqB,GACzB,EAAc,EACd,EAAM,mBACN,GAEI,EAAqB,EAAM,iBAC3B,EAAW,EAAoB,EAAkB,GAAK,EAN5D,IAOM,IACF,EAAoB,EAAkB,GAAK,GAAK,GACjD,EAAM,mBACH,EACJ,KAAK,MAAM,GAAc,EAAqB,EAAM,iBAGtD,OADM,EAAmB,EAAM,iBAAmB,EAAS,EAC3D,YACK,GAAK,CACR,mBAAkB,EAClB,iBAAgB,IACb,GACD,EACA,EACA,EACA,EACA,IAGC,GAAI,EAQT,OAPM,EAAmB,KAAK,IAC5B,KAAK,IACH,EAAQ,KAAK,MAAM,GAAK,EAAM,iBAC9B,EAAc,EAAI,EAAM,sBAEvB,EAAY,GAAK,EAAM,oBAE5B,YACK,GAAK,CACR,iBAAgB,IACb,GACD,EAAM,mBACN,EACA,EACA,EACA,IAGC,GAAI,EAAS,CAClB,IAAM,EAAa,EAAO,KAE1B,OADQ,EAA4C,EAA7B,iBAAE,EAA2B,EAAL,yBAEzC,EAAqB,GACZ,QAAb,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAS,YAAI,eAAE,gBAAgB,GAC/B,EACA,GAEI,EAAqB,EACrB,EAAW,EAAS,GAIpB,EAAmB,GADnB,GAFA,GACH,EAAS,GAAK,GAAuB,GACZ,EAAqB,GACG,EAEpD,YACK,GAAK,CACR,mBAAkB,EAClB,iBAAgB,IACb,GACD,EACA,EACA,EACA,EACA,KAtBgC,EAyB/B,OAAI,EAAO,KAChB,SACK,GACA,GACD,EAAM,mBACN,EAAM,iBACN,EACA,EACA,IAIC,EGxJG,CAAe,EAAU,EAAQ,EAAW,EAAW,MACvD,EAAS,KAAK,MAClB,EAAS,KAAK,MAAQ,EACtB,IAAM,EACJ,EAAO,0BAA4B,ENlFX,SAChC,EACA,EACA,EACA,GAEE,OAAG,GAAc,GAAU,EACJ,IAArB,EAAU,QAAgC,IAAhB,EAAK,OAAqB,KAEjD,EAAU,KAAI,SAAC,EAAU,GAC1B,IAAE,EAAS,EAAS,OAClB,EAAM,EAAS,IACf,EAAkB,KAAK,IAAI,KAAK,OAAO,EAAS,GAAO,IAAK,GAC9D,MAAG,CACCC,MAAC,EAAS,MAAM,KAAI,SAAC,EAAU,G,kBAC7B,EAAmB,GAAgB,EAAM,EAAW,EAAM,EAAM,GAChE,EAQc,QAPlB,OAAK,IAAG,MAAR,KAAI,SACE,EAAiB,KAAI,SAAC,GAAC,MAAK,OAAY,QAAZ,EAAC,OAAD,QAAC,IAAD,OAAC,EAAD,EAAG,iBAAS,QAAI,QAAM,QAAO,SAAC,GAAM,oBAAwB,GAMnF,QALL,EACM,QADN,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EACA,cAAM,oBADN,GACS,SAAC,GAAQ,SAAS,OAAO,KAAI,SAAC,EAAG,GAAS,mBAAU,SAAS,EAApD,WACnB,KAAI,SAAC,GACJ,SAAM,KAAK,KAAI,SAAC,GAAG,MAAK,OAAC,EAAuB,IAAe,QAAR,IAAI,YAAI,QAAgB,EAAI,YAEpF,cAAM,QAAI,IAAG,mBACb,EACD,EAMc,QALlB,OAAK,IAAG,MAAR,KAAI,SACE,EAAiB,KAAI,SAAC7B,GAAC,MAAK,OAAY,QAAZ,EAAC,OAAD,QAAC,IAAD,OAAC,EAAD,EAAG,iBAAS,QAAI,QAAM,QAAO,SAAC,GAAM,oBAAwB,GAInF,QAHL,EACM,QADN,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EACA,cAAM,oBADN,GACS,SAAC,GAAQ,SAAS,OAAO,KAAI,SAAC,EAAG,GAAS,mBAAU,SAAS,EAApD,WACnB,KAAI,SAAC,GAAU,SAAM,KAAK,KAAI,SAAC,GAAG,MAAK,OAAC,EAAuB,IAAc,QAAP,IAAI,WAAG,QAAgB,EAAI,YACjG,cAAM,QAAI,IAAG,mBACb,EACD,EAC0F,QAA9F,OAAK,IAAG,MAAR,KAAY,EAAS,OAAO,KAAI,SAAC,GAAC,QAAK,OAAiD,QAAjD,EAAuC,QAAvC,IAAK,MAAK,SAAC,GAAQ,SAAI,KAAO,EAAX,iBAAoB,eAAE,gBAAQ,QAAI,aAAE,QAAK,EAC/F,EAAe,GAAuB,EAAW,EAAW,EAAU,GAEtE,EAAO,KAAK,KAAK,EAAY,GAAgB,EAM7C,EAAO,KAAK,MAAM,EAAY,GAAgB,EAM9C,GAAe,EAAS,KAAS,GAAQ,IAAM,GAAQ,IAAM,KAAK,IAAI,GAAI,GAC1E,GAAe,GAAW,GAAQ,EAAG,EAAQ,EAAU,EAAG,GAAe,EACzE,EAAS,SAAC,GAAkB,UAAW,EAAO,EAAQ,EAAU,EAApC,IAC5B,EAAU,GAAW,EAAQ,EAAQ,EAAU,EAAa,GAC5D,EAAmB,EAAO,KAAK,KAAK,EAAU,GAAgB,GAE9D,EAAgB,EAAc,EAAgB,KAAK,IAAI,IAAK,GAC5D,EAAiB,KAAK,OAAO,EAAmB,GAAK,EAAM,IAAM,GACjE,GACH,GAAkB,EAAiB,EAChC,GACA,MAAM,GACH,KAAK,GACL,KAAI,SAAC,EAAG,GACG,IAAJ,EAAO,GAAoB,EAAM,GAAK,EACtC,EAAK,GAAW,EAAM,EAAQ,EAAU,EAAa,GAEjD,MAAH,CAAc,KAAR,EAAE,OADA,KAAK,MAAM,EAAK,KAAK,IAAI,GAAI,IAAa,KAAK,IAAI,GAAI,IAAW,eAIrF,EACJ,GACA,EAAiB,KAAI,SAAC,EAAO,GACjB,YAAL,QAAK,IAAL,OAAK,EAAL,EAAO,SAAS,OAAO,EAClB,IAAJ,EAAW,EAAM,QAAQ,KAAI,SAAC,EAAS,G,QACrC,EAIM,QAJO,EAIlB,QAJkB,EACjB,EAAK,MACH,SAAC,GAAG,MAAK,SAAI,MAAsB,QAAf,IAAS,cAAM,eAAG,GAAM,SAAuB,cAAb,EAAI,eAE7D,eAAE,iBAAS,eAAE,WACR,EAAO,EAAqB,GAC9B,CACE,UAAW,EAAQ,OAAO,KAAI,SAAC,EAAO,GAAI,QACxC,UAAS,CAAC,OAAQ,QAAQ,SAAiC,QAAxB,EAAkB,QAAlB,EAAU,OAAV,QAAU,IAAV,OAAU,EAAV,EAAa,UAAK,eAAE,YAAI,QAAI,IAAM,EAAO,GAAS,SAGzF,EAAuB,GACvB,CACE,QAAS,EAAO,EAAQ,MACxB,QAAS,EAAO,EAAQ,MACxB,OAAQ,EAAO,EAAQ,KACvB,SAAU,EAAO,EAAQ,QAE3B,EAAqB,GACrB,CAAE,SAAU,EAAO,EAAQ,QAC3B,KACJ,MAAO,CAAE,KAAM,EAAM,mBAAqB,EAAM,KAAI,MAEtD,gBAAY,GAAK,CAAE,SAAQ,OAG/B,MAAO,CACL,MAAO,EAAO,GACd,UAAS,EACT,UAAS,EACT,KAAM,EACN,KAAI,EACJ,YAAW,EACX,SAAQ,EACR,aAAY,EACZ,YAAW,EACX,OAAQ,EACR,UAAS,UA1GyB,KM6E9B,CACE,EACA,EAAS,KAAK,MACd,EAAW,KACX,EAAqB,EAAS,YAAS,GAEzC,KACF,IAAe,EAAS,KAAK,UAAY,GAG7C,IAAM,EAAc,EAAa,YAAY,SAAS,eAClD,GAA+B,EAAS,QAAS,EAAS,KAAM,EAAW,EAAW,MACtF,KACA,IAAa,EAAS,KAAK,QAAU,GAIzC,IAAM,EACmB,cAAX,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAE,QAAmC,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAE,aL9M7B,SAC9B,EACA,EACA,G,UAEM,EAAU,EAAS,QACnB,EAAO,EAAS,KAChB,EAAc,EAAK,QACvB,GAAyB,cAAX,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAE,MAAqB,OAAO,EAC5C,IAAI,EAAmB,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,KACnB,EAA0B,EAAf,YAAE,EAAa,EAAL,SACvB,EAAW,EAAU,GACrB,EAAY,EAAK,UAAU,GAAa,MAAM,GAE9C,EAAc,EAAY,KAAK,aAAa,OAAS,KAAO,EAAY,KAAK,aAAa,GAAG,MAC7F,EAAyB,QAAlB,IAAY,KAAK,SAAC,QAAI,EAAY,KAAK,WAC9C,EAAO,EACT,WAAmD,QAAxC,IAAY,KAAK,aAAc,GAAI,aAAK,QAAI,IACvD,GAAW,EAAQ,KAAK,GAAG,GAAI,EAAS,OAAQ,EAAU,SAAU,EAAU,YAAa,EAAU,aACjG,EAAuB,EAAhB,QAAE,EAAc,EAAL,UACxB,OAAK,GAAa,EAAW,CAAC,EAAa,QAAS,EAAU,QAAS,EAAS,KAAM,GAAY,CAAC,EAAM,IK2L/F,CAAiB,EAAU,EAA2B,GACtD,EAEA,EACmB,cAAX,QAAZ,EAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,YAAI,eAAE,ML3IA,SACtB,EACA,EACA,EACA,G,UAGE,IADmB,EAAS,QAAQ,cACpB,gBAAiB,MAAO,CAAE,UAAS,EAAE,KAAI,GACzD,IAAI8B,EAAOC,EAASD,KACL,EAAuB,EAAZ,QAAE,EAAU,EAAL,MAC7BE,EAAUD,EAASC,QACnBC,EAAkBC,EAAKd,KACvBe,EAAoE,QAAzDC,EAAKC,GAAO,MAAK,SAAC,GAAS,SAAK,OAAL,YAA8B,eAAE,QACtEC,EAAcC,GAAsBP,EAAQQ,KAAKC,QAASC,GAE9D,IAAG,IAAoB,GAAW,EAAU,GAAc,MAAO,CAAE,KAAM,GAAkB,UAAS,GACpG,IAAIC,EAAyB,QAAbC,EAAKd,EAAD,iBAAS,eAAG,GAC5BD,EAAuB,QAAdgB,EAAO,OAAFF,QAAE,IAAR,OAAQ,EAAR,EAAU,aAAK,eAAG,GAC9B,IAAG,IAAa,EAAO,MAAO,CAAE,KAAM,GAAkB,UAAS,GAEjE,IAAI5L,EAAO+L,EAAYC,KAAKC,SAAWF,EAAYC,KAAKC,SAAWhB,EAAQQ,KAAKS,GAAG,GAC/EC,EACJ,EAAY,KAAK,aAAa,OAAS,GAAO,EAAY,KAAK,aAAa,GAAG,SAC3E,EAAY,KAAK,aAAa,GAAG,SACjC,EAAQ,KAAK,GAAG,GAChB,EAAI,EAAW,EAAM,EAAM,iBAAkB,EAAM,oBACjD,EAAuC,EAA/B,SAAE,EAA6B,EAAlB,YAAE,EAAgB,EAAL,YACpC,EAAI,GAAW,EAAM,EAAU,GAAa,OAAQ,EAAU,EAAa,GAG/E,OADkB,EAAK,GAAG,OACP,EAAU,EAC3B,CAAMhB,KAAE,GAAc,EAAK,KAAM,EAAM,CAAC,EAAG,IAAK,UAAS,GACzD,CACE,KAAM,GACN,UAAW,GAAQ,EAAW,EAAa,GAAc,EAAK,KAAM,EAAM,CAAC,EAAG,IAAK,IK0G7E,CAAS,EAAU,EAAsB,EAAW,KAAM,EAAW,OACrE,CAAE,UAAW,EAAsB,KAAM,EAAW,MAHvC,EAAkB,YAAE,EAAI,OAIrC,EAAqB,EAEI,GAAU,EAAf,aAAU,GAAK,EAAnC,mBACA,EAAmB,EACtB,IAAG,UAAW,GNMM,SAAC,EAAsC,GACpE,MAAO,CACL,OAAQ,SAAC,EAAW,EAAqB,EAAkB,G,QACzD,KAAoC,QAA/B,EAAwB,QAAxB,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAY,eAAE,aAAK,eAAG,IAAW,OAAO,EACnD,MAA2D,EAAc,GAAa,MAAM,GAA1F,EAAW,cAAE,EAAQ,WAAe,EAAgB,cACtD,OAAiC,IAAhB,EAA4B,EAAc,EACjE,OAAO,EAAU,GAAa,OAAS,EAAI,KAAK,IAAI,GAAI,GAAY,EAAc,GAEpF,OAAQ,SAAC,EAAc,EAAqB,EAAkB,G,QAC5D,KAAoC,QAA/B,EAAwB,QAAxB,EAAS,OAAT,QAAS,IAAT,OAAS,EAAT,EAAY,UAAY,eAAE,aAAK,eAAG,IAAW,OAAO,EACnD,MAA2D,EAAc,GAAa,MAAM,GAA1F,EAAW,cAAE,EAAQ,WAAe,EAAgB,cACtD,OAAiC,IAAhB,EAA4B,EAAc,EACjE,OAAS,EAAU,GAAa,OAAS,EAAiB,GAAQ,EAAe,KAAK,IAAI,IAAK,KMlB1D,CAAgB,EAAoB,IACnE,KAEE,EAAiB,EAAc,CAAE,QAAS,GAAgB,KACxD,EAAC,CACP,KAAM,yBACN,OAAQ,CACN,SAAQ,SACH,GAAK,CACR,KAAI,OAAI,MAAO,GAAc,GAAmB,GAChD,UAAW,EACX,KAAI,OAKV,IAAM,EAEL,QAFuB,IAAW,KAAK,MACtC,SAAC,GAAG,MAAK,SAAI,MAA2B,QAApB,IAAW,iBAAS,eAAG,GAAG,MAAM,GAAG,OAAO,GAAG,kBAClE,eAAE,KACH,EAAqB,QAAO,SACvB,EAAqB,SAAO,CAC/B,aAAY,SACP,EAAqB,QAAQ,cAAY,CAC5C,WAAY,IAAI,KAChB,YAAa,GACb,kBAAyD,QAAtC,EAAC,SAAqC,QAAI,YAKrE,EAAqB,QAAQ,aAAa,YAAY,KAAK,QAC3D,IACA,QAAQ,IAAI,iBAEZ,IAAM,EAAc,OAAO,YAAY,EAAS,KAAK,MAAM,IAAO,IAClE,OAAO,WACL,OAAO,cAAc,MAGtB,CACD,EAAqB,QAAQ,aAAa,uBAC1C,EAEA,EACA,EAAW,MACX,EAAW,OAGb,IAAM,EC7QkB,SACxB,EACE,EACF,EACA,G,gCAEA,IAAK,IAAW,EAAK,OAAQ,MAAO,GACpC,IAAM,EACkD,QAAtD,EAA4C,QAA5C,EAAuC,QAAvC,EAA+B,QAA/B,EAA0B,QAA1B,EAAmB,QAAnB,EAAc,QAAd,IAAK,iBAAS,eAAG,UAAE,eAAE,aAAK,eAAG,UAAE,eAAE,cAAM,eAAG,UAAE,eAAE,gBAAQ,gBACR,QAA5C,EAAuC,QAAvC,EAA+B,QAA/B,EAA0B,QAA1B,EAAmB,QAAnB,EAAc,QAAd,IAAK,iBAAS,eAAG,UAAE,eAAE,aAAK,eAAG,UAAE,eAAE,cAAM,eAAG,UAAE,eAAE,SAAS,QAAS,GAE9D,EAgBK,QAfT,EAAC,EAAK,QACJ,GACA,GACA,EAAO,QAA6B,SAAC,EAAK,EAAK,G,MAC7C,gBACK,GAAG,IACN,CACE,MAAS,OAAH,QAAG,IAAH,OAAG,EAAH,EAAK,MAAU,OAAH,QAAG,IAAH,OAAG,EAAH,EAAK,KAAK,KAAI,SAAC,EAAK,GAAS,gBAAM,GAAG,CAAE,EAAG,EAAK,MAAM,MAAzB,OAA4C,GAC3F,OAA4B,QAApB,EAAI,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAU,OAAH,QAAG,IAAH,OAAG,EAAH,EAAK,gBAAQ,eAAE,GAC9B,MAAO,EAAI,KAAK,KAAI,SAAC,EAAK,G,MAAS,MAAC,CAClC,KAAM,EAAS,MAAQ,EAAO,GAAK,EAAK,MAAM,mBAC9C,KAAM,GAAqB,EAAyB,QAApB,EAAI,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAU,OAAH,QAAG,IAAH,OAAG,EAAH,EAAK,gBAAQ,eAAE,GAAI,EAAM,EAAW,EAAK,eAGpF,KACD,WAAI,QACT,GAgCE,OA/B0B,EAC3B,KAAI,SAAC,GAAY,UAAqC,EAAM,EAA3C,WACjB,OACmC,QAA6B,SAAC,EAAK,EAAO,G,kBACxE,EAAgB,EAAK,MAAK,SAAC,GAAM,SAAE,KAAO,GAAT,cAAkB,EAAE,QACvD,IAAC,GAAyC,eAAX,OAAb,QAAa,IAAb,OAAa,EAAb,EAAe,MAAsB,OAAO,EAC9D,IAAE,EAAM,EAAc,UAAU,YAC9B,EAAW,EAAc,SACzB,EAAS,EAAc,UAAU,OACjC,EAAkB,SAC2B,QAA7C,EAAuC,QAAvC,IAAK,MAAK,SAAC,GAAQ,SAAI,KAAJ,YAAoB,eAAE,YAAI,QAAI,IAAG,GACe,QAAnE,EAAyD,QAAzD,EAAmD,QAAnD,EAAQ,QAAR,IAAI,YAAI,oBAAR,GAAW,SAAC,GAAW,OAAM,OAAN,QAAM,IAAN,OAAM,EAAN,EAAQ,UAAR,YAA4B,eAAE,YAAI,eAAE,MAAM,UAAE,QAAI,IAAG,GAE1E,EAAmB,MAAuB,QAAlB,IAAc,YAAI,QAAI,IAAG,GACnD,IAAC,KAA0B,OAAlB,QAAkB,IAAlB,OAAkB,EAAlB,EAAoB,UAAW,EAAU,OAAO,EACzD,IAAE,EAAgB,EAAG,IACvB,UAAW,EACX,SAAU,GACP,EAAO,QAAO,SAAC,EAAQ,G,MAAa,gBAAM,KAAM,MAAG,EAAS,MAAO,EAAS,IAAG,MAAK,MACtF,MAAMlB,EAAc,KAAK,OAAS,GAE/B,EAAoC,CACxC,KAAM,EAAc,KAAI,SAAC,EAAS,GAAS,gBAAM,GAAO,CAAE,EAAG,EAAiB,OAAS,EAA5C,OAC3C,OAAQ,EACR,MAAO,EAAc,KAAI,SAAC,EAAS,GAAS,MAAC,CAC3C,KAAM,EAAS,KAAO,EAAO,EAAK,MAAM,mBACxC,KAAM,GAAqB,EAAS,EAAO,EAAM,EAAW,EAAK,aAGjE,OAAJ,SAAW,GAAG,IAAE,IAAa,KAC5B,GDkNa,CAAW,EAAQ,EAAW,KAAM,EAAW,UAAW,EAAW,MAgCrF,OA/BA,IAAM,WAAU,W,YACd,GAAK,EAAW,cAAc,KAA9B,CACA,IAAM,EAAkB,OAAJ,QAAI,IAAJ,OAAI,EAAJ,EAAO,GAC3B,GAA0B,WAAX,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,QAAsC,QAAjB,EAAW,OAAX,QAAW,IAAX,OAAW,EAAX,EAAa,YAAI,eAAE,QAAzD,CACA,IAAM,EAA+B,QAAf,IAAW,YAAI,eAAG,GACxC,GAA+B,IAA3B,EAAW,KAAK,OAGlB,OAFA,QAAQ,IAAI,8BACZ,EAAS,CAAE,KAAM,UAAW,OAAQ,CAAE,MAAO,KAI/C,GAAI,EAAc,KAAO,EAAY,IAA6B,UAAvB,EAAc,KAAkB,CACzE,GAAI,EAAY,KAAK,SAAW,EAAc,KAAK,OACjD,OACS,EAAY,KAAK,OAAS,EAAc,KAAK,QACtD,QAAQ,IAAI,oBACZ,EAAS,CACP,KAAM,kBACN,OAAQ,CAAE,OAAQ,EAAc,GAAI,YAA+B,QAAlB,EAAY,QAAZ,EAAO,OAAP,QAAO,IAAP,OAAO,EAAP,EAAU,UAAE,eAAE,YAAI,eAAE,MAAM,GAAI,OAExE,EAAY,KAAK,OAAS,EAAc,KAAK,QACtD,QAAQ,IAAI,gDAKf,CAAC,EAAM,EAAW,cAAc,KAAM,EAAW,KAAM,EAAW,YAK9D,CAAC,EAAY,EAAU,I,sEE3SnBmC,GAAiBC,aAAOC,KAAPD,EAAmB,kBAAgB,CAC/DpN,MAD+C,EAAGZ,MACrCS,QAAQyN,QAAQC,SAIlBC,GAAgC,SAACtO,GAC5C,IAAQC,EAAgBD,EAAhBC,YACFC,EAAQC,cACd,OACE,eAACC,EAAA,EAAD,CAAO8K,GAAG,aAAa7K,GAAI,CAAEC,OAAQ,QAArC,UACE,cAAC,KAAD,CAAKD,GAAI,CAAEC,OAAQ,GAAIiO,QAASrO,EAAMS,QAAQC,WAAWC,MAAO2N,UAAW,aAA3E,SACE,eAACC,GAAA,EAAD,CAASpO,GAAI,CAAEqO,GAAI,GAAnB,UACE,cAACnN,EAAA,EAAD,CAAYoN,QAAQ,KAAKtO,GAAI,CAAEmB,SAAU,GAAKV,MAAM,UAApD,SACE,mBAAG8N,KAAK,IAAR,gCAEF,cAAC,KAAD,CAAQvO,GAAI,CAAES,MAAOZ,EAAMS,QAAQyN,QAAQC,MAA3C,SACE,cAAC9M,EAAA,EAAD,qBAEF,cAAC0M,GAAD,CAEEY,aAAW,OACXC,QAAS,kBAAM7O,GAAY,SAACmM,GAAD,OAAmBA,MAHhD,SAKE,cAAC,QAAD,CAAM2C,KAAMC,KAAmBC,KAAM,QAEvC,cAAChB,GAAD,CAAgBiB,KAAK,QAAQL,aAAW,OAAxC,SACE,cAAC,QAAD,CAAME,KAAMI,KAAWF,KAAM,QAE/B,cAAChB,GAAD,CAAgBiB,KAAK,QAAQL,aAAW,OAAxC,SACE,cAAC,QAAD,CAAME,KAAMK,KAASH,KAAM,aAIhCjP,EAAM0B,aCJP2N,GAAsB,CARH,CACvBC,KAAM,iBACNC,KC7B2B,CACzB,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,OACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,IACP,MAAS,MACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,UACP,MAAS,UACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,IACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,IACP,MAAS,UACT,OAAU,QAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,OACR,KAAQ,WACR,IAAO,IACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,OACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,MACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,MACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,IACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,MACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,MACP,MAAS,OACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,OACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,IACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,OACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,MACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,IACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,MACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,OACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,OACR,IAAO,MACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,MACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,OACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,OACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,MACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,OACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,WACR,IAAO,UACP,MAAS,OACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,IACP,MAAS,OACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,OACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,IACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,MACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,MACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,UACR,IAAO,IACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,MACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,MACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,MACR,KAAQ,WACR,IAAO,OACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,WACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,OACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,IACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,OACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,IACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,UACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,MACR,KAAQ,OACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,OACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,IACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,OACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,MACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,IACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,IACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,UACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,MACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,OACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,IACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,IACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,IACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,UACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,IACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,UACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,WACP,MAAS,WACT,OAAU,SAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,UACP,MAAS,UACT,OAAU,UAEd,CACI,KAAQ,2BACR,KAAQ,WACR,KAAQ,WACR,IAAO,MACP,MAAS,OACT,OAAU,WD1uDIC,KAAI,SAACC,GAAD,mBAAC,eAAkBA,GAAnB,IAA4BlD,KAAM,IAAImD,KAAKD,EAAQlD,WAC3EoD,YAAQC,EACR1D,KAAM,QACNhB,GAAI,oBAKJ,CACEA,GAAI,UACJgB,KAAM,YACN2D,UAAWC,GACXzD,WAAY,CACV7L,MAAO,CACLuP,YAAa,CAAC,cAKpB,CAAE7D,KAAM,YAAa2D,WnC7CI,GmC6CkB,CAAE/N,OAAQ,GnC7CG,SACrD,IAAI,CACH,OAAI,GAAK,OAAO,KAAI,SAAC,GACvB,MAAe,WAAf,EAAM,MAAsB,EAAgB,OAAN,SAAM,IAAN,QAAM,EAAN,GAAQ,QAA6C,EAApC,SAAM,GAAK,CAAE,IAAK,GAAO,emC0CvBoJ,GAAI,UAC/D,CACEA,GAAI,aACJgB,KAAM,YACN8D,SAAU,SACVH,UAAWI,GACX5D,WAAY,CACV7L,MAAO,CACLuP,YAAa,CAAC,eAMhBG,GAAsC,CAE1CC,cAAc,EAEdC,iBAAkB,GAmDLC,OA/Cf,WACE,IAAMC,EAAeC,IAAMC,OAAO,MAClC,EAAgCD,IAAME,UAAS,GAA/C,mBAAOC,EAAP,KAAiBzQ,EAAjB,KAEE0Q,QAAQC,IAAI,mBACZD,QAAQC,IAAM,aAGhB,MAAwCC,GAAc,CACpDP,eACAf,KAAMF,GACNa,cAHF,mBAAOY,EAAP,KAAmBpF,EAAnB,KAA6BqF,EAA7B,KAMMC,EAAaT,IAAMU,aAAY,WACnCvF,EAAS,CAAEC,KAAM,WAAYC,OAAQ,CAAE1L,MAAOwQ,EAAWQ,GAAoBC,MAC7ElR,GAAY,SAACmM,GAAD,OAAcA,OACzB,CAACV,EAAUgF,IAEd,OACE,cAAC,IAAMU,SAAP,UAIE,cAACC,EAAA,EAAD,CAAenR,MAAcoR,EAA7B,SAEI,cAAC,GAAD,CAAQrR,YAAa+Q,EAArB,SACE,cAAC,EAAD,CAAM/Q,YAAa+Q,EAAnB,SAGI,cAACO,GAAD,CACE/E,IAAK8D,EACLQ,WAAYA,EACZpF,SAAUA,EACVqF,QAASA,EACTb,SAAUA,cE7FbsB,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1Bb,O","file":"static/js/main.8f8179af.chunk.js","sourcesContent":["import { Stack, Typography, Button, IconButton, useTheme } from \"@mui/material\";\r\nimport { mdiGithub, mdiMenu, mdiThemeLightDark } from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const Site = (props: any) => {\r\n  // const classes = (useStyles as any)();\r\n  const { setDarkMode } = props;\r\n  //   const darkMode = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\r\n  //     const muiThemeInt: Theme = {...muiTheme, palette: {...muiTheme.palette, type: darkMode? \"dark\" : \"light\"}};\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Stack sx={{ height: \"100%\", label: \"homeRoot\" } as any}>\r\n      <div\r\n        style={{\r\n          minHeight: 128,\r\n          backgroundColor: theme.palette.background.paper,\r\n          color: theme.palette.getContrastText(theme.palette.background.default),\r\n          backgroundImage: \"url(https://github.com/carmnk/resources/raw/main/icons/logo512.png)\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          backgroundSize: 128,\r\n          backgroundPosition: \"50% 35%\",\r\n        }}\r\n      ></div>\r\n      <div\r\n        style={{\r\n          backgroundColor: theme.palette.background.paper,\r\n          color: theme.palette.getContrastText(theme.palette.background.default),\r\n          textAlign: \"center\",\r\n          paddingBottom: \"8px\",\r\n        }}\r\n      >\r\n        <Typography>a flexible and extensible react charting tool dedicated to technical chart analysis.</Typography>\r\n        <Typography color=\"secondary.main\">{`experimental in early development phase.`}</Typography>\r\n      </div>\r\n      <div style={{ flexGrow: 1, border: \"1px solid red\" }}>{props.children}</div>\r\n    </Stack>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport createTheme from \"@mui/material/styles/createTheme\";\r\nimport responsiveFontSizes from \"@mui/material/styles/responsiveFontSizes\";\r\nimport ThemeProvider from \"@mui/material/styles/ThemeProvider\";\r\nexport var ConditionalMuiThemeProvider = function (props) {\r\n    var disableTheme = props.disableTheme, theme = props.theme;\r\n    return (React.createElement(React.Fragment, null, !disableTheme ? (React.createElement(ThemeProvider, { theme: theme }, props.children)) : (props.children)));\r\n};\r\nexport var muiTheme = responsiveFontSizes(createTheme({\r\n    palette: {\r\n        primary: {\r\n            main: \"#009688\",\r\n        },\r\n        secondary: {\r\n            main: \"#f50057\",\r\n        },\r\n        mode: \"light\",\r\n    },\r\n    typography: {\r\n        h1: {\r\n            fontWeight: 600,\r\n            fontSize: \"3rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h2: {\r\n            fontWeight: 600,\r\n            fontSize: \"2.5rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h3: {\r\n            fontWeight: 600,\r\n            fontSize: \"2.1rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h4: {\r\n            fontWeight: 600,\r\n            fontSize: \"1.8rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h5: {\r\n            fontSize: \"1.4rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h6: {\r\n            fontSize: \"1.25rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        fontFamily: \"'Quattrocento Sans', sans-serif\",\r\n    },\r\n}));\r\nexport var muiDarkTheme = responsiveFontSizes(createTheme({\r\n    palette: {\r\n        primary: {\r\n            main: \"#009688\",\r\n        },\r\n        secondary: {\r\n            main: \"#f50057\",\r\n        },\r\n        mode: \"dark\",\r\n        background: {\r\n            paper: \"#424242\",\r\n        },\r\n    },\r\n    typography: {\r\n        h1: {\r\n            fontWeight: 600,\r\n            fontSize: \"3rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h2: {\r\n            fontWeight: 600,\r\n            fontSize: \"2.5rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h3: {\r\n            fontWeight: 600,\r\n            fontSize: \"2.1rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h4: {\r\n            fontWeight: 600,\r\n            fontSize: \"1.8rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h5: {\r\n            fontSize: \"1.4rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        h6: {\r\n            fontSize: \"1.25rem\",\r\n            lineHeight: 1.167,\r\n            fontFamily: \"'Open Sans', sans-serif\",\r\n        },\r\n        fontFamily: \"'Quattrocento Sans', sans-serif\",\r\n    },\r\n}));\r\n//# sourceMappingURL=MuiTheme.js.map","export var isCandleChartPixDataset = function (pixDataset) {\r\n    return !(pixDataset === null || pixDataset === void 0 ? void 0 : pixDataset.pixY)\r\n        ? false\r\n        : \"pixOpen\" in pixDataset.pixY &&\r\n            \"pixHigh\" in pixDataset.pixY &&\r\n            \"pixLow\" in pixDataset.pixY &&\r\n            \"pixClose\" in pixDataset.pixY\r\n            ? true\r\n            : false;\r\n};\r\nexport var isLineChartPixDataset = function (pixDataset) {\r\n    return !(pixDataset === null || pixDataset === void 0 ? void 0 : pixDataset.pixY) ? false : \"pixClose\" in pixDataset.pixY ? true : false;\r\n};\r\nexport var isIndicatorPixDataset = function (pixDataset) {\r\n    return !(pixDataset === null || pixDataset === void 0 ? void 0 : pixDataset.pixY) ? false : \"pixPrices\" in pixDataset.pixY ? true : false;\r\n};\r\nexport var isCandleChartDataset = function (dataset) {\r\n    if (\"open\" in dataset && \"high\" in dataset && \"low\" in dataset && \"close\" in dataset)\r\n        return true;\r\n    return false;\r\n};\r\n// doesn't exclude datasets with close property (like CandleChartDataset -> e.g. a CandleChartDataset will also return true)\r\nexport var isLineChartDataset = function (dataset) {\r\n    if (\"close\" in dataset)\r\n        return true;\r\n    return false;\r\n};\r\nexport var isVolumeDataset = function (dataset) {\r\n    if (\"volume\" in dataset)\r\n        return true;\r\n    return false;\r\n};\r\nexport var isIndicatorDataset = function (dataset) {\r\n    if (\"prices\" in dataset)\r\n        return true;\r\n    return false;\r\n};\r\nexport var isIndicatorDataSeries = function (dataSeries) {\r\n    var iDataSeries = dataSeries[dataSeries.length - 1];\r\n    return !!iDataSeries.prices && iDataSeries.prices.length > 0;\r\n};\r\nexport var isChartDataSeries = function (dataSeries) {\r\n    if (!dataSeries)\r\n        return false;\r\n    var iDataSeries = dataSeries[dataSeries.length - 1];\r\n    return !!iDataSeries.close && !!iDataSeries.date;\r\n};\r\n//# sourceMappingURL=ChartStateData.js.map","export var isIndicatorGraph = function (graph) {\r\n    if (graph.type === \"indicator\")\r\n        return true;\r\n    return false;\r\n};\r\nexport var isChartGraph = function (graph) {\r\n    if (graph.type === \"chart\")\r\n        return true;\r\n    return false;\r\n};\r\n//# sourceMappingURL=ChartStateSubchart.js.map","import React from \"react\";\r\nimport { Line } from \"react-konva\";\r\nimport * as T from \"../../Types\";\r\nexport var CBarChartComponent = function (props) {\r\n    var _a, _b, _c;\r\n    var subCharts = props.subCharts, subchartIdx = props.subchartIdx, yaxisIdx = props.yaxisIdx, graphIdx = props.graphIdx, calcXaxis = props.calcXaxis, calcSubcharts = props.calcSubcharts, indSeriesIdx = props.indSeriesIdx, rtTicks = props.rtTicks;\r\n    // const { xaxis } = calc;\r\n    var graph = subCharts[subchartIdx].yaxis[yaxisIdx].graphs[graphIdx];\r\n    var calcYaxis = (_b = (_a = calcSubcharts === null || calcSubcharts === void 0 ? void 0 : calcSubcharts[subchartIdx]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[yaxisIdx];\r\n    var calcGraph = (_c = calcYaxis === null || calcYaxis === void 0 ? void 0 : calcYaxis.graphs) === null || _c === void 0 ? void 0 : _c[graphIdx];\r\n    var curTicks = React.useMemo(function () { return (rtTicks ? rtTicks : (calcGraph === null || calcGraph === void 0 ? void 0 : calcGraph.curTicks) ? calcGraph.curTicks : []); }, [calcGraph === null || calcGraph === void 0 ? void 0 : calcGraph.curTicks, rtTicks]);\r\n    // console.log(curTicks, curTicks.length);\r\n    // const info = useReactiveInfo2([subCharts, calcXaxis, calcSubcharts, subchartIdx, yaxisIdx, graphIdx]);\r\n    if (!curTicks || curTicks.length === 0)\r\n        return null;\r\n    // console.log(\"barchart renders\", info);\r\n    return (React.createElement(React.Fragment, null, curTicks\r\n        .map(function (pixDataset, tIdx) {\r\n        var _a;\r\n        if (!T.isIndicatorPixDataset(pixDataset))\r\n            return null;\r\n        var pixY = pixDataset.pixY;\r\n        var yPix0 = calcYaxis === null || calcYaxis === void 0 ? void 0 : calcYaxis.pixY0;\r\n        var yPix1 = (_a = pixY === null || pixY === void 0 ? void 0 : pixY.pixPrices[indSeriesIdx !== null && indSeriesIdx !== void 0 ? indSeriesIdx : 0]) !== null && _a !== void 0 ? _a : yPix0;\r\n        var xPix = pixDataset.pixX + calcXaxis.pixXStart;\r\n        return (React.createElement(Line, { key: \"barchart-\".concat(subchartIdx, \"-\").concat(yaxisIdx, \"-\").concat(graphIdx, \"-line-\").concat(tIdx), points: [xPix + 0.5, yPix0 + 0.5, xPix + 0.5, yPix1 + 0.5], listening: false, x: 0, y: 0, stroke: T.isIndicatorGraph(graph) ? graph.style.strokeColor[indSeriesIdx !== null && indSeriesIdx !== void 0 ? indSeriesIdx : 0] : graph.style.strokeColor, strokeWidth: 1 }));\r\n    })\r\n        .filter(function (val) { return val !== null; })));\r\n};\r\nexport var CBarChart = React.memo(CBarChartComponent);\r\n//# sourceMappingURL=CBarChart.js.map","/** Null/Undefined  */\r\nexport var isNullish = function (val) {\r\n    if (val === undefined || val === null)\r\n        return true;\r\n    if (typeof val === \"number\")\r\n        if (isNaN(val))\r\n            return true;\r\n    return false;\r\n};\r\n/** Number utils */\r\nexport var getDecimals = function (val) {\r\n    if (Math.floor(val) === val)\r\n        return 0;\r\n    return val.toString().split(\".\")[1].length || 0;\r\n};\r\n// Object / Array utils\r\nexport var includesOne = function (array) {\r\n    var params = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        params[_i - 1] = arguments[_i];\r\n    }\r\n    var res = false;\r\n    params.forEach(function (param) {\r\n        if (array.includes(param))\r\n            res = true;\r\n    });\r\n    return res;\r\n};\r\n//# sourceMappingURL=Basics.js.map","import React from \"react\";\r\nimport { Line } from \"react-konva\";\r\nimport { isNullish } from \"../../utils/Basics\";\r\nimport * as T from \"../../Types\";\r\nexport var CLineChartComponent = function (props) {\r\n    var _a, _b, _c, _d;\r\n    var subCharts = props.subCharts, subchartIdx = props.subchartIdx, yaxisIdx = props.yaxisIdx, graphIdx = props.graphIdx, _e = props.indSeriesIdx, indSeriesIdx = _e === void 0 ? 0 : _e, calcXaxis = props.calcXaxis, calcSubcharts = props.calcSubcharts, \r\n    // yToPix,\r\n    // areaTresholds,\r\n    rtTicks = props.rtTicks;\r\n    // const { xaxis } = calc;\r\n    var graph = subCharts[subchartIdx].yaxis[yaxisIdx].graphs[graphIdx];\r\n    var calcGraph = (_d = (_c = (_b = (_a = calcSubcharts === null || calcSubcharts === void 0 ? void 0 : calcSubcharts[subchartIdx]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[yaxisIdx]) === null || _c === void 0 ? void 0 : _c.graphs) === null || _d === void 0 ? void 0 : _d[graphIdx];\r\n    var curTicks = rtTicks ? rtTicks : calcGraph === null || calcGraph === void 0 ? void 0 : calcGraph.curTicks;\r\n    var graphVals = curTicks\r\n        ? curTicks\r\n            .map(function (pixDataset) {\r\n            var _a;\r\n            if (!pixDataset.pixY)\r\n                return null;\r\n            var pixPrice = T.isIndicatorPixDataset(pixDataset)\r\n                ? (_a = pixDataset.pixY.pixPrices) === null || _a === void 0 ? void 0 : _a[indSeriesIdx]\r\n                : T.isLineChartPixDataset(pixDataset)\r\n                    ? pixDataset.pixY.pixClose\r\n                    : null;\r\n            if (isNullish(pixPrice))\r\n                return null;\r\n            return [pixDataset.pixX, pixPrice];\r\n        })\r\n            .flat()\r\n            .filter(function (val) { return val !== null; })\r\n        : [];\r\n    // console.log(\"indIDx\", indSeriesIdx, \"CT\", curTicks, \"GV\", graphVals);\r\n    // const pixUpperTresh = areaTresholds && yToPix && yToPix(areaTresholds.upper, subchartIdx, yaxisIdx);\r\n    // const pixLwrTresh = areaTresholds && yToPix && yToPix(areaTresholds.lower, subchartIdx, yaxisIdx);\r\n    // const getAreaVals = (tresh: number, isUpper: boolean) => {\r\n    //   const sgn = isUpper ? 1 : -1;\r\n    //   return calcGraph?.curData\r\n    //     ? [\r\n    //         0,\r\n    //         yToPix?.(tresh, subchartIdx, yaxisIdx) ?? 0,\r\n    //         ...(calcGraph.curData\r\n    //           .map((dataset, dIdx) => {\r\n    //             const tick = calcGraph?.curTicks?.[dIdx];\r\n    //             const tickPixY = tick?.pixY;\r\n    //             if (!tick || !tickPixY) return null;\r\n    //             const lastDataset = calcGraph?.curData?.[dIdx - 1];\r\n    //             return T.isLineChartDataset(dataset) && dataset.close > 0 && \"pixClose\" in tickPixY\r\n    //               ? [tick.pixX, tickPixY.pixClose]\r\n    //               : T.isIndicatorDataset(dataset) && \"pixPrices\" in tickPixY\r\n    //               ? (() => {\r\n    //                   const price = dataset.prices?.[indSeriesIdx];\r\n    //                   const pixYPrice = tickPixY.pixPrices?.[indSeriesIdx];\r\n    //                   if (isNullish(price) || isNullish(pixYPrice)) return null;\r\n    //                   const y0 =\r\n    //                     lastDataset && T.isIndicatorDataset(lastDataset) ? lastDataset?.prices?.[indSeriesIdx] : null;\r\n    //                   const y1 = dataset.prices?.[indSeriesIdx];\r\n    //                   if (\r\n    //                     price * sgn > tresh * sgn &&\r\n    //                     (!lastDataset ||\r\n    //                       (lastDataset && T.isIndicatorDataset(lastDataset) && y0 && y0 * sgn > tresh * sgn))\r\n    //                   ) {\r\n    //                     return [tick.pixX, pixYPrice];\r\n    //                   }\r\n    //                   if (lastDataset && T.isIndicatorDataset(lastDataset)) {\r\n    //                     if (isNullish(y0) || isNullish(y1)) return null;\r\n    //                     const a = y1 - y0;\r\n    //                     const b = y0;\r\n    //                     const x1ex = (tresh - b) / a;\r\n    //                     const price = dataset.prices?.[indSeriesIdx];\r\n    //                     if (!price || !x1ex || isNaN(x1ex) || !isFinite(x1ex)) return null;\r\n    //                     if (Math.abs(x1ex) > 1) return null;\r\n    //                     return price * sgn <= tresh * sgn && y0 * sgn > tresh * sgn\r\n    //                       ? [\r\n    //                           tick.pixX + (x1ex - 1) * calcXaxis.scaledWidthPerTick,\r\n    //                           yToPix?.(tresh, subchartIdx, yaxisIdx),\r\n    //                           tick.pixX,\r\n    //                           yToPix?.(tresh, subchartIdx, yaxisIdx), //pixYPrice,\r\n    //                         ]\r\n    //                       : price * sgn > tresh * sgn && y0 * sgn <= tresh * sgn\r\n    //                       ? [\r\n    //                           tick.pixX + (x1ex - 1) * calcXaxis.scaledWidthPerTick,\r\n    //                           yToPix?.(tresh, subchartIdx, yaxisIdx),\r\n    //                           tick.pixX,\r\n    //                           pixYPrice,\r\n    //                         ]\r\n    //                       : price * sgn <= tresh * sgn && y0 * sgn <= tresh * sgn\r\n    //                       ? [\r\n    //                           tick.pixX + (x1ex - 1) * calcXaxis.scaledWidthPerTick,\r\n    //                           yToPix?.(tresh, subchartIdx, yaxisIdx),\r\n    //                         ]\r\n    //                       : null;\r\n    //                   }\r\n    //                   return null;\r\n    //                 })()\r\n    //               : null;\r\n    //           })\r\n    //           .flat()\r\n    //           .filter((val) => val !== null) as number[]),\r\n    //         calcGraph?.curTicks?.[calcGraph?.curTicks?.length - 1 ?? 0].pixX ?? 0,\r\n    //         yToPix?.(tresh, subchartIdx, yaxisIdx) ?? 0,\r\n    //       ]\r\n    //     : [];\r\n    // };\r\n    // const lowerAreaVals = areaTresholds?.lower ? getAreaVals(areaTresholds.lower, false) : null;\r\n    // const upperAreaVals = areaTresholds?.upper ? getAreaVals(areaTresholds.upper, true) : null;\r\n    // const info = useReactiveInfo2([subCharts, calcXaxis, calcSubcharts, subchartIdx, yaxisIdx, graphIdx]);\r\n    // console.log(\"linechart renders\", info);\r\n    return (graphVals === null || graphVals === void 0 ? void 0 : graphVals.length) > 0 ? (React.createElement(React.Fragment, null,\r\n        React.createElement(Line, { listening: false, key: \"sub\".concat(subchartIdx, \"_graph\").concat(graphIdx, \"-\").concat(indSeriesIdx), x: calcXaxis.pixXStart, y: 0, points: graphVals, stroke: T.isIndicatorGraph(graph) ? graph.style.strokeColor[indSeriesIdx] : graph.style.strokeColor, strokeWidth: 1 }))) : null;\r\n};\r\nexport var CLineChart = React.memo(CLineChartComponent);\r\n//# sourceMappingURL=CLineChart.js.map","import React from \"react\";\r\nimport { Line, Rect } from \"react-konva\";\r\nimport * as T from \"../../Types\";\r\nexport var CCandleChartComponent = function (props) {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    var subCharts = props.subCharts, calcXaxis = props.calcXaxis, calcSubcharts = props.calcSubcharts, _g = props.subchartIdx, subchartIdx = _g === void 0 ? 0 : _g, _h = props.yaxisIdx, yaxisIdx = _h === void 0 ? 0 : _h, _j = props.graphIdx, graphIdx = _j === void 0 ? 0 : _j, rtTicks = props.rtTicks;\r\n    // const { xaxis } = calc;\r\n    var yaxis = (_b = (_a = subCharts === null || subCharts === void 0 ? void 0 : subCharts[subchartIdx]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[yaxisIdx];\r\n    var graph = yaxis === null || yaxis === void 0 ? void 0 : yaxis.graphs[graphIdx];\r\n    var graphCalc = (_f = (_e = (_d = (_c = calcSubcharts === null || calcSubcharts === void 0 ? void 0 : calcSubcharts[subchartIdx]) === null || _c === void 0 ? void 0 : _c.yaxis) === null || _d === void 0 ? void 0 : _d[yaxisIdx]) === null || _e === void 0 ? void 0 : _e.graphs) === null || _f === void 0 ? void 0 : _f[graphIdx];\r\n    var curTicks = React.useMemo(function () { return (rtTicks ? rtTicks.slice(1) : (graphCalc === null || graphCalc === void 0 ? void 0 : graphCalc.curTicks) ? graphCalc.curTicks : []); }, [graphCalc === null || graphCalc === void 0 ? void 0 : graphCalc.curTicks, rtTicks]);\r\n    var dxHalfCandle = React.useMemo(function () { return ((calcXaxis === null || calcXaxis === void 0 ? void 0 : calcXaxis.scaledWidthPerTick) > 2 ? Math.floor(0.35 * (calcXaxis.scaledWidthPerTick - 1)) : 0); }, [calcXaxis.scaledWidthPerTick]);\r\n    // const info = useReactiveInfo2([subCharts, calcXaxis, calcSubcharts, subchartIdx, yaxisIdx, graphIdx]);\r\n    if (!graph || !T.isChartGraph(graph) || !curTicks)\r\n        return null;\r\n    // console.log(\"candlechart renders\", info);\r\n    return (React.createElement(React.Fragment, null, curTicks.map(function (pixDataset, tIdx) {\r\n        var xPix = pixDataset.pixX + calcXaxis.pixXStart;\r\n        if (!T.isCandleChartPixDataset(pixDataset))\r\n            return null;\r\n        var pixY = pixDataset.pixY;\r\n        var pixOpen = pixY.pixOpen, pixHigh = pixY.pixHigh, pixLow = pixY.pixLow, pixClose = pixY.pixClose;\r\n        var maxWidth = dxHalfCandle * 2;\r\n        // xPix + dxHalfCandle > calcXaxis.pixXEnd ? calcXaxis.pixXEnd - xPix + dxHalfCandle :dxHalfCandle * 2;\r\n        return (React.createElement(React.Fragment, { key: \"candle-\".concat(tIdx) },\r\n            React.createElement(Line // candle wick\r\n            , { listening: false, x: 0, y: 0, points: [xPix + 0.5, pixHigh + 0.5, xPix + 0.5, pixLow + 0.5], stroke: graph.style.candleWickStrokeColor, strokeWidth: 1 }),\r\n            pixClose !== pixOpen ? (dxHalfCandle !== 0 ? (React.createElement(Rect // candle body\r\n            , { listening: false, draggable: false, x: xPix + 0.5 - dxHalfCandle, y: pixOpen + 0.5, width: maxWidth, height: pixClose - pixOpen, stroke: graph.style.candleStrokeColor, fill: pixClose < pixOpen ? graph.style.candleUpColor : graph.style.candleDownColor, strokeWidth: 1 })) : (React.createElement(Line // candle body - if dxHalfcandle === 0, only redraw candle wick from open to close in resp. colors\r\n            , { listening: false, draggable: false, x: 0, y: 0, points: [xPix + 0.5, pixOpen + 0.5, xPix + 0.5, pixClose + 0.5], stroke: pixClose < pixOpen ? graph.style.candleUpColor : graph.style.candleDownColor, strokeWidth: 1 }))) : (React.createElement(Line // candle body - if open = close -> horizontal line\r\n            , { listening: false, draggable: false, x: 0, y: 0, points: [xPix + 0.5 - dxHalfCandle, pixClose + 0.5, xPix + 0.5 + dxHalfCandle, pixClose + 0.5], stroke: graph.style.candleStrokeColor, strokeWidth: 1 }))));\r\n    })));\r\n};\r\nexport var CCandleChart = React.memo(CCandleChartComponent);\r\n//# sourceMappingURL=CCandleChart.js.map","import React from \"react\";\r\nimport { Shape } from \"react-konva\";\r\nexport var CTextComponent = function (props) {\r\n    var valign = props.valign, halign = props.halign, text = props.text, x = props.x, y = props.y, fontColor = props.fontColor, fontSize = props.fontSize, fontName = props.fontName, name = props.name;\r\n    var drawText = React.useCallback(function (context, shape) {\r\n        var ctx = context._context;\r\n        ctx.font = (fontSize !== null && fontSize !== void 0 ? fontSize : 12) + \"px \" + (fontName !== null && fontName !== void 0 ? fontName : \"Arial\");\r\n        ctx.fillStyle = fontColor !== null && fontColor !== void 0 ? fontColor : \"black\";\r\n        ctx.textAlign = halign !== null && halign !== void 0 ? halign : \"left\";\r\n        ctx.textBaseline = valign !== null && valign !== void 0 ? valign : \"middle\";\r\n        ctx.fillText(text, x, //- widthYAxis + widthTickmarkLines + 5 +\r\n        y // additional 5px distance to end of tickmark\r\n        );\r\n        // (!) Konva specific method, it is very important\r\n        context.fillStrokeShape(shape);\r\n    }, [fontName, fontColor, fontSize, halign, valign, x, y, text]);\r\n    return React.createElement(Shape, { name: name, listening: false, sceneFunc: drawText });\r\n};\r\nexport var CText = React.memo(CTextComponent);\r\n//# sourceMappingURL=CText.js.map","import { format, getDate, getHours, getISOWeek, getMinutes, getMonth, getYear } from \"date-fns\";\r\nvar minuteMs = 60000;\r\nvar hourMs = minuteMs * 60;\r\nvar dayMs = hourMs * 24;\r\nvar weekMs = dayMs * 7;\r\nvar monthMs = dayMs * 31;\r\nvar yearMs = dayMs * 365;\r\nexport var chartPeriods = [\r\n    { name: \"minutes\", period: minuteMs, scaleMultiplys: [2, 5, 15, 30], range: [minuteMs, 30 * minuteMs] },\r\n    { name: \"hours\", period: hourMs, scaleMultiplys: [2, 4, 12], range: [hourMs, 12 * hourMs] },\r\n    { name: \"days\", period: dayMs, scaleMultiplys: [2], range: [dayMs, dayMs] },\r\n    { name: \"weeks\", period: weekMs, scaleMultiplys: [2], range: [3 * dayMs, 11 * dayMs] },\r\n    { name: \"months\", period: monthMs, scaleMultiplys: [2, 3, 6], range: [28 * dayMs, 31 * dayMs] },\r\n    { name: \"years\", period: yearMs, scaleMultiplys: [], range: [365 * dayMs, 366 * dayMs] },\r\n];\r\nexport var getDateString = function (date, period) {\r\n    switch (period) {\r\n        case \"minutes\":\r\n            return format(date, \"HH:mm\");\r\n        case \"hours\":\r\n            return format(date, \"HH:00\");\r\n        case \"days\":\r\n            return format(date, \"dd\");\r\n        case \"weeks\":\r\n            return format(date, \"dd\");\r\n        case \"months\":\r\n            return format(date, \"MMM\");\r\n        case \"years\":\r\n            return format(date, \"yyyy\");\r\n        default:\r\n            return \"\";\r\n    }\r\n};\r\nexport var getUnitOfDate = function (date, period) {\r\n    switch (period) {\r\n        case \"minutes\":\r\n            return getMinutes(date);\r\n        case \"hours\":\r\n            return getHours(date);\r\n        case \"days\":\r\n            return getDate(date);\r\n        case \"weeks\":\r\n            return getISOWeek(date);\r\n        case \"months\":\r\n            return getMonth(date);\r\n        case \"years\":\r\n            return getYear(date);\r\n        default:\r\n            return 0;\r\n    }\r\n};\r\nexport var getDateUnits = function (date) { return ({\r\n    minute: getUnitOfDate(date, \"minutes\"),\r\n    hour: getUnitOfDate(date, \"hours\"),\r\n    day: getUnitOfDate(date, \"days\"),\r\n    week: getUnitOfDate(date, \"weeks\"),\r\n    month: getUnitOfDate(date, \"months\"),\r\n    year: getUnitOfDate(date, \"years\"),\r\n}); };\r\n//# sourceMappingURL=DateTime.js.map","import * as T from \"../../Types\";\r\nimport { getDecimals, isNullish } from \"../../utils/Basics\";\r\nexport var pureXToPix = function (x, translated, widthPerTick) {\r\n    return x * widthPerTick + translated;\r\n};\r\nexport var purePixToX = function (pixX, translated, widthPerTick) {\r\n    return (pixX - translated) / widthPerTick;\r\n};\r\nexport var pureYToPix = function (y, pixYBottom, decimals, translatedY, pixPerPt) {\r\n    return pixYBottom - y * Math.pow(10, decimals) * pixPerPt + translatedY;\r\n};\r\nexport var purePixToY = function (pixY, pixYBottom, decimals, translatedY, pixPerPt) {\r\n    return ((pixYBottom + translatedY - pixY) / pixPerPt) * Math.pow(10, -decimals);\r\n};\r\nexport var getDataSeriesMaxY = function (dataSeries, fixedYScale, graphTypes) {\r\n    return T.isIndicatorDataset(dataSeries[0]) && !!fixedYScale\r\n        ? fixedYScale[1]\r\n        : Math.max.apply(Math, dataSeries.map(function (dataset) {\r\n            if (T.isIndicatorDataset(dataset)) {\r\n                var max = Math.max.apply(Math, dataset.prices.filter(function (price, pIdx) { var _a, _b; return price !== null && [\"line\", \"bars\"].includes((_b = (_a = graphTypes === null || graphTypes === void 0 ? void 0 : graphTypes[pIdx]) === null || _a === void 0 ? void 0 : _a.type) !== null && _b !== void 0 ? _b : \"\"); }));\r\n                return isNullish(max) ? 0 : max;\r\n            }\r\n            if (T.isCandleChartDataset(dataset))\r\n                return dataset.high;\r\n            return dataset.close;\r\n        }));\r\n};\r\nexport var getDataSeriesMinY = function (dataSeries, fixedYScale, graphTypes) {\r\n    return T.isIndicatorDataset(dataSeries[0]) && !!fixedYScale\r\n        ? fixedYScale[0]\r\n        : Math.min.apply(Math, dataSeries.map(function (dataset) {\r\n            if (T.isIndicatorDataset(dataset)) {\r\n                var min = Math.min.apply(Math, dataset.prices.filter(function (price, pIdx) { var _a, _b; return price !== null && [\"line\", \"bars\"].includes((_b = (_a = graphTypes === null || graphTypes === void 0 ? void 0 : graphTypes[pIdx]) === null || _a === void 0 ? void 0 : _a.type) !== null && _b !== void 0 ? _b : \"\"); }));\r\n                return isNullish(min) ? 0 : min;\r\n            }\r\n            if (T.isCandleChartDataset(dataset))\r\n                return dataset.low;\r\n            return dataset.close;\r\n        }));\r\n};\r\nexport var snapPixYToDataset = function (pixY, dataset, subcharts, subchartIdx, yaxisIdx, calcSubcharts, snapTolerance) {\r\n    var snapTol = snapTolerance ? snapTolerance : 10;\r\n    if (isNullish(pixY) ||\r\n        isNullish(subcharts) ||\r\n        isNullish(subchartIdx) ||\r\n        isNullish(yaxisIdx) ||\r\n        isNullish(dataset) ||\r\n        isNullish(dataset))\r\n        return null;\r\n    var prices = T.isIndicatorDataset(dataset)\r\n        ? dataset.prices.filter(function (p) { return p !== null; })\r\n        : T.isCandleChartDataset(dataset)\r\n            ? [dataset.open, dataset.high, dataset.low, dataset.close]\r\n            : T.isLineChartDataset(dataset)\r\n                ? [dataset.close]\r\n                : [];\r\n    if (prices.length === 0)\r\n        return null;\r\n    var calcYaxis = calcSubcharts[subchartIdx].yaxis[yaxisIdx];\r\n    return prices\r\n        .map(function (price) { return ({\r\n        pixY: pureYToPix(price, subcharts[subchartIdx].bottom, calcYaxis.decimals, calcYaxis.translatedY, calcYaxis.heightPerPt),\r\n        y: price.toFixed(getDecimals(price)),\r\n    }); })\r\n        .filter(function (price) { return price.pixY >= pixY - snapTol && price.pixY <= pixY + snapTol; })\r\n        .sort(function (a, b) {\r\n        return Math.abs(a.pixY - pixY) < Math.abs(b.pixY - pixY) ? -1 : Math.abs(a.pixY - pixY) > Math.abs(b.pixY - pixY) ? 1 : 0;\r\n    });\r\n};\r\nexport var getSubchartIdxByPixXy = function (pixXy, subcharts) {\r\n    if (!pixXy || !subcharts)\r\n        return null;\r\n    var activeSubchart = subcharts.find(function (val) { return pixXy[1] >= val.top && pixXy[1] < val.bottom; });\r\n    if (!activeSubchart)\r\n        return null;\r\n    var activeIdx = subcharts.indexOf(activeSubchart);\r\n    if (activeIdx === -1)\r\n        return null;\r\n    return activeIdx;\r\n};\r\nexport var snapToolsByXy = function (pixXy, subcharts, xaxis, calc) {\r\n    if (!pixXy || !subcharts || !xaxis)\r\n        return [];\r\n    var subchartIdx = getSubchartIdxByPixXy(pixXy, subcharts);\r\n    if (subchartIdx === null)\r\n        return [];\r\n    var translatedX = xaxis.totalTranslatedX;\r\n    var widthPerTick = xaxis.scaledWidthPerTick;\r\n    return subcharts[subchartIdx].yaxis\r\n        .map(function (yaxis, yaxisIdx) {\r\n        var _a, _b, _c;\r\n        var calcYaxis = (_c = (_b = (_a = calc.subcharts) === null || _a === void 0 ? void 0 : _a[subchartIdx]) === null || _b === void 0 ? void 0 : _b.yaxis) === null || _c === void 0 ? void 0 : _c[yaxisIdx];\r\n        if (!calcYaxis)\r\n            return [];\r\n        return yaxis.tools\r\n            .map(function (tool, toolIdx) {\r\n            return tool.xy\r\n                .map(function (anchorXy, toolPtIdx) {\r\n                var anchorPixX = pureXToPix(anchorXy[0], translatedX, widthPerTick);\r\n                var anchorPixY = pureYToPix(anchorXy[1], subcharts[subchartIdx].bottom, calcYaxis.decimals, calcYaxis.translatedY, calcYaxis.heightPerPt);\r\n                return pixXy[0] >= anchorPixX - 10 &&\r\n                    pixXy[0] <= anchorPixX + 10 &&\r\n                    pixXy[1] >= anchorPixY - 10 &&\r\n                    pixXy[1] <= anchorPixY + 10\r\n                    ? { subchartIdx: subchartIdx, yaxisIdx: yaxisIdx, toolIdx: toolIdx, toolPtIdx: toolPtIdx }\r\n                    : null;\r\n            })\r\n                .filter(function (a) { return a !== null; });\r\n        })\r\n            .flat();\r\n    })\r\n        .flat();\r\n};\r\nexport var getMaxDataSeriesDecimals = function (dataSeries) {\r\n    var decimalStat = dataSeries.map(function (dataset) {\r\n        return T.isCandleChartDataset(dataset)\r\n            ? Math.max.apply(Math, [\r\n                getDecimals(dataset.close),\r\n                getDecimals(dataset.open),\r\n                getDecimals(dataset.high),\r\n                getDecimals(dataset.low),\r\n            ]) : T.isLineChartDataset(dataset)\r\n            ? getDecimals(dataset.close)\r\n            : T.isIndicatorDataset(dataset)\r\n                ? getDecimals(Math.max.apply(Math, dataset.prices.map(function (price) { return (!isNullish(price) ? getDecimals(price) : 0); })))\r\n                : 0;\r\n    });\r\n    var maxDecimals = Math.max.apply(Math, decimalStat);\r\n    return maxDecimals;\r\n};\r\n//# sourceMappingURL=Utils.js.map","import React from \"react\";\r\nimport { Line, Rect } from \"react-konva\";\r\nimport { CText } from \".\";\r\nimport { isNullish } from \"../utils/Basics\";\r\nimport * as T from \"../Types\";\r\nimport { getDateString } from \"../ChartState/utils/DateTime\";\r\nimport { snapPixYToDataset } from \"../ChartState/utils/Utils\";\r\nexport var CrosshairComponent = function (props) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\r\n    var disableSnapX = props.disableSnapX, disableSnapGraphs = props.disableSnapGraphs, containerSize = props.containerSize, style = props.style, subcharts = props.subcharts, data = props.data, calcSubcharts = props.calcSubcharts, \r\n    // pointer,\r\n    calcPointer = props.calcPointer, calcXaxis = props.calcXaxis, pixToY = props.pixToY, rtTicks = props.rtTicks;\r\n    var containerWidth = containerSize.width - 1;\r\n    var containerHeight = containerSize.height - 1;\r\n    var widthYAxis = style.yaxis.widthYAxis; // 80 default but yaxis currently does not have width -> should be in settings\r\n    var _m = style.xaxis, heightXAxis = _m.heightXAxis, heightTickMarkLines = _m.heightTickMarkLines;\r\n    // const calcPointer = ChartState.calc.pointer;\r\n    var _o = calcPointer.move, pixXSnap = _o.pixXSnap, xUnlimited = _o.xUnlimited, pixXUnlimSnap = _o.pixXUnlimSnap;\r\n    var xEnd = calcXaxis.xEnd, xLast = calcXaxis.xLast;\r\n    var pointedSubchartIdx = calcPointer.move.subchartIdx;\r\n    var snapDataset = (_a = calcPointer.move.snapDatasets) === null || _a === void 0 ? void 0 : _a[0];\r\n    var pointedYaxisIdx = snapDataset ? snapDataset.yaxisIdx : null;\r\n    var pointedGraphIdx = snapDataset ? snapDataset.graphIdx : null;\r\n    var pointedGraph = !isNullish(pointedYaxisIdx) && !isNullish(pointedGraphIdx) && !isNullish(pointedSubchartIdx)\r\n        ? (_d = (_c = (_b = subcharts[pointedSubchartIdx].yaxis) === null || _b === void 0 ? void 0 : _b[pointedYaxisIdx]) === null || _c === void 0 ? void 0 : _c.graphs) === null || _d === void 0 ? void 0 : _d[pointedGraphIdx]\r\n        : null;\r\n    var graphData = data.find(function (val) { return val.id === (pointedGraph === null || pointedGraph === void 0 ? void 0 : pointedGraph.dataId); });\r\n    var pixX = (!disableSnapX || ((snapDataset === null || snapDataset === void 0 ? void 0 : snapDataset.ySnap) && !disableSnapGraphs)) && pixXSnap ? pixXSnap : pixXUnlimSnap !== null && pixXUnlimSnap !== void 0 ? pixXUnlimSnap : 0;\r\n    var mainGraphData = (data === null || data === void 0 ? void 0 : data[0].type) === \"chart\" ? data[0] : null;\r\n    var xDateString = snapDataset\r\n        ? snapDataset.dateString\r\n        : xUnlimited > xLast &&\r\n            xUnlimited <= xLast + ((_f = (_e = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _e === void 0 ? void 0 : _e.data.length) !== null && _f !== void 0 ? _f : 1) - 1 &&\r\n            ((_g = mainGraphData === null || mainGraphData === void 0 ? void 0 : mainGraphData.meta) === null || _g === void 0 ? void 0 : _g.chartPeriod)\r\n            ? (function () {\r\n                var _a, _b, _c;\r\n                var date = (_c = (_b = (_a = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b[xUnlimited - xEnd]) === null || _c === void 0 ? void 0 : _c.date;\r\n                var chartPeriod = mainGraphData.meta.chartPeriod;\r\n                if (!date || !chartPeriod)\r\n                    return \"\";\r\n                // const periodToDraw = getTickPeriod(date, data?.[0]?.type === \"chart\" ? data?.[0]?.dateStat : null, mainGraphMeta.chartPeriod, {\r\n                //     ...optChartPeriod,\r\n                // });\r\n                //          const xDateString = getDateString(\r\n                //     mainData.data[x].date,\r\n                //     !!periodToDraw ? periodToDraw : mainGraphMeta.chartPeriod.name\r\n                return getDateString(date, chartPeriod.name);\r\n            })()\r\n            : \"\";\r\n    // const ysnapTest =\r\n    //   xUnlimited > xLast &&\r\n    //   xUnlimited <= xLast + (rtTicks?.[0]?.data.length ?? 1) - 1 &&\r\n    //   !isNullish(pointedSubchartIdx) &&\r\n    //   !isNullish(calcPointer.move.pixY)\r\n    //     ? snapPixYToDataset(\r\n    //         calcPointer.move.pixY,\r\n    //         rtTick?.data?.[xUnlimited - xEnd],\r\n    //         subcharts,\r\n    //         pointedSubchartIdx,\r\n    //         0,\r\n    //         calcSubcharts\r\n    //       )\r\n    //     : null;\r\n    var ysnapTest = xUnlimited > xLast &&\r\n        xUnlimited <= xLast + ((_j = (_h = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _h === void 0 ? void 0 : _h.data.length) !== null && _j !== void 0 ? _j : 1) - 1 &&\r\n        !isNullish(pointedSubchartIdx) &&\r\n        !isNullish(calcPointer.move.pixY) &&\r\n        rtTicks\r\n        ? rtTicks\r\n            .map(function (rtTick) {\r\n            var _a, _b, _c;\r\n            return (_c = (_b = snapPixYToDataset(calcPointer.move.pixY, (_a = rtTick === null || rtTick === void 0 ? void 0 : rtTick.data) === null || _a === void 0 ? void 0 : _a[xUnlimited - xEnd], subcharts, pointedSubchartIdx, 0, calcSubcharts)) === null || _b === void 0 ? void 0 : _b.filter(function (val) { return val !== null; })) !== null && _c !== void 0 ? _c : [];\r\n        })\r\n            .flat()\r\n        : null;\r\n    var pixY = !isNullish(snapDataset === null || snapDataset === void 0 ? void 0 : snapDataset.pixYSnap)\r\n        ? snapDataset.pixYSnap\r\n        : !isNullish(ysnapTest) && ysnapTest.length > 0\r\n            ? ysnapTest[0].pixY\r\n            : !isNullish(calcPointer.move.pixY)\r\n                ? calcPointer.move.pixY\r\n                : null;\r\n    var yRaw = !isNullish(snapDataset === null || snapDataset === void 0 ? void 0 : snapDataset.ySnap) && !disableSnapGraphs\r\n        ? snapDataset.ySnap\r\n        : !isNullish(ysnapTest) && ysnapTest.length > 0\r\n            ? ysnapTest[0].y\r\n            : (snapDataset === null || snapDataset === void 0 ? void 0 : snapDataset.y)\r\n                ? snapDataset.y.toString()\r\n                : pixToY && !isNullish(pointedSubchartIdx)\r\n                    ? pixToY(calcPointer.move.pixY, pointedSubchartIdx, 0).toString()\r\n                    : null;\r\n    var y = pointedGraph &&\r\n        !isNullish(yRaw) &&\r\n        T.isIndicatorGraph(pointedGraph) &&\r\n        (graphData === null || graphData === void 0 ? void 0 : graphData.type) === \"indicator\" &&\r\n        !!graphData.indicator.default.decimals\r\n        ? parseFloat(yRaw).toFixed(graphData.indicator.default.decimals).toString()\r\n        : yRaw;\r\n    // console.log(\"Crosshair rendered\");\r\n    return !!pixY && subcharts.length > 0 ? (React.createElement(React.Fragment, null,\r\n        React.createElement(Line // crosshair x\r\n        , { name: \"crosshair-x\", listening: false, x: 0, y: 0, points: [pixX + 0.5, 0.5, pixX + 0.5, containerHeight - heightXAxis + heightTickMarkLines + 0.5], stroke: style.crosshair.strokeColor, strokeWidth: 1 }),\r\n        calcPointer.move.pixY <= subcharts[subcharts.length - 1].bottom ? (React.createElement(React.Fragment, null,\r\n            React.createElement(Line // crosshair y\r\n            , { name: \"crosshair-y\", listening: false, x: 0, y: 0, points: [0.5, pixY + 0.5, containerWidth - widthYAxis + 0.5, pixY + 0.5], stroke: style.crosshair.strokeColor, strokeWidth: 1 }),\r\n            React.createElement(Line // yaxis marker polygon\r\n            , { name: \"y-marker-polygon\", listening: false, draggable: false, x: 0, y: 0, points: [\r\n                    containerWidth - widthYAxis,\r\n                    pixY,\r\n                    containerWidth - widthYAxis + 10,\r\n                    pixY + 10,\r\n                    containerWidth,\r\n                    pixY + 10,\r\n                    containerWidth,\r\n                    pixY - 10,\r\n                    containerWidth - widthYAxis + 10,\r\n                    pixY - 10,\r\n                ], stroke: style.crosshair.yMarkerStrokeColor, fill: style.crosshair.yMarkerBackgroundColor, strokeWidth: 1, closed: true }),\r\n            React.createElement(CText, { name: \"y-marker text\", listening: false, text: y !== null && y !== void 0 ? y : \"\", halign: \"left\", valign: \"middle\", fontColor: style.crosshair.yMarkerTextColor, fontSize: style.crosshair.yMarkerFontSize, fontName: style.crosshair.yMarkerFontName, x: containerWidth - widthYAxis + style.yaxis.widthTickmarkLines + 5, y: pixY }))) : null,\r\n        xUnlimited >= 0 && xUnlimited <= xEnd + ((_l = (_k = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _k === void 0 ? void 0 : _k.data.length) !== null && _l !== void 0 ? _l : 1) - 1 ? (React.createElement(React.Fragment, null,\r\n            React.createElement(Rect // xaxis marker rect\r\n            , { name: \"x-marker rect\", listening: false, x: pixX - 25, y: containerHeight - heightXAxis + heightTickMarkLines + 0.5, width: 50, height: 25, fill: style.crosshair.xMarkerBackgroundColor, stroke: style.crosshair.xMarkerStrokeColor, strokeWidth: 1 }),\r\n            React.createElement(CText // xaxis marker text\r\n            , { name: \"x-marker text\", listening: false, fontSize: style.crosshair.xMarkerFontSize, fontName: style.crosshair.xMarkerFontName, fontColor: style.crosshair.xMarkerTextColor, halign: \"center\", valign: \"top\", text: xDateString, x: pixX, y: containerHeight - heightXAxis + heightTickMarkLines + 5 + 0.5 }))) : null)) : null;\r\n};\r\nexport var Crosshair = React.memo(CrosshairComponent);\r\n//# sourceMappingURL=Crosshair.js.map","import React from \"react\";\r\nimport { Line } from \"react-konva\";\r\nimport * as T from \"../Types\";\r\nimport { isNullish } from \"../utils/Basics\";\r\nimport { CText } from \"./CText\";\r\nvar MarkerComponent = function (props) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\r\n    var rtTicks = props.rtTicks, containerSize = props.containerSize, style = props.style, indSeriesIdx = props.indSeriesIdx, xaxis = props.xaxis;\r\n    var lastRtTick = (_b = (_a = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _a === void 0 ? void 0 : _a.ticks) === null || _b === void 0 ? void 0 : _b[((_d = (_c = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _c === void 0 ? void 0 : _c.ticks) === null || _d === void 0 ? void 0 : _d.length) - 1];\r\n    var lastRtData = (_f = (_e = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f[((_h = (_g = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _g === void 0 ? void 0 : _g.data) === null || _h === void 0 ? void 0 : _h.length) - 1];\r\n    if (!rtTicks || !lastRtTick || !lastRtData)\r\n        return null;\r\n    var containerWidth = containerSize.width;\r\n    var widthYAxis = style.yaxis.widthYAxis;\r\n    var pixYDataset = lastRtTick === null || lastRtTick === void 0 ? void 0 : lastRtTick.pixY;\r\n    var pixX = lastRtTick.pixX;\r\n    var pixY = !!pixYDataset && T.isLineChartPixDataset(lastRtTick)\r\n        ? (_j = lastRtTick === null || lastRtTick === void 0 ? void 0 : lastRtTick.pixY) === null || _j === void 0 ? void 0 : _j.pixClose\r\n        : T.isIndicatorPixDataset(lastRtTick)\r\n            ? (_l = (_k = lastRtTick === null || lastRtTick === void 0 ? void 0 : lastRtTick.pixY) === null || _k === void 0 ? void 0 : _k.pixPrices) === null || _l === void 0 ? void 0 : _l[indSeriesIdx !== null && indSeriesIdx !== void 0 ? indSeriesIdx : 0]\r\n            : null;\r\n    var y = T.isLineChartDataset(lastRtData)\r\n        ? (_m = lastRtData) === null || _m === void 0 ? void 0 : _m.close\r\n        : T.isIndicatorDataset(lastRtData)\r\n            ? (_p = (_o = lastRtData) === null || _o === void 0 ? void 0 : _o.prices) === null || _p === void 0 ? void 0 : _p[indSeriesIdx !== null && indSeriesIdx !== void 0 ? indSeriesIdx : 0]\r\n            : null;\r\n    if (isNullish(pixY) || isNullish(y))\r\n        return null;\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Line // marker line y\r\n        , { name: \"graphmarkerLineY\", listening: false, x: xaxis.pixXStart, y: 0, points: [\r\n                Math.round(pixX) + 0.5,\r\n                Math.round(pixY) + 0.5,\r\n                containerWidth - widthYAxis + 0.5,\r\n                Math.round(pixY) + 0.5,\r\n            ], stroke: \"rgba(102,102,102,0.5)\", strokeWidth: 1 }),\r\n        React.createElement(Line // yaxis marker polygon\r\n        , { name: \"graphMarkerPolygonY\", listening: false, draggable: false, x: 0, y: 0, points: [\r\n                Math.round(containerWidth - widthYAxis) + 0.5,\r\n                Math.round(pixY) + 0.5,\r\n                Math.round(containerWidth - widthYAxis + 10) + 0.5,\r\n                Math.round(pixY + 10) + 0.5,\r\n                Math.round(containerWidth) + 0.5,\r\n                Math.round(pixY + 10) + 0.5,\r\n                Math.round(containerWidth) + 0.5,\r\n                Math.round(pixY - 10) + 0.5,\r\n                Math.round(containerWidth - widthYAxis + 10) + 0.5,\r\n                Math.round(pixY - 10) + 0.5,\r\n            ], stroke: style.crosshair.yMarkerStrokeColor, fill: style.crosshair.yMarkerBackgroundColor, strokeWidth: 1, closed: true }),\r\n        React.createElement(CText, { name: \"graphMarkerPolygonYText\", listening: false, text: (_q = y.toString()) !== null && _q !== void 0 ? _q : \"\", halign: \"left\", valign: \"middle\", fontColor: style.crosshair.yMarkerTextColor, fontSize: style.crosshair.yMarkerFontSize, fontName: style.crosshair.yMarkerFontName, x: Math.round(containerWidth - widthYAxis + style.yaxis.widthTickmarkLines + 5) + 0.5, y: Math.round(pixY) + 0.5 })));\r\n};\r\nexport var Marker = React.memo(MarkerComponent);\r\n//# sourceMappingURL=Marker.js.map","import React from \"react\";\r\nimport { Line } from \"react-konva\";\r\nimport { CText } from \"./CText\";\r\nexport var XaxisComponent = function (props) {\r\n    var calcXaxis = props.calcXaxis, style = props.style, containerSize = props.containerSize;\r\n    var _a = style.xaxis, heightXAxis = _a.heightXAxis, heightTickMarkLines = _a.heightTickMarkLines;\r\n    // console.log(\"Xaxis renders\");\r\n    return (React.createElement(React.Fragment, null, calcXaxis.curTicks.map(function (xaxisTick, xaxisTickIdx) {\r\n        return (React.createElement(React.Fragment, { key: \"xaxis-ticks-\".concat(xaxisTickIdx) },\r\n            React.createElement(Line, { name: \"x-tickmark-\".concat(xaxisTickIdx), listening: false, x: xaxisTick.x, y: containerSize.height - 1 - heightXAxis + 0.5, points: [0, 0, 0, heightTickMarkLines], stroke: style.xaxis.strokeColor, strokeWidth: 1 }),\r\n            style.grid.useGridX ? (React.createElement(Line, { name: \"x-gridline-\".concat(xaxisTickIdx), listening: false, x: xaxisTick.x, y: 0 + 0.5, points: [0, 0, 0, containerSize.height - 1 - heightXAxis + 0.5], stroke: style.grid.strokeColor, strokeWidth: 1 })) : null,\r\n            React.createElement(CText, { text: xaxisTick.dateString, halign: \"center\", valign: \"top\", fontColor: style.xaxis.fontColor, fontName: style.xaxis.fontName, fontSize: style.xaxis.fontSize, x: xaxisTick.x + 0.5, y: containerSize.height - 1 - heightXAxis + heightTickMarkLines + 0.5 + 8 })));\r\n    })));\r\n};\r\nexport var Xaxis = React.memo(XaxisComponent);\r\n//# sourceMappingURL=Xaxis.js.map","import React from \"react\";\r\nimport { Line } from \"react-konva\";\r\nimport { CText } from \"./CText\";\r\nexport var YaxisComponent = function (props) {\r\n    var subcharts = props.subcharts, calcSubcharts = props.calcSubcharts, style = props.style, containerSize = props.containerSize;\r\n    var widthTickmarkLines = style.yaxis.widthTickmarkLines;\r\n    // console.log(\"Yaxis renders\")\r\n    return (React.createElement(React.Fragment, null, subcharts.map(function (subchart, subchartIdx) {\r\n        return subchart.yaxis.map(function (singleYaxis, yIdx) {\r\n            var _a, _b, _c;\r\n            var calcYaxis = (_b = (_a = calcSubcharts === null || calcSubcharts === void 0 ? void 0 : calcSubcharts[subchartIdx]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[yIdx];\r\n            var yAxisTicks = (_c = calcYaxis === null || calcYaxis === void 0 ? void 0 : calcYaxis.drawTicks) !== null && _c !== void 0 ? _c : [];\r\n            return yAxisTicks.map(function (yaxisTick, yaxisTickIdx) {\r\n                return (React.createElement(React.Fragment, { key: \"yaxis-ticks-\".concat(yaxisTickIdx) },\r\n                    React.createElement(Line, { name: \"y-tickmark-\".concat(yaxisTickIdx), listening: false, x: containerSize.width - 1 + 0.5 - style.yaxis.widthTickmarkLines, y: yaxisTick.pixY + 0.5, points: [0, 0, widthTickmarkLines, 0], stroke: style.yaxis.strokeColor, strokeWidth: 1 }),\r\n                    style.grid.useGridY ? (React.createElement(Line, { name: \"y-gridline-\".concat(yaxisTickIdx), listening: false, x: 0 + 0.5, y: yaxisTick.pixY + 0.5, points: [0, 0, containerSize.width - 1 + 0.5, 0], stroke: style.grid.strokeColor, strokeWidth: 1 })) : null,\r\n                    React.createElement(CText, { text: yaxisTick.label, halign: \"right\", valign: \"middle\", fontColor: style.yaxis.fontColor, fontName: style.yaxis.fontName, fontSize: style.yaxis.fontSize, x: containerSize.width - 1 - style.yaxis.widthTickmarkLines + 0.5, y: yaxisTick.pixY })));\r\n            });\r\n        });\r\n    })));\r\n};\r\nexport var Yaxis = React.memo(YaxisComponent);\r\n//# sourceMappingURL=Yaxis.js.map","import React from \"react\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport styled from \"@mui/material/styles/styled\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Icon from \"@mdi/react\";\r\nexport var ChartMenuListItemIcon = styled(ListItemIcon)(function (_a) {\r\n    var theme = _a.theme;\r\n    return ({\r\n        border: \"1px solid #666\",\r\n        borderRadius: 5,\r\n        marginRight: 10,\r\n        background: theme.palette.secondary.main,\r\n        minWidth: 32,\r\n        height: 32,\r\n        position: \"relative\",\r\n        top: 0,\r\n    });\r\n});\r\nexport var ChartMenuListItemComponent = function (props) {\r\n    var text = props.text, id = props.id, iconPath = props.iconPath, onClick = props.onClick, iconColor = props.iconColor, textColor = props.textColor, addIcons = props.addIcons, iconBgColor = props.iconBgColor;\r\n    var addIconsInt = addIcons !== null && addIcons !== void 0 ? addIcons : [];\r\n    return (React.createElement(ListItem, { button: true, onClick: onClick, key: id + \"_listitem\" },\r\n        React.createElement(ChartMenuListItemIcon, { sx: {\r\n                background: iconBgColor !== null && iconBgColor !== void 0 ? iconBgColor : \"secondary.main\",\r\n            } },\r\n            React.createElement(Icon, { path: iconPath, size: \"32px\", color: iconColor !== null && iconColor !== void 0 ? iconColor : \"#fff\" }),\r\n            addIconsInt),\r\n        React.createElement(Typography, { variant: \"h6\", component: \"div\", color: textColor !== null && textColor !== void 0 ? textColor : \"text.primary\" }, text)));\r\n};\r\nexport var ChartMenuListItem = React.memo(ChartMenuListItemComponent);\r\n//# sourceMappingURL=ChartMenuListItem.js.map","import React from \"react\";\r\nimport List from \"@mui/material/List\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { mdiChartLine, mdiChartBellCurve, mdiPencilRuler, mdiTune, } from \"@mdi/js\";\r\nimport { ChartMenuListItem } from \"../Subelements/ChartMenuListItem\";\r\nexport var Home = function (props) {\r\n    var onNavigate = props.onNavigate;\r\n    var theme = useTheme();\r\n    var handleNavChart = React.useCallback(function () {\r\n        onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(\"chart\");\r\n    }, [onNavigate]);\r\n    var handleNavIndicators = React.useCallback(function () {\r\n        onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(\"indicators\");\r\n    }, [onNavigate]);\r\n    var handleNavTools = React.useCallback(function () {\r\n        onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(\"tools\");\r\n    }, [onNavigate]);\r\n    var handleNavSettings = React.useCallback(function () {\r\n        onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(\"settings\");\r\n    }, [onNavigate]);\r\n    return (React.createElement(List, { sx: { pt: 4 } },\r\n        React.createElement(ChartMenuListItem, { id: \"0\", text: \"Chart\", iconPath: mdiChartLine, textColor: \"text.primary\", iconColor: theme.palette.secondary.contrastText, onClick: handleNavChart }),\r\n        React.createElement(ChartMenuListItem, { text: \"Indicators\", id: \"1\", iconPath: mdiChartBellCurve, textColor: \"text.primary\", iconColor: theme.palette.secondary.contrastText, onClick: handleNavIndicators }),\r\n        React.createElement(ChartMenuListItem, { id: \"2\", text: \"Tools\", iconPath: mdiPencilRuler, textColor: \"text.primary\", iconColor: theme.palette.secondary.contrastText, onClick: handleNavTools }),\r\n        React.createElement(ChartMenuListItem, { id: \"3\", text: \"Settings\", iconPath: mdiTune, textColor: \"text.primary\", iconColor: theme.palette.secondary.contrastText, onClick: handleNavSettings })));\r\n};\r\n//# sourceMappingURL=Home.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport React from \"react\";\r\nimport TreeItem, { treeItemClasses } from \"@mui/lab/TreeItem\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport styled from \"@mui/material/styles/styled\";\r\nvar CSTreeItem = styled(TreeItem)(function (_a) {\r\n    var _b, _c, _d;\r\n    var theme = _a.theme;\r\n    return (_b = {},\r\n        _b[\"& .\".concat(treeItemClasses.content)] = (_c = {\r\n                boxSizing: \"border-box\",\r\n                borderTopRightRadius: theme.spacing(2),\r\n                borderBottomRightRadius: theme.spacing(2),\r\n                paddingTop: theme.spacing(1),\r\n                paddingBottom: theme.spacing(1),\r\n                paddingRight: theme.spacing(2),\r\n                \"&:hover\": {\r\n                    backgroundColor: theme.palette.action.hover,\r\n                },\r\n                \"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused\": {\r\n                    backgroundColor: \"var(--tree-view-bg-color, \".concat(theme.palette.action.selected, \")\"),\r\n                    color: \"var(--tree-view-color)\",\r\n                }\r\n            },\r\n            _c[\"& .\".concat(treeItemClasses.label)] = {\r\n                color: \"inherit\",\r\n            },\r\n            _c),\r\n        _b[\"& .\".concat(treeItemClasses.group)] = (_d = {\r\n                marginLeft: theme.spacing(1)\r\n            },\r\n            _d[\"& .\".concat(treeItemClasses.content)] = {\r\n                paddingLeft: theme.spacing(1),\r\n                // pr: 0\r\n                // paddingLeft: 2,\r\n            },\r\n            _d),\r\n        _b);\r\n});\r\nexport var CTreeItem = React.forwardRef(function (props, ref) {\r\n    var bgColorSelected = props.bgColorSelected, colorSelected = props.colorSelected, LabelIcon = props.labelIcon, labelInfo = props.labelInfo, labelText = props.labelText, typographyVariant = props.typographyVariant, other = __rest(props, [\"bgColorSelected\", \"colorSelected\", \"labelIcon\", \"labelInfo\", \"labelText\", \"typographyVariant\"]);\r\n    return (React.createElement(CSTreeItem, __assign({ ref: ref, label: React.createElement(Stack, { direction: \"row\", sx: { alignItems: \"center\", alignContent: \"center\" } },\r\n            React.createElement(Box, { component: \"span\", sx: { mr: 1, lineHeight: 0 } }, LabelIcon),\r\n            React.createElement(Typography, { variant: typographyVariant !== null && typographyVariant !== void 0 ? typographyVariant : \"h6\", component: \"div\", sx: { flexGrow: 1 } }, labelText),\r\n            React.createElement(Typography, { variant: \"caption\", component: \"div\" }, labelInfo)), sx: { color: \"text.primary\" }, style: {\r\n            \"--tree-view-color\": colorSelected,\r\n            \"--tree-view-bg-color\": bgColorSelected,\r\n        } }, other)));\r\n});\r\nCTreeItem.displayName = \"CTreeItem\";\r\n//# sourceMappingURL=CTreeItem.js.map","export var colorNames = {\r\n    aliceblue: \"#f0f8ff\",\r\n    antiquewhite: \"#faebd7\",\r\n    aqua: \"#00ffff\",\r\n    aquamarine: \"#7fffd4\",\r\n    azure: \"#f0ffff\",\r\n    beige: \"#f5f5dc\",\r\n    bisque: \"#ffe4c4\",\r\n    black: \"#000000\",\r\n    blanchedalmond: \"#ffebcd\",\r\n    blue: \"#0000ff\",\r\n    blueviolet: \"#8a2be2\",\r\n    brown: \"#a52a2a\",\r\n    burlywood: \"#deb887\",\r\n    cadetblue: \"#5f9ea0\",\r\n    chartreuse: \"#7fff00\",\r\n    chocolate: \"#d2691e\",\r\n    coral: \"#ff7f50\",\r\n    cornflowerblue: \"#6495ed\",\r\n    cornsilk: \"#fff8dc\",\r\n    crimson: \"#dc143c\",\r\n    cyan: \"#00ffff\",\r\n    darkblue: \"#00008b\",\r\n    darkcyan: \"#008b8b\",\r\n    darkgoldenrod: \"#b8860b\",\r\n    darkgray: \"#a9a9a9\",\r\n    darkgreen: \"#006400\",\r\n    darkkhaki: \"#bdb76b\",\r\n    darkmagenta: \"#8b008b\",\r\n    darkolivegreen: \"#556b2f\",\r\n    darkorange: \"#ff8c00\",\r\n    darkorchid: \"#9932cc\",\r\n    darkred: \"#8b0000\",\r\n    darksalmon: \"#e9967a\",\r\n    darkseagreen: \"#8fbc8f\",\r\n    darkslateblue: \"#483d8b\",\r\n    darkslategray: \"#2f4f4f\",\r\n    darkturquoise: \"#00ced1\",\r\n    darkviolet: \"#9400d3\",\r\n    deeppink: \"#ff1493\",\r\n    deepskyblue: \"#00bfff\",\r\n    dimgray: \"#696969\",\r\n    dodgerblue: \"#1e90ff\",\r\n    firebrick: \"#b22222\",\r\n    floralwhite: \"#fffaf0\",\r\n    forestgreen: \"#228b22\",\r\n    fuchsia: \"#ff00ff\",\r\n    gainsboro: \"#dcdcdc\",\r\n    ghostwhite: \"#f8f8ff\",\r\n    gold: \"#ffd700\",\r\n    goldenrod: \"#daa520\",\r\n    gray: \"#808080\",\r\n    green: \"#008000\",\r\n    greenyellow: \"#adff2f\",\r\n    honeydew: \"#f0fff0\",\r\n    hotpink: \"#ff69b4\",\r\n    \"indianred \": \"#cd5c5c\",\r\n    indigo: \"#4b0082\",\r\n    ivory: \"#fffff0\",\r\n    khaki: \"#f0e68c\",\r\n    lavender: \"#e6e6fa\",\r\n    lavenderblush: \"#fff0f5\",\r\n    lawngreen: \"#7cfc00\",\r\n    lemonchiffon: \"#fffacd\",\r\n    lightblue: \"#add8e6\",\r\n    lightcoral: \"#f08080\",\r\n    lightcyan: \"#e0ffff\",\r\n    lightgoldenrodyellow: \"#fafad2\",\r\n    lightgrey: \"#d3d3d3\",\r\n    lightgreen: \"#90ee90\",\r\n    lightpink: \"#ffb6c1\",\r\n    lightsalmon: \"#ffa07a\",\r\n    lightseagreen: \"#20b2aa\",\r\n    lightskyblue: \"#87cefa\",\r\n    lightslategray: \"#778899\",\r\n    lightsteelblue: \"#b0c4de\",\r\n    lightyellow: \"#ffffe0\",\r\n    lime: \"#00ff00\",\r\n    limegreen: \"#32cd32\",\r\n    linen: \"#faf0e6\",\r\n    magenta: \"#ff00ff\",\r\n    maroon: \"#800000\",\r\n    mediumaquamarine: \"#66cdaa\",\r\n    mediumblue: \"#0000cd\",\r\n    mediumorchid: \"#ba55d3\",\r\n    mediumpurple: \"#9370d8\",\r\n    mediumseagreen: \"#3cb371\",\r\n    mediumslateblue: \"#7b68ee\",\r\n    mediumspringgreen: \"#00fa9a\",\r\n    mediumturquoise: \"#48d1cc\",\r\n    mediumvioletred: \"#c71585\",\r\n    midnightblue: \"#191970\",\r\n    mintcream: \"#f5fffa\",\r\n    mistyrose: \"#ffe4e1\",\r\n    moccasin: \"#ffe4b5\",\r\n    navajowhite: \"#ffdead\",\r\n    navy: \"#000080\",\r\n    oldlace: \"#fdf5e6\",\r\n    olive: \"#808000\",\r\n    olivedrab: \"#6b8e23\",\r\n    orange: \"#ffa500\",\r\n    orangered: \"#ff4500\",\r\n    orchid: \"#da70d6\",\r\n    palegoldenrod: \"#eee8aa\",\r\n    palegreen: \"#98fb98\",\r\n    paleturquoise: \"#afeeee\",\r\n    palevioletred: \"#d87093\",\r\n    papayawhip: \"#ffefd5\",\r\n    peachpuff: \"#ffdab9\",\r\n    peru: \"#cd853f\",\r\n    pink: \"#ffc0cb\",\r\n    plum: \"#dda0dd\",\r\n    powderblue: \"#b0e0e6\",\r\n    purple: \"#800080\",\r\n    rebeccapurple: \"#663399\",\r\n    red: \"#ff0000\",\r\n    rosybrown: \"#bc8f8f\",\r\n    royalblue: \"#4169e1\",\r\n    saddlebrown: \"#8b4513\",\r\n    salmon: \"#fa8072\",\r\n    sandybrown: \"#f4a460\",\r\n    seagreen: \"#2e8b57\",\r\n    seashell: \"#fff5ee\",\r\n    sienna: \"#a0522d\",\r\n    silver: \"#c0c0c0\",\r\n    skyblue: \"#87ceeb\",\r\n    slateblue: \"#6a5acd\",\r\n    slategray: \"#708090\",\r\n    snow: \"#fffafa\",\r\n    springgreen: \"#00ff7f\",\r\n    steelblue: \"#4682b4\",\r\n    tan: \"#d2b48c\",\r\n    teal: \"#008080\",\r\n    thistle: \"#d8bfd8\",\r\n    tomato: \"#ff6347\",\r\n    turquoise: \"#40e0d0\",\r\n    violet: \"#ee82ee\",\r\n    wheat: \"#f5deb3\",\r\n    white: \"#ffffff\",\r\n    whitesmoke: \"#f5f5f5\",\r\n    yellow: \"#ffff00\",\r\n    yellowgreen: \"#9acd32\",\r\n};\r\n// colors\r\nexport var colorNameToHex = function (name) {\r\n    if (!(name in colorNames))\r\n        return null;\r\n    return colorNames[\"name\"];\r\n};\r\nexport var colorNameToRGB = function (name) {\r\n    if (!(name in colorNames))\r\n        return null;\r\n    return hexToRgb(colorNames[\"name\"]);\r\n};\r\nexport var hexToRgb = function (hex) {\r\n    if (!hex)\r\n        return null;\r\n    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    hex = hex.replace(shorthandRegex, function (m, r, g, b) {\r\n        return r + r + g + g + b + b;\r\n    });\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result\r\n        ? {\r\n            r: parseInt(result[1], 16),\r\n            g: parseInt(result[2], 16),\r\n            b: parseInt(result[3], 16),\r\n        }\r\n        : null;\r\n};\r\n//# sourceMappingURL=Color.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport Box from \"@mui/material/Box\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Popover from \"@mui/material/Popover\";\r\nimport Slider from \"@mui/material/Slider\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport React from \"react\";\r\nimport { colorNameToRGB, hexToRgb } from \"../utils/Color\";\r\n// const colors = [\r\n//   \"#000\", //black to white\r\n//   \"#666\",\r\n//   \"#bbb\",\r\n//   \"#fff\",\r\n//   \"#9013fe\", //violets\r\n//   \"#bd10e0\",\r\n//   \"#3f51b5\", // blues\r\n//   \"#0693E3\",\r\n//   \"#8ED1FC\",\r\n//   \"#008080\", // greens\r\n//   \"#00D084\",\r\n//   \"#7BDCB5\",\r\n//   \"#b80000\", // reds\r\n//   \"#f50057\",\r\n//   \"#f78da7\",\r\n//   \"#795548\", // brown to yellow\r\n//   \"#FF6900\",\r\n//   \"#FCB900\",\r\n// ];\r\nvar rgbaColor = [\r\n    \"0, 0, 0\",\r\n    \"102, 102, 102\",\r\n    \"187, 187, 187\",\r\n    \"255, 255, 255\",\r\n    \"144, 19, 254\",\r\n    \"189, 16, 224\",\r\n    \"63, 81, 181\",\r\n    \"6, 147, 227\",\r\n    \"142, 209, 252\",\r\n    \"0, 128, 128\",\r\n    \"0, 208, 132\",\r\n    \"123, 220, 181\",\r\n    \"184, 0, 0\",\r\n    \"245, 0, 87\",\r\n    \"247, 141, 167\",\r\n    \"121, 85, 72\",\r\n    \"255, 105, 0\",\r\n    \"252, 185, 0\",\r\n];\r\nexport var ColorRect = function (props) {\r\n    var color = props.color, _a = props.width, width = _a === void 0 ? 24 : _a, _b = props.height, height = _b === void 0 ? 24 : _b, _c = props.BoxProps, BoxProps = _c === void 0 ? {} : _c;\r\n    return (React.createElement(Box, __assign({}, BoxProps, { sx: __assign({ minWidth: width, minHeight: height, \r\n            // height,\r\n            boxSizing: \"border-box\", background: color, borderRadius: 1, border: \"2px solid #000\" }, BoxProps === null || BoxProps === void 0 ? void 0 : BoxProps.sx) })));\r\n};\r\nexport var Colorpicker = function (props) {\r\n    var color = props.color, onColorSelected = props.onColorSelected;\r\n    var _a = React.useState(false), Open = _a[0], setOpen = _a[1];\r\n    var _b = React.useState(null), ColorHover = _b[0], setColorHover = _b[1];\r\n    var InputRef = React.useRef(null);\r\n    var isHex = /((^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$))/i.test(color);\r\n    var hexToRgbRes = !!isHex && typeof color === \"string\" ? hexToRgb(color) : null;\r\n    var isRgb = typeof color === \"string\"\r\n        ? color.match(/^(rgb)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/)\r\n        : null;\r\n    var isRgba = !!isRgb && 2 in isRgb && isRgb[2] === \"a\";\r\n    var rgbInternal = !!isRgb && 3 in isRgb && 4 in isRgb && 5 in isRgb\r\n        ? [parseFloat(isRgb[3]), parseFloat(isRgb[4]), parseFloat(isRgb[5])]\r\n        : isHex && !!hexToRgbRes\r\n            ? [hexToRgbRes.r, hexToRgbRes.g, hexToRgbRes.b]\r\n            : [];\r\n    if (rgbInternal.length === 0) {\r\n        var colorNameRes = colorNameToRGB(color);\r\n        if (colorNameRes)\r\n            rgbInternal.push(colorNameRes.r, colorNameRes.g, colorNameRes.b);\r\n    }\r\n    var alphaProp = !!isRgba && !!isRgb && 6 in isRgb ? parseFloat(isRgb[6]) * 100 : 100;\r\n    var _c = React.useState(alphaProp), AlphaVal = _c[0], setAlphaVal = _c[1];\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(IconButton, { color: \"primary\", style: { padding: 0 }, onClick: function () {\r\n                setOpen(true);\r\n            }, ref: InputRef },\r\n            React.createElement(ColorRect, { color: color })),\r\n        React.createElement(Popover, { id: \"colorpicker-popover\", open: Open, anchorEl: InputRef.current, onClose: function () {\r\n                setOpen(false);\r\n            }, anchorOrigin: {\r\n                vertical: \"bottom\",\r\n                horizontal: \"center\",\r\n            }, transformOrigin: {\r\n                vertical: \"top\",\r\n                horizontal: \"center\",\r\n            }, PaperProps: { sx: { width: 300, p: 1 } } },\r\n            React.createElement(Grid, { container: true, spacing: 1, sx: {\r\n                    alignItems: \"center\",\r\n                    justifyItems: \"center\",\r\n                    alignContent: \"center\",\r\n                    p: 1,\r\n                } },\r\n                rgbaColor.map(function (clr, clrIdx) { return (React.createElement(Grid, { item: true, xs: 2, key: clrIdx },\r\n                    React.createElement(IconButton, { color: \"default\", style: { padding: 0 }, onMouseOver: function (e) {\r\n                            setColorHover(\"rgba(\".concat(rgbaColor[clrIdx], \",\").concat(AlphaVal, \")\"));\r\n                        }, onMouseLeave: function () {\r\n                            setColorHover(null);\r\n                        }, onClick: function () {\r\n                            onColorSelected(\"rgba(\" + rgbaColor[clrIdx] + \",\" + AlphaVal / 100 + \")\");\r\n                        } },\r\n                        React.createElement(ColorRect, { color: \"rgba(\" + clr + \",1)\", width: 24, height: 24 })))); }),\r\n                React.createElement(Grid, { item: true, xs: 3 },\r\n                    React.createElement(Typography, null, \"Alpha\")),\r\n                React.createElement(Grid, { item: true, xs: 6, style: { padding: \"0px 10px\" } },\r\n                    React.createElement(Slider, { value: AlphaVal, onChange: function (e, val) {\r\n                            setAlphaVal(Array.isArray(val) ? val[0] : val);\r\n                            onColorSelected(\"rgba(\".concat(rgbInternal[0], \",\").concat(rgbInternal[1], \",\").concat(rgbInternal[2], \",\").concat((Array.isArray(val) ? val[0] : val) / 100, \")\"));\r\n                        } })),\r\n                React.createElement(Grid, { item: true, xs: 3 },\r\n                    React.createElement(TextField, { margin: \"none\", variant: \"outlined\", size: \"small\", inputProps: { style: { padding: \"5px 5px 5px 10px\" } }, value: AlphaVal, onChange: function (e) {\r\n                            var val = parseInt(e.target.value, 10);\r\n                            if (isNaN(val))\r\n                                val = 0;\r\n                            if (val < 0 || val > 100)\r\n                                return;\r\n                            setAlphaVal(val);\r\n                            onColorSelected(\"rgba(\".concat(rgbInternal[0], \",\").concat(rgbInternal[1], \",\").concat(rgbInternal[2], \",\").concat(val / 100, \")\"));\r\n                        } }))),\r\n            React.createElement(Grid, { container: true, spacing: 1, sx: {\r\n                    alignItems: \"center\",\r\n                    justifyItems: \"center\",\r\n                    alignContent: \"center\",\r\n                    p: 1,\r\n                } },\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(Typography, { component: \"div\", align: \"center\" }, \"R\")),\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(Typography, { component: \"div\", align: \"center\" }, \"G\")),\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(Typography, { component: \"div\", align: \"center\" }, \"B\")),\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(Typography, { component: \"div\", align: \"center\" }, \"A\")),\r\n                React.createElement(Grid, { item: true, xs: 2 }),\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(ColorRect, { color: ColorHover ? ColorHover : color, width: 24, height: 24, BoxProps: { maxWidth: 24, maxHeight: 24 } }))),\r\n            React.createElement(Grid, { container: true, spacing: 1, sx: {\r\n                    alignItems: \"center\",\r\n                    justifyItems: \"center\",\r\n                    alignContent: \"center\",\r\n                    p: 1,\r\n                } },\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(TextField, { disabled: true, value: rgbInternal ? rgbInternal[0] : color, margin: \"none\", variant: \"outlined\", size: \"small\", inputProps: {\r\n                            style: {\r\n                                padding: 5,\r\n                                background: \"rgba(184, 0, 0, \".concat(rgbInternal ? rgbInternal[0] / 255 : 1, \")\"),\r\n                            },\r\n                        } })),\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(TextField, { disabled: true, value: rgbInternal ? rgbInternal[1] : color, margin: \"none\", variant: \"outlined\", size: \"small\", inputProps: {\r\n                            style: {\r\n                                padding: 5,\r\n                                background: \"rgba(0, 208, 132, \".concat(rgbInternal ? rgbInternal[1] / 255 : 1, \")\"),\r\n                            },\r\n                        }, fullWidth: true })),\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(TextField, { disabled: true, value: rgbInternal ? rgbInternal[2] : color, margin: \"none\", variant: \"outlined\", size: \"small\", inputProps: {\r\n                            style: {\r\n                                padding: 5,\r\n                                background: \"rgba(6, 147, 227, \".concat(rgbInternal ? rgbInternal[2] / 255 : 1, \")\"),\r\n                            },\r\n                        } })),\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(TextField, { disabled: true, value: AlphaVal, margin: \"none\", variant: \"outlined\", size: \"small\", inputProps: { style: { padding: 5, background: \"#bbb\" } } })),\r\n                React.createElement(Grid, { item: true, xs: 2 }),\r\n                React.createElement(Grid, { item: true, xs: 2 },\r\n                    React.createElement(Button, { color: \"secondary\", variant: \"contained\", size: \"small\", style: { minWidth: 0 }, onClick: function () { return setOpen(false); } }, \"OK\"))))));\r\n};\r\n//# sourceMappingURL=Colorpicker.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport * as React from \"react\";\r\nimport TreeView from \"@mui/lab/TreeView\";\r\nimport { mdiMenuDown, mdiMenuRight } from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nexport var CTreeView = function (props) {\r\n    var other = __rest(props, []);\r\n    var theme = useTheme();\r\n    return (React.createElement(TreeView, __assign({ \"aria-label\": \"treeview\", defaultCollapseIcon: React.createElement(Icon, { path: mdiMenuDown, size: 1, color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\" }), defaultExpandIcon: React.createElement(Icon, { path: mdiMenuRight, size: 1, color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\" }), defaultEndIcon: React.createElement(\"div\", { style: { width: 24 } }), sx: { overflowY: \"auto\", pt: 1, pb: 1 } }, other), props.children));\r\n};\r\n//# sourceMappingURL=CTreeView.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport Icon from \"@mdi/react\";\r\nimport React from \"react\";\r\nexport var CIcon = function (props) {\r\n    var path = props.path, size = props.size, style = props.style, background = props.background, border = props.border, other = __rest(props, [\"path\", \"size\", \"style\", \"background\", \"border\"]);\r\n    return (React.createElement(Icon, __assign({ path: path, size: size }, other, { style: __assign({ background: background, border: border !== null && border !== void 0 ? border : \"1px solid #666\", borderRadius: 5, marginRight: 10, boxSizing: \"border-box\" }, style) })));\r\n};\r\n//# sourceMappingURL=CIcon.js.map","import React from \"react\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { CIcon } from \"../../Components/CIcon\";\r\nimport { Colorpicker } from \"../../Components/Colorpicker\";\r\nimport { CTreeItem } from \"../../Components/CTreeItem\";\r\nexport var CMColorPropTreeItem = function (props) {\r\n    var nodeId = props.nodeId, onColorSelected = props.onColorSelected, color = props.color, iconPath = props.iconPath, text = props.text;\r\n    var theme = useTheme();\r\n    return (React.createElement(CTreeItem, { key: nodeId, nodeId: nodeId, labelText: text, typographyVariant: \"body1\", labelIcon: React.createElement(CIcon, { path: iconPath, size: \"24px\", color: theme.palette.text.primary, border: theme.palette.mode === \"dark\" ? undefined : \"1px solid #bbb\" }), labelInfo: React.createElement(Colorpicker, { color: typeof color === \"string\" ? color : color[0], onColorSelected: onColorSelected }) }));\r\n};\r\n//# sourceMappingURL=CMColorPropTreeItem.js.map","import IconButton from \"@mui/material/IconButton\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Select from \"@mui/material/Select\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { mdiChartLine, mdiClose, mdiBorderColor, mdiSetLeft } from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport React from \"react\";\r\nimport { CIcon } from \"../../Components/CIcon\";\r\nimport { CMColorPropTreeItem } from \"./CMColorPropTreeItem\";\r\nimport { CTreeItem } from \"../../Components/CTreeItem\";\r\nimport * as T from \"../../Types\";\r\nexport var ChartMenuChartGraphTreeItem = function (props) {\r\n    var _a, _b, _c, _d, _e;\r\n    var subchartIdx = props.subchartIdx, yaxisIdx = props.yaxisIdx, graphIdx = props.graphIdx, subCharts = props.subCharts, Dispatch = props.Dispatch, onSettingsExpand = props.onSettingsExpand, data = props.data;\r\n    var graph = (_d = (_c = (_b = (_a = subCharts === null || subCharts === void 0 ? void 0 : subCharts[subchartIdx]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[yaxisIdx]) === null || _c === void 0 ? void 0 : _c.graphs) === null || _d === void 0 ? void 0 : _d[graphIdx];\r\n    var theme = useTheme();\r\n    var dataGraph = data.find(function (val) { return val.id === (graph === null || graph === void 0 ? void 0 : graph.dataId); });\r\n    var graphColorProps = function (graph) {\r\n        return T.isChartGraph(graph) && (dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.type) === \"chart\"\r\n            ? graph.chartType === \"candles\"\r\n                ? [\r\n                    {\r\n                        text: \"candle up color\",\r\n                        icon: mdiBorderColor,\r\n                        color: graph.style.candleUpColor,\r\n                        onColorSelected: function (color) {\r\n                            Dispatch({\r\n                                task: \"setGraphProp\",\r\n                                params: {\r\n                                    prop: \"candleUpColor\",\r\n                                    subchartIdx: subchartIdx,\r\n                                    yaxisIdx: yaxisIdx,\r\n                                    graphIdx: graphIdx,\r\n                                    newValue: color,\r\n                                },\r\n                            });\r\n                        },\r\n                    },\r\n                    {\r\n                        text: \"candle down color\",\r\n                        icon: mdiBorderColor,\r\n                        color: graph.style.candleDownColor,\r\n                        onColorSelected: function (color) {\r\n                            Dispatch({\r\n                                task: \"setGraphProp\",\r\n                                params: {\r\n                                    prop: \"candleDownColor\",\r\n                                    subchartIdx: subchartIdx,\r\n                                    yaxisIdx: yaxisIdx,\r\n                                    graphIdx: graphIdx,\r\n                                    newValue: color,\r\n                                },\r\n                            });\r\n                        },\r\n                    },\r\n                    {\r\n                        text: \"candle stroke color\",\r\n                        icon: mdiBorderColor,\r\n                        color: graph.style.candleStrokeColor,\r\n                        onColorSelected: function (color) {\r\n                            Dispatch({\r\n                                task: \"setGraphProp\",\r\n                                params: {\r\n                                    prop: \"candleStrokeColor\",\r\n                                    subchartIdx: subchartIdx,\r\n                                    yaxisIdx: yaxisIdx,\r\n                                    graphIdx: graphIdx,\r\n                                    newValue: color,\r\n                                },\r\n                            });\r\n                        },\r\n                    },\r\n                    {\r\n                        text: \"candle wick color\",\r\n                        icon: mdiBorderColor,\r\n                        color: graph.style.candleWickStrokeColor,\r\n                        onColorSelected: function (color) {\r\n                            Dispatch({\r\n                                task: \"setGraphProp\",\r\n                                params: {\r\n                                    prop: \"candleWickStrokeColor\",\r\n                                    subchartIdx: subchartIdx,\r\n                                    yaxisIdx: yaxisIdx,\r\n                                    graphIdx: graphIdx,\r\n                                    newValue: color,\r\n                                },\r\n                            });\r\n                        },\r\n                    },\r\n                ]\r\n                : [\r\n                    {\r\n                        text: \"line stroke color\",\r\n                        icon: mdiBorderColor,\r\n                        color: graph.style.strokeColor,\r\n                        onColorSelected: function (color) {\r\n                            Dispatch({\r\n                                task: \"setGraphProp\",\r\n                                params: {\r\n                                    prop: \"strokeColor\",\r\n                                    subchartIdx: subchartIdx,\r\n                                    yaxisIdx: yaxisIdx,\r\n                                    graphIdx: graphIdx,\r\n                                    newValue: color,\r\n                                },\r\n                            });\r\n                        },\r\n                    },\r\n                ]\r\n            : [];\r\n    };\r\n    return T.isChartGraph(graph) ? (React.createElement(CTreeItem, { onClick: function () {\r\n            var id = \"graph-sub-\".concat(subchartIdx, \"-y-\").concat(yaxisIdx, \"-graph-\").concat(graphIdx);\r\n            onSettingsExpand === null || onSettingsExpand === void 0 ? void 0 : onSettingsExpand(id);\r\n        }, key: \"graph-sub-\".concat(subchartIdx, \"-y-\").concat(yaxisIdx, \"-graph-\").concat(graphIdx), nodeId: \"graph-sub-\".concat(subchartIdx, \"-y-\").concat(yaxisIdx, \"-graph-\").concat(graphIdx), labelText: (_e = dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.name) !== null && _e !== void 0 ? _e : \"Graph No.\" + graphIdx, bgColorSelected: theme.palette.primary.light, labelIcon: React.createElement(CIcon, { path: mdiChartLine, size: \"32px\", color: theme.palette.secondary.contrastText, background: theme.palette.primary.main }), labelInfo: subchartIdx !== 0 || graphIdx !== 0 ? (React.createElement(IconButton, { size: \"small\", onClick: function (e) {\r\n                e.preventDefault();\r\n                var action = {\r\n                    task: \"removeGraph\",\r\n                    params: { subchartIdx: subchartIdx, yaxisIdx: yaxisIdx, graphIdx: graphIdx },\r\n                };\r\n                Dispatch(action);\r\n            } },\r\n            React.createElement(Icon, { path: mdiClose, size: 1, color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\" }))) : undefined },\r\n        graph.type === \"chart\" && (dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.meta.type) === \"candlechart\" ? (React.createElement(CTreeItem, { key: \"chart-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx, \"-chartType\"), nodeId: \"chart-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx, \"-chartType\"), labelText: \"chart type\", typographyVariant: \"body1\", labelIcon: React.createElement(CIcon, { path: mdiSetLeft, size: \"24px\", color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\" }), labelInfo: React.createElement(Select, { size: \"small\", margin: \"none\", SelectDisplayProps: {\r\n                    style: { paddingTop: 2, paddingBottom: 2 },\r\n                }, \r\n                // inputProps={{ style: { padding: 0, minWidth: 50 } }}\r\n                value: graph.chartType, onChange: function (e) {\r\n                    var newValue = e.target.value;\r\n                    Dispatch({\r\n                        task: \"setGraphProp\",\r\n                        params: {\r\n                            prop: \"chartType\",\r\n                            subchartIdx: subchartIdx,\r\n                            yaxisIdx: yaxisIdx,\r\n                            graphIdx: graphIdx,\r\n                            newValue: newValue,\r\n                        },\r\n                    });\r\n                } }, [\"line\", \"candles\"].map(function (optionVal, optValIdx) { return (React.createElement(MenuItem, { key: \"chart-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx, \"-chartType-o-\").concat(optValIdx), value: optionVal }, optionVal)); })) })) : null,\r\n        graphColorProps(graph).map(function (graphColorProp, gcIdx) { return (React.createElement(CMColorPropTreeItem, { key: \"settings-treeitem-chartGraph-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx, \"-p\").concat(gcIdx), nodeId: \"settings-treeitem-chartGraph-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx, \"-p\").concat(gcIdx), text: graphColorProp.text, color: graphColorProp.color, iconPath: graphColorProp.icon, onColorSelected: graphColorProp.onColorSelected })); }))) : null;\r\n};\r\n//# sourceMappingURL=ChartGraphTreeItem.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport React from \"react\";\r\nimport isDeepEqual from \"lodash/isEqual\";\r\nimport { isNullish } from \"./Basics\";\r\nvar modifyStateProp = function (src, path, newValue, mode) {\r\n    if (typeof src !== \"object\")\r\n        return null;\r\n    var target = Array.isArray(src) ? __spreadArray([], src, true) : __assign({}, src); //_.cloneDeep(src);\r\n    var srcPointer = src;\r\n    var targetPointer = target;\r\n    try {\r\n        path.forEach(function (pathStep, pathStepIdx) {\r\n            if (!(pathStep in srcPointer) || (typeof pathStep !== \"number\" && typeof pathStep !== \"string\")) {\r\n                target = null;\r\n                throw new Error(\"path at position \".concat(pathStepIdx, \" '\").concat(pathStep, \"' not found in src object/array -1\"));\r\n            }\r\n            if (pathStepIdx < path.length - 1) {\r\n                if ((typeof pathStep === \"number\" && /*!Array.isArray(targetPointer) ||*/ !Array.isArray(srcPointer)) ||\r\n                    (typeof pathStep === \"string\" && typeof srcPointer !== \"object\") /*|| typeof targetPointer !== \"object\")*/) {\r\n                    target = null;\r\n                    throw new Error(\"path at position \".concat(pathStepIdx, \" '\").concat(pathStep, \"' not found in src object/array -2\"));\r\n                }\r\n                if (Array.isArray(srcPointer) && typeof pathStep === \"number\") {\r\n                    targetPointer[pathStep] = Array.isArray(srcPointer[pathStep])\r\n                        ? __spreadArray([], srcPointer[pathStep], true) : __assign({}, srcPointer[pathStep]);\r\n                }\r\n                else\r\n                    targetPointer[pathStep] = Array.isArray(srcPointer[pathStep])\r\n                        ? __spreadArray([], srcPointer[pathStep], true) : __assign({}, srcPointer[pathStep]);\r\n                if (mode === \"remove\" && pathStepIdx === path.length - 2) {\r\n                    var lastPath = path[path.length - 1];\r\n                    if (typeof lastPath === \"number\" && Array.isArray(srcPointer[pathStep])) {\r\n                        targetPointer[pathStep] = __spreadArray(__spreadArray([], srcPointer[pathStep].slice(0, path[path.length - 1]), true), srcPointer[pathStep].slice(lastPath + 1), true);\r\n                    }\r\n                    else if (typeof lastPath === \"string\" && typeof srcPointer[pathStep]) {\r\n                        var _a = srcPointer[pathStep], _b = lastPath, out = _a[_b], rest = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\r\n                        targetPointer[pathStep] = __assign({}, rest);\r\n                    }\r\n                }\r\n                else\r\n                    targetPointer = targetPointer[pathStep];\r\n                srcPointer = srcPointer[pathStep];\r\n            }\r\n            else {\r\n                if (mode !== \"remove\") {\r\n                    if (!(pathStep in srcPointer) && mode !== \"add\") {\r\n                        target = null;\r\n                        throw new Error(\"path at position \".concat(pathStepIdx, \" '\").concat(pathStep, \"' not found in src object/array -3\"));\r\n                    }\r\n                    if (mode === \"add\" && Array.isArray(srcPointer[pathStep]))\r\n                        targetPointer[pathStep] = __spreadArray(__spreadArray([], srcPointer[pathStep], true), [newValue], false);\r\n                    else\r\n                        targetPointer[pathStep] = newValue;\r\n                    // else delete targetPointer[pathStep];\r\n                }\r\n            }\r\n        });\r\n    }\r\n    catch (err) {\r\n        console.error(\"Error at setStateProp(): \", err);\r\n        return null;\r\n    }\r\n    return target;\r\n};\r\nexport var setStateProp = function (src, path, newValue) {\r\n    return modifyStateProp(src, path, newValue, \"edit\");\r\n};\r\nexport var addStateProp = function (src, path, newValue) {\r\n    return modifyStateProp(src, path, newValue, \"add\");\r\n};\r\nexport var removeStateProp = function (src, path) { return modifyStateProp(src, path, null, \"remove\"); };\r\nexport var getStateProp = function (src, path) {\r\n    if (typeof src !== \"object\")\r\n        return null;\r\n    var pointer = src;\r\n    try {\r\n        path.forEach(function (pathStep, pathStepIdx) {\r\n            if (!(pathStep in pointer) || (typeof pathStep !== \"number\" && typeof pathStep !== \"string\")) {\r\n                throw new Error(\"path at position \".concat(pathStepIdx, \" '\").concat(pathStep, \"' not found in src object/array -1\"));\r\n            }\r\n            pointer = pointer[pathStep];\r\n        });\r\n        return pointer;\r\n    }\r\n    catch (err) {\r\n        console.error(\"Error at getStateProp(): \", err);\r\n    }\r\n};\r\nexport function mergeRefs(refs) {\r\n    return function (value) {\r\n        refs.forEach(function (ref) {\r\n            if (typeof ref === \"function\") {\r\n                ref(value);\r\n            }\r\n            else if (ref != null) {\r\n                ref.current = value;\r\n            }\r\n        });\r\n    };\r\n}\r\nexport var useReactiveInfo2 = function (dependencies) {\r\n    var prevDepsRef = React.useRef(dependencies);\r\n    var prevDeps = prevDepsRef.current;\r\n    // const prevDeps = cloneDeep(prevDepsRef.current);\r\n    var getSubelementsInfo = function (dep, prevDep) {\r\n        var changedSubelements = Array.isArray(dep) && Array.isArray(prevDep) && dep.length > 0 && prevDep.length > 0\r\n            ? dep.map(function (depSub, dsIdx) {\r\n                return {\r\n                    idx: dsIdx,\r\n                    // value: depSub,\r\n                    // prevValue: prevDep[dsIdx],\r\n                    type: Array.isArray(depSub) ? \"array\" : typeof depSub,\r\n                    hasChanged: depSub !== prevDep[dsIdx],\r\n                    hasDeepChanged: !isDeepEqual(depSub, prevDep[dsIdx]),\r\n                    changedSubelements: typeof depSub === \"object\" &&\r\n                        typeof prevDep[dsIdx] === \"object\" &&\r\n                        !isNullish(depSub) &&\r\n                        !isNullish(prevDep[dsIdx])\r\n                        ? getSubelementsInfo(depSub, prevDep[dsIdx])\r\n                        : null,\r\n                };\r\n            })\r\n            : typeof dep === \"object\" && typeof prevDep === \"object\" && !isNullish(dep) && !isNullish(prevDep)\r\n                ? __assign({}, Object.entries(dep).map(function (_a) {\r\n                    var key = _a[0], val = _a[1];\r\n                    return {\r\n                        key: key,\r\n                        value: val,\r\n                        prevValue: prevDep === null || prevDep === void 0 ? void 0 : prevDep[key],\r\n                        type: Array.isArray(val) ? \"array\" : typeof val,\r\n                        hasChanged: val !== prevDep[key],\r\n                        hasDeepChanged: !isDeepEqual(val, prevDep[key]),\r\n                        changedSubelements: typeof dep[key] === \"object\" &&\r\n                            typeof prevDep[key] === \"object\" &&\r\n                            !isNullish(dep[key]) &&\r\n                            !isNullish(prevDep[key])\r\n                            ? getSubelementsInfo(dep[key], prevDep[key])\r\n                            : null,\r\n                    };\r\n                })) : null;\r\n        return changedSubelements;\r\n    };\r\n    var delta = dependencies.map(function (dep, dIdx) {\r\n        var prevDep = prevDeps[dIdx];\r\n        var hasChanged = dep !== prevDep;\r\n        var hasDeepChanged = !isDeepEqual(dep, prevDep);\r\n        var changedSubelements = getSubelementsInfo(dep, prevDep);\r\n        return {\r\n            hasChanged: hasChanged,\r\n            hasDeepChanged: hasDeepChanged,\r\n            changedSubelements: changedSubelements,\r\n            value: dependencies,\r\n            prevValue: prevDeps,\r\n        };\r\n    });\r\n    React.useEffect(function () {\r\n        prevDepsRef.current = dependencies;\r\n    }, [dependencies]);\r\n    return delta;\r\n};\r\n//# sourceMappingURL=React.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport countBy from \"lodash/countBy\";\r\nimport uniqBy from \"lodash/uniqBy\";\r\nimport uniq from \"lodash/uniq\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport uniqid from \"uniqid\";\r\nimport { chartPeriods, getUnitOfDate } from \"../utils/DateTime\";\r\nimport { getMaxDataSeriesDecimals } from \"../utils/Utils\";\r\nimport { isNullish } from \"../../utils/Basics\";\r\nimport * as T from \"../../Types\";\r\nimport { setStateProp } from \"../../utils/React\";\r\nexport var createData = function (chartSeries, chartName, id, indicator, indSrcId, indSrcLineIdx) {\r\n    return !!indicator && !!indSrcId\r\n        ? createIndicatorData(chartSeries, indSrcId, indicator, indSrcLineIdx, id, chartName)\r\n        : T.isChartDataSeries(chartSeries)\r\n            ? createChartData(chartSeries, chartName, id)\r\n            : null;\r\n};\r\nexport var createIndicatorData = function (chartSeries, indSrcId, indicator, indSrcLineIdx, id, name) {\r\n    var _a;\r\n    var indicatorCopy = cloneDeep(indicator);\r\n    var seriesKeyParam = indicatorCopy.params.findIndex(function (param) { return param.name === \"dataSeriesKey\"; });\r\n    if (seriesKeyParam !== -1 && !isNullish(indSrcLineIdx))\r\n        indicatorCopy.params[seriesKeyParam].val = indSrcLineIdx;\r\n    var indicatorData = (_a = indicator.indicatorFn) === null || _a === void 0 ? void 0 : _a(__assign({ chartData: chartSeries, prevData: [] }, indicatorCopy.params.reduce(function (accObj, curParam) {\r\n        var _a;\r\n        return (__assign(__assign({}, accObj), (_a = {}, _a[curParam.name] = curParam.val, _a)));\r\n    }, {})));\r\n    var decimals = indicatorCopy.default.decimals ? indicatorCopy.default.decimals : 2; // 2 decimals if not otherwise provided\r\n    var intId = id ? id : uniqid();\r\n    var nameInt = name !== null && name !== void 0 ? name : indicatorCopy.name;\r\n    return {\r\n        data: indicatorData,\r\n        name: nameInt,\r\n        fullName: nameInt +\r\n            \"(\" +\r\n            indicatorCopy.params\r\n                .map(function (param) { return (param.name !== \"dataSeriesKey\" ? param.val : null); })\r\n                .filter(function (val) { return val !== null; })\r\n                .join(\",\") +\r\n            \")\",\r\n        type: \"indicator\",\r\n        decimals: decimals,\r\n        indicator: indicatorCopy,\r\n        indSrcId: indSrcId,\r\n        id: intId,\r\n    };\r\n};\r\nexport var createChartData = function (chartData, chartName, id) {\r\n    var _a = getGraphMetaData(chartData), decimals = _a.decimals, isDescending = _a.isDescending, meta = __rest(_a, [\"decimals\", \"isDescending\"]);\r\n    if (isDescending)\r\n        chartData.reverse();\r\n    var dateStat = isNullish(meta === null || meta === void 0 ? void 0 : meta.chartPeriod) ? null : getDateStat(chartData, meta === null || meta === void 0 ? void 0 : meta.chartPeriod);\r\n    if (isNullish(dateStat))\r\n        return null;\r\n    // const id = uniqid();\r\n    return {\r\n        id: id,\r\n        data: chartData,\r\n        meta: meta,\r\n        dateStat: dateStat,\r\n        type: \"chart\",\r\n        name: chartName,\r\n        decimals: decimals,\r\n    };\r\n};\r\nexport var updateChartData = function (chartData, newDataSeries) {\r\n    var chartPeriod = chartData.meta.chartPeriod;\r\n    if (!chartPeriod)\r\n        return chartData;\r\n    return __assign(__assign({}, chartData), { data: __spreadArray(__spreadArray([], chartData.data, true), newDataSeries, true), dateStat: getDateStat(newDataSeries, chartPeriod, chartData.dateStat) });\r\n};\r\nexport var updateChartDataAndDeps = function (current, dataId, newDatasets) {\r\n    var data = current.data;\r\n    var datIdx = data.findIndex(function (dat) { return dat.id === dataId; });\r\n    var dataGraph = data === null || data === void 0 ? void 0 : data[datIdx];\r\n    if ((dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.type) !== \"chart\" || !newDatasets || newDatasets.length === 0)\r\n        return current;\r\n    var updatedGraph = updateChartData(dataGraph, newDatasets);\r\n    var depIndicators = getIndicatorsDependantIndicatorDatas(data, dataId);\r\n    // console.log(depIndicators);\r\n    // const updatedIndicators = depIndicators.map((id) => updateIndicatorData(current, id, ))\r\n    var dataCopy = __spreadArray([], setStateProp(current.data, [datIdx], updatedGraph), true);\r\n    depIndicators.forEach(function (id, idx) {\r\n        var dataIdx = dataCopy.findIndex(function (dat) { return dat.id === id; });\r\n        var indicatorData = dataCopy === null || dataCopy === void 0 ? void 0 : dataCopy[dataIdx];\r\n        if ((indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData.type) !== \"indicator\")\r\n            return;\r\n        var updatedIndData = recalcIndicatorData(dataCopy, id, undefined, indicatorData.data);\r\n        if (updatedIndData)\r\n            dataCopy[dataIdx] = updatedIndData;\r\n    });\r\n    return __assign(__assign({}, current), { data: dataCopy });\r\n};\r\nvar getChartPeriod = function (dataPeriod) {\r\n    var matchConstPeriod = chartPeriods.find(function (constPeriod) {\r\n        return dataPeriod === constPeriod.period || (dataPeriod >= constPeriod.range[0] && dataPeriod <= constPeriod.range[1]);\r\n    });\r\n    if (!matchConstPeriod)\r\n        return null;\r\n    var scaleMultiplys = matchConstPeriod.scaleMultiplys, range = matchConstPeriod.range, rawChartPeriod = __rest(matchConstPeriod, [\"scaleMultiplys\", \"range\"]);\r\n    var multiply = Math.round(dataPeriod / matchConstPeriod.period);\r\n    var chartPeriod = __assign(__assign({}, rawChartPeriod), { multiply: multiply });\r\n    return chartPeriod;\r\n};\r\nvar guessChartDataSeriesPeriod = function (dataSeries) {\r\n    var getDeltaT = function (dataPoint1, dataPoint0) {\r\n        return !(dataPoint1 === null || dataPoint1 === void 0 ? void 0 : dataPoint1.date) || !(dataPoint0 === null || dataPoint0 === void 0 ? void 0 : dataPoint0.date) ? 0 : dataPoint1.date.valueOf() - dataPoint0.date.valueOf();\r\n    };\r\n    // get dataperiod, chartperiod\r\n    var deltaPeriods = dataSeries.slice(1).map(function (dataset, dIdx) { return getDeltaT(dataSeries[dIdx + 1], dataSeries[dIdx]); });\r\n    var deltaPeriodOcc = countBy(deltaPeriods);\r\n    var deltaPeriodsStat = Object.entries(deltaPeriodOcc).map(function (_a) {\r\n        var key = _a[0], val = _a[1];\r\n        return ({ dT: parseInt(key, 10), amt: val });\r\n    });\r\n    var deltaPeriodAmts = deltaPeriodsStat.map(function (period) { return period.amt; });\r\n    var periodMaxOccured = deltaPeriodAmts.indexOf(Math.max.apply(Math, deltaPeriodAmts));\r\n    var dataPeriod = Math.abs(deltaPeriodsStat[periodMaxOccured].dT);\r\n    var dataPeriodConfidence = deltaPeriodsStat[periodMaxOccured].amt / dataSeries.length;\r\n    var chartPeriod = getChartPeriod(dataPeriod);\r\n    var isDescending = deltaPeriodsStat[periodMaxOccured].dT < 0;\r\n    return { dataPeriod: dataPeriod, dataPeriodConfidence: dataPeriodConfidence, chartPeriod: chartPeriod, isDescending: isDescending };\r\n};\r\nvar getGraphMetaData = function (dataSeries) {\r\n    var _a = guessChartDataSeriesPeriod(dataSeries), dataPeriod = _a.dataPeriod, dataPeriodConfidence = _a.dataPeriodConfidence, chartPeriod = _a.chartPeriod, isDescending = _a.isDescending;\r\n    var decimals = getMaxDataSeriesDecimals(dataSeries);\r\n    return {\r\n        dataPeriod: dataPeriod,\r\n        chartPeriod: chartPeriod,\r\n        dataPeriodConfidence: dataPeriodConfidence,\r\n        type: \"candlechart\",\r\n        decimals: decimals,\r\n        isDescending: isDescending,\r\n    };\r\n};\r\nexport var getDateStat = function (data, chartPeriod, prevDateStat) {\r\n    var _a;\r\n    var periodNames = chartPeriods.map(function (chartPeriod) { return chartPeriod.name; });\r\n    var periodNamesToCheck = periodNames.slice(periodNames.findIndex(function (period) { return period === chartPeriod.name; }));\r\n    var periodsToCheck = periodNamesToCheck.map(function (period) { return period.slice(0, period.length - 1); });\r\n    // relevant periods resp. date units for each dataset\r\n    var dataPeriods = data.map(function (dataset) {\r\n        var onePeriodStat = {};\r\n        periodsToCheck.forEach(function (period, pIdx) {\r\n            onePeriodStat[period] = getUnitOfDate(dataset.date, periodNamesToCheck[pIdx]);\r\n        });\r\n        return onePeriodStat;\r\n    });\r\n    // filter dataPeriods (see context above) by higher periods (resp. date units) to avoid duplicates (e.g. jan-01 might occure multiple times)\r\n    var filterDataPeriods = function (filterDate, periodName) {\r\n        return isNullish(filterDate) || periodName === \"years\"\r\n            ? dataPeriods\r\n            : dataPeriods.filter(function (datPeriods) {\r\n                return datPeriods.year === (filterDate === null || filterDate === void 0 ? void 0 : filterDate.year) &&\r\n                    (datPeriods.month === (filterDate === null || filterDate === void 0 ? void 0 : filterDate.month) || [\"months\"].includes(periodName)) &&\r\n                    (datPeriods.week === (filterDate === null || filterDate === void 0 ? void 0 : filterDate.week) || [\"months\", \"weeks\"].includes(periodName)) &&\r\n                    (datPeriods.day === (filterDate === null || filterDate === void 0 ? void 0 : filterDate.day) || [\"months\", \"weeks\", \"days\"].includes(periodName)) &&\r\n                    (datPeriods.hour === (filterDate === null || filterDate === void 0 ? void 0 : filterDate.hour) || periodName !== \"minutes\");\r\n            });\r\n    };\r\n    // get tree-structure of ChartDates acc. to DateStat\r\n    var getDateTree = function (periodName, recursionDate) {\r\n        var date = recursionDate ? recursionDate : null;\r\n        var filteredPeriods = filterDataPeriods(date, periodName);\r\n        return periodName === \"minutes\"\r\n            ? {\r\n                minutes: uniqBy(filteredPeriods, function (val) { return \"\".concat(val.minute); }).map(function (periods) { return ({\r\n                    minute: periods.minute,\r\n                }); }),\r\n            }\r\n            : periodName === \"hours\"\r\n                ? {\r\n                    hours: uniqBy(filteredPeriods, function (val) { return \"\".concat(val.hour); }).map(function (periods) { return ({\r\n                        hour: periods.hour,\r\n                        minutes: \"minute\" in periods ? getDateTree(\"minutes\", periods).minutes : [],\r\n                    }); }),\r\n                }\r\n                : periodName === \"days\"\r\n                    ? {\r\n                        days: uniqBy(filteredPeriods, function (val) { return \"\".concat((val.year, val.month, val.week, val.day)); }).map(function (periods) { return ({\r\n                            day: periods.day,\r\n                            hours: \"hour\" in periods ? getDateTree(\"hours\", periods).hours : [],\r\n                        }); }),\r\n                    }\r\n                    : periodName === \"weeks\"\r\n                        ? {\r\n                            weeks: uniqBy(filteredPeriods, function (val) { return \"\".concat((val.year, val.month, val.week)); }).map(function (periods) { return ({\r\n                                week: periods.week,\r\n                                days: \"day\" in periods ? getDateTree(\"days\", periods).days : [],\r\n                            }); }),\r\n                        }\r\n                        : periodName === \"months\"\r\n                            ? {\r\n                                months: uniqBy(filteredPeriods, function (val) { return \"\".concat((val.year, val.month)); }).map(function (periods) { return ({\r\n                                    month: periods.month,\r\n                                    weeks: \"week\" in periods ? getDateTree(\"weeks\", periods).weeks : [],\r\n                                }); }),\r\n                            }\r\n                            : periodName === \"years\"\r\n                                ? {\r\n                                    years: uniqBy(dataPeriods, \"year\").map(function (periods) { return ({\r\n                                        year: periods.year,\r\n                                        months: \"month\" in periods ? getDateTree(\"months\", periods).months : [],\r\n                                    }); }),\r\n                                }\r\n                                : null;\r\n    };\r\n    var dateStat = dataPeriods.reduce(function (acc, cur) { return ({\r\n        years: !acc.lastData ? 1 : acc.lastData.year !== cur.year ? acc.years + 1 : acc.years,\r\n        months: !acc.lastData ? (\"month\" in cur ? 1 : 0) : acc.lastData.month !== cur.month ? acc.months + 1 : acc.months,\r\n        weeks: !acc.lastData ? (\"week\" in cur ? 1 : 0) : acc.lastData.week !== cur.week ? acc.weeks + 1 : acc.weeks,\r\n        days: !acc.lastData ? (\"day\" in cur ? 1 : 0) : acc.lastData.day !== cur.day ? acc.days + 1 : acc.days,\r\n        hours: !acc.lastData ? (\"hour\" in cur ? 1 : 0) : acc.lastData.hour !== cur.hour ? acc.hours + 1 : acc.hours,\r\n        minutes: !acc.lastData\r\n            ? \"minute\" in cur\r\n                ? 1\r\n                : 0\r\n            : acc.lastData.minute !== cur.minute\r\n                ? acc.minutes + 1\r\n                : acc.minutes,\r\n        lastData: cur,\r\n    }); }, prevDateStat\r\n        ? prevDateStat.accAmt\r\n        : {\r\n            years: 0,\r\n            months: 0,\r\n            weeks: 0,\r\n            days: 0,\r\n            hours: 0,\r\n            minutes: 0,\r\n            lastData: null,\r\n        });\r\n    var accAmt = __rest(dateStat, []);\r\n    var dateTree = (_a = getDateTree(\"years\")) === null || _a === void 0 ? void 0 : _a.years;\r\n    function mergeDeep(prev, newStat) {\r\n        var _a, _b;\r\n        var lastPrev = (_a = prev === null || prev === void 0 ? void 0 : prev[prev.length - 1]) !== null && _a !== void 0 ? _a : null;\r\n        var firstNew = (_b = newStat === null || newStat === void 0 ? void 0 : newStat[0]) !== null && _b !== void 0 ? _b : null;\r\n        if (!lastPrev || !firstNew)\r\n            return __spreadArray(__spreadArray([], prev, true), newStat, true);\r\n        var linkProp = \"year\" in lastPrev\r\n            ? \"year\"\r\n            : \"month\" in lastPrev\r\n                ? \"month\"\r\n                : \"week\" in lastPrev\r\n                    ? \"week\"\r\n                    : \"day\" in lastPrev\r\n                        ? \"day\"\r\n                        : \"hour\" in lastPrev\r\n                            ? \"hour\"\r\n                            : \"minute\" in lastPrev\r\n                                ? \"minute\"\r\n                                : null;\r\n        var subProp = \"year\" in lastPrev && \"months\" in lastPrev && \"months\" in firstNew\r\n            ? { year: lastPrev.year, months: mergeDeep(lastPrev.months, firstNew.months) }\r\n            : \"month\" in lastPrev && \"weeks\" in lastPrev && \"weeks\" in firstNew\r\n                ? { month: lastPrev.month, weeks: mergeDeep(lastPrev.weeks, firstNew.weeks) }\r\n                : \"week\" in lastPrev && \"days\" in lastPrev && \"days\" in firstNew\r\n                    ? { week: lastPrev.week, days: mergeDeep(lastPrev.days, firstNew.days) }\r\n                    : \"day\" in lastPrev && \"hours\" in lastPrev && \"hours\" in firstNew\r\n                        ? { day: lastPrev.day, hours: mergeDeep(lastPrev.hours, firstNew.hours) }\r\n                        : \"hour\" in lastPrev && \"minutes\" in lastPrev && \"minutes\" in firstNew\r\n                            ? { hour: lastPrev.hour, minutes: mergeDeep(lastPrev.minutes, firstNew.minutes) }\r\n                            : null;\r\n        var lastPrevVal = linkProp && linkProp in lastPrev ? lastPrev[linkProp] : null;\r\n        var firstNewVal = linkProp && linkProp in firstNew ? firstNew[linkProp] : null;\r\n        return lastPrevVal === firstNewVal && !isNullish(lastPrevVal) && !isNullish(firstNewVal) && linkProp && subProp\r\n            ? __spreadArray(__spreadArray(__spreadArray([], prev.slice(0, prev.length - 1), true), [subProp], false), newStat.slice(1), true) : __spreadArray(__spreadArray([], prev, true), newStat, true);\r\n    }\r\n    return {\r\n        years: prevDateStat ? mergeDeep(prevDateStat.years, dateTree) : dateTree,\r\n        accAmt: accAmt,\r\n    };\r\n};\r\n// recalc single! indicator dataseries and update indSrcId and params if changed\r\nexport var recalcIndicatorData = function (data, dataId, updates, prevData) {\r\n    var _a, _b;\r\n    var _c = updates !== null && updates !== void 0 ? updates : {}, newIndSrcId = _c.newIndSrcId, newParams = _c.newParams;\r\n    var indicatorData = data.find(function (d) { return d.id === dataId && d.type === \"indicator\"; });\r\n    if ((indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData.type) !== \"indicator\")\r\n        return null;\r\n    var iFn = (_a = indicatorData.indicator) === null || _a === void 0 ? void 0 : _a.indicatorFn;\r\n    var indSrcId = newIndSrcId ? newIndSrcId : indicatorData.indSrcId;\r\n    var srcDataseries = (_b = data.find(function (dat) { return dat.id === indSrcId; })) === null || _b === void 0 ? void 0 : _b.data;\r\n    if (!iFn || !srcDataseries)\r\n        return null;\r\n    var params = newParams ? newParams : indicatorData.indicator.params;\r\n    return __assign(__assign({}, indicatorData), { \r\n        // data: iFn(srcDataseries, prevData ?? [], ...paramVals),\r\n        data: iFn(__assign({ chartData: srcDataseries, prevData: prevData !== null && prevData !== void 0 ? prevData : [] }, params.reduce(function (accObj, curParam) {\r\n            var _a;\r\n            return (__assign(__assign({}, accObj), (_a = {}, _a[curParam.name] = curParam.val, _a)));\r\n        }, {}))), fullName: !newParams\r\n            ? indicatorData.fullName\r\n            : indicatorData.name + \"(\" + newParams.map(function (param) { return param.val; }).join(\",\") + \")\", indSrcId: indSrcId, indicator: __assign(__assign({}, indicatorData.indicator), { params: params }) });\r\n};\r\n// indicator data state itself may depend on other indicator data state(s)\r\nexport var getIndicatorsCalcDepIndicatorDatas = function (data, dataId, recursionResult) {\r\n    var recResult = recursionResult !== null && recursionResult !== void 0 ? recursionResult : [];\r\n    if (recResult.includes(dataId))\r\n        return [];\r\n    var indicatorData = data.find(function (d) { return (d === null || d === void 0 ? void 0 : d.id) === dataId && (d === null || d === void 0 ? void 0 : d.type) === \"indicator\"; });\r\n    if ((indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData.type) !== \"indicator\")\r\n        return [];\r\n    var child = data.find(function (d) { return d.id === indicatorData.indSrcId; });\r\n    return (child === null || child === void 0 ? void 0 : child.type) === \"chart\"\r\n        ? [indicatorData.id]\r\n        : (child === null || child === void 0 ? void 0 : child.type) === \"indicator\"\r\n            ? __spreadArray(__spreadArray([], getIndicatorsCalcDepIndicatorDatas(data, child.id, __spreadArray(__spreadArray([], recResult, true), [indicatorData.id], false)), true), [indicatorData.id], false) : [];\r\n};\r\n// when changing indicator data other indicator data(s) may be affected and to be updated, too\r\nexport var getIndicatorsDependantIndicatorDatas = function (data, dataId) {\r\n    return data.filter(function (dat) { return dat.type === \"indicator\" && dat.indSrcId === dataId; })\r\n        .map(function (dat) {\r\n        // dat.indicator.indicatorFnType === \"chartSeries\"\r\n        //   ? [dat.id]\r\n        //   :\r\n        return __spreadArray([dat.id], getIndicatorsDependantIndicatorDatas(data, dat.id), true);\r\n    })\r\n        .flat();\r\n};\r\nexport var isCircularIndicatorDependency = function (data, dataId, newIndSrcId) {\r\n    return getIndicatorsCalcDepIndicatorDatas(data, newIndSrcId).includes(dataId);\r\n};\r\nexport var updateIndicatorData = function (current, dataId, updates, prevData) {\r\n    var data = current.data;\r\n    var _a = updates !== null && updates !== void 0 ? updates : {}, newIndSrcId = _a.newIndSrcId, newParams = _a.newParams;\r\n    // dismiss circular dependencies\r\n    if (!!newIndSrcId && isCircularIndicatorDependency(data, dataId, newIndSrcId))\r\n        return data;\r\n    var dependingDataIndicatorsIds = uniq(__spreadArray([dataId], getIndicatorsDependantIndicatorDatas(data, dataId), true));\r\n    var dataCopy = __spreadArray([], data, true);\r\n    dependingDataIndicatorsIds.forEach(function (id, idx) {\r\n        var dataIdx = dataCopy.findIndex(function (dat) { return dat.id === id; });\r\n        var updatedIndData = recalcIndicatorData(dataCopy, id, id === dataId ? { newIndSrcId: newIndSrcId, newParams: newParams } : undefined, prevData !== null && prevData !== void 0 ? prevData : []);\r\n        if (updatedIndData)\r\n            dataCopy[dataIdx] = updatedIndData;\r\n    });\r\n    return dataCopy;\r\n};\r\n//# sourceMappingURL=DataFactory.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport React from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Select from \"@mui/material/Select\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { mdiChartBellCurve, mdiClose, mdiBorderColor, mdiIframeVariableOutline, mdiDatabaseExportOutline, } from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport { CIcon } from \"../../Components/CIcon\";\r\nimport { CTreeItem } from \"../../Components/CTreeItem\";\r\nimport * as T from \"../../Types\";\r\nimport { isCircularIndicatorDependency } from \"../../ChartState/Reducer/DataFactory\";\r\nimport { CMColorPropTreeItem } from \"./CMColorPropTreeItem\";\r\nexport var ChartMenuIndiGraphTreeItem = function (props) {\r\n    var subchartIdx = props.subchartIdx, yaxisIdx = props.yaxisIdx, graphIdx = props.graphIdx, subCharts = props.subCharts, Dispatch = props.Dispatch, handleToggleExpanded = props.handleToggleExpanded, data = props.data;\r\n    var graphGeneric = subCharts[subchartIdx].yaxis[yaxisIdx].graphs[graphIdx];\r\n    var graph = T.isIndicatorGraph(graphGeneric) ? graphGeneric : null;\r\n    var theme = useTheme();\r\n    var dataGraph = data.find(function (val) { return val.id === (graph === null || graph === void 0 ? void 0 : graph.dataId); });\r\n    if (!graph || (dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.type) !== \"indicator\")\r\n        return null;\r\n    return (React.createElement(CTreeItem, { key: \"settings-treeitem-indiGraph-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx), nodeId: \"settings-treeitem-indiGraph-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx), bgColorSelected: theme.palette.primary.light, onClick: function () {\r\n            var id = \"settings-treeitem-indiGraph-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx);\r\n            handleToggleExpanded === null || handleToggleExpanded === void 0 ? void 0 : handleToggleExpanded(id);\r\n        }, labelIcon: React.createElement(CIcon, { path: mdiChartBellCurve, size: \"32px\", color: theme.palette.secondary.contrastText, background: theme.palette.primary.main }), labelText: dataGraph.fullName, labelInfo: subchartIdx !== 0 || graphIdx !== 0 ? (React.createElement(IconButton, { size: \"small\", onClick: function (e) {\r\n                e.preventDefault();\r\n                var action = {\r\n                    task: \"removeGraph\",\r\n                    params: { subchartIdx: subchartIdx, yaxisIdx: 0, graphIdx: graphIdx },\r\n                };\r\n                Dispatch(action);\r\n            } },\r\n            React.createElement(Icon, { path: mdiClose, size: 1, color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\" }))) : undefined },\r\n        React.createElement(CTreeItem, { key: \"settings-treeitem-indiGraph-src-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx), nodeId: \"settings-treeitem-indiGraph-src-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx), labelIcon: React.createElement(CIcon, { path: mdiDatabaseExportOutline, size: \"24px\", color: theme.palette.text.primary }), labelText: \"Source\", typographyVariant: \"body1\", labelInfo: React.createElement(Select, { size: \"small\", margin: \"none\", SelectDisplayProps: { style: { paddingTop: 2, paddingBottom: 2 } }, value: dataGraph.indSrcId, onChange: function (e) {\r\n                    var newValue = e.target.value;\r\n                    Dispatch({\r\n                        task: \"modifyIndicatorData\",\r\n                        params: {\r\n                            dataId: dataGraph.id,\r\n                            newIndSrcId: newValue,\r\n                        },\r\n                    });\r\n                } }, [\"dataSeries\", \"chartSeries\"].includes(dataGraph.indicator.indicatorFnType)\r\n                ? (function () {\r\n                    var subchartDataIds = subCharts[subchartIdx].yaxis[yaxisIdx].graphs.map(function (graph) { return graph.dataId; });\r\n                    var filteredIndDatas = !dataGraph.indicator.default\r\n                        .newSubchart\r\n                        ? data.filter(function (dat) { return subchartDataIds.includes(dat.id); })\r\n                        : dataGraph.indicator.indicatorFnType === \"dataSeries\"\r\n                            ? data\r\n                            : dataGraph.indicator.indicatorFnType === \"chartSeries\"\r\n                                ? data.filter(function (dat) { return dat.type === \"chart\"; })\r\n                                : [];\r\n                    return filteredIndDatas.map(function (dat) {\r\n                        return dat.id !== dataGraph.id &&\r\n                            !isCircularIndicatorDependency(data, dataGraph.id, dat.id) ? (React.createElement(MenuItem, { key: \"settings-treeitem-indiGraph-src-menuitem-s\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx, \"-\").concat(dat.id), value: dat.id }, dat.name)) : null;\r\n                    });\r\n                })()\r\n                : null) }),\r\n        dataGraph.indicator.graphTypes.map(function (gType, gtIdx) {\r\n            var _a, _b;\r\n            var colors = graph.style.strokeColor;\r\n            return (React.createElement(CMColorPropTreeItem, { nodeId: \"settings-treeitem-indiGraph-clrProps-\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx, \"-gt\").concat(gtIdx), key: \"settings-treeitem-indiGraph-clrProps-\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-g\").concat(graphIdx, \"-gt\").concat(gtIdx), color: (_b = (_a = subCharts[subchartIdx].yaxis[0].graphs[graphIdx].style) === null || _a === void 0 ? void 0 : _a.strokeColor) === null || _b === void 0 ? void 0 : _b[gtIdx], iconPath: mdiBorderColor, text: \"line stroke color\", onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGraphProp\",\r\n                        params: {\r\n                            subchartIdx: subchartIdx,\r\n                            yaxisIdx: 0,\r\n                            graphIdx: graphIdx,\r\n                            newValue: __spreadArray(__spreadArray(__spreadArray([], colors.slice(0, gtIdx), true), [\r\n                                color\r\n                            ], false), colors.slice(gtIdx + 1), true),\r\n                            prop: \"strokeColor\",\r\n                        },\r\n                    });\r\n                } }));\r\n        }),\r\n        dataGraph.indicator.params.map(function (param, paramIdx) { return (React.createElement(CTreeItem, { key: \"sub-\".concat(subchartIdx, \"-yaxis-\").concat(yaxisIdx, \"-graph-\").concat(graphIdx, \"-\").concat(paramIdx), nodeId: \"\".concat(2 + subchartIdx, \"00-\").concat(graphIdx, \"-\").concat(paramIdx), labelIcon: React.createElement(CIcon, { path: mdiIframeVariableOutline, size: \"24px\", color: theme.palette.text.primary }), labelText: param.name, typographyVariant: \"body1\", labelInfo: React.createElement(TextField, { variant: \"outlined\", margin: \"none\", size: \"small\", inputProps: { style: { padding: 5, width: 50 } }, value: param.val, onChange: function (e) {\r\n                    var val = parseFloat(e.target.value);\r\n                    if (isNaN(val))\r\n                        return;\r\n                    Dispatch({\r\n                        task: \"modifyIndicatorData\",\r\n                        params: {\r\n                            dataId: dataGraph.id,\r\n                            newParam: { paramIdx: paramIdx, newValue: val },\r\n                        },\r\n                    });\r\n                } }) })); })));\r\n};\r\n//# sourceMappingURL=IndiGraphTreeItem.js.map","import React from \"react\";\r\nimport { Circle, Line } from \"react-konva\";\r\nimport { mdiSetLeft } from \"@mdi/js\";\r\nexport var CVLineComponent = function (props) {\r\n    var _a;\r\n    var style = props.style, subcharts = props.subcharts, subchartIdx = props.subchartIdx, mode = props.mode, calcXaxis = props.calcXaxis, toolXy = props.xy, drawPixXy = props.drawPixXy, yToPix = props.yToPix;\r\n    var subchartTop = subcharts[subchartIdx].top;\r\n    var isDrawing = !!(drawPixXy === null || drawPixXy === void 0 ? void 0 : drawPixXy[0]);\r\n    if ((toolXy.length !== 1 && !isDrawing) || !yToPix || !calcXaxis.xToPix)\r\n        return null;\r\n    var PixXy = toolXy.length === 1\r\n        ? [calcXaxis.xToPix(toolXy[0][0]), yToPix(toolXy[0][1], subchartIdx, 0)]\r\n        : (drawPixXy === null || drawPixXy === void 0 ? void 0 : drawPixXy[0])\r\n            ? drawPixXy[0]\r\n            : null;\r\n    if (!PixXy)\r\n        return null;\r\n    var strokeColor = (style === null || style === void 0 ? void 0 : style.strokeColor) ? style.strokeColor : \"red\";\r\n    var anchorColor = (style === null || style === void 0 ? void 0 : style.anchorColor) ? style.anchorColor : \"#333\";\r\n    var modeInt = [\"extendUp\", \"extendDown\", \"extendUpDown\", \"*extendToSecondPoint\"].includes(mode !== null && mode !== void 0 ? mode : \"\")\r\n        ? mode\r\n        : \"extendUpDown\";\r\n    var lowestBottom = (_a = subcharts === null || subcharts === void 0 ? void 0 : subcharts[Math.max(subcharts.length - 1, 0)]) === null || _a === void 0 ? void 0 : _a.bottom;\r\n    // if vline should end at current subchart -> use subchartBottom instead of lowestBottom -> maybe mode?\r\n    var pixXyAdjusted = [\r\n        [PixXy[0], modeInt === \"extendDown\" ? PixXy[1] : subchartTop],\r\n        [PixXy[0], modeInt === \"extendUp\" ? PixXy[1] : lowestBottom],\r\n    ];\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Line, { listening: false, x: 0, y: 0, points: pixXyAdjusted.flat(), stroke: strokeColor, strokeWidth: 1 }),\r\n        React.createElement(Circle, { x: PixXy[0], y: PixXy[1], radius: 5, fill: anchorColor })));\r\n};\r\nexport var CVLine = React.memo(CVLineComponent);\r\nexport var VLine = {\r\n    name: \"Vertical Line\",\r\n    type: \"vline\",\r\n    nPoints: 1,\r\n    category: \"lines\",\r\n    params: [\r\n        {\r\n            name: \"mode\",\r\n            val: \"extendUpDown\",\r\n            vals: [\"extendUp\", \"extendDown\", \"extendUpDown\"],\r\n            type: \"select\",\r\n        },\r\n    ],\r\n    default: { params: [{ icon: mdiSetLeft }] },\r\n    component: CVLine,\r\n};\r\n//# sourceMappingURL=VLine.js.map","import React from \"react\";\r\nimport { Line, Circle } from \"react-konva\";\r\nimport { mdiSetLeft } from \"@mdi/js\";\r\nvar CHLineComponent = function (props) {\r\n    var style = props.style, subcharts = props.subcharts, subchartIdx = props.subchartIdx, containerSize = props.containerSize, calcXaxis = props.calcXaxis, mode = props.mode, toolXy = props.xy, drawPixXy = props.drawPixXy, yToPix = props.yToPix;\r\n    var startPixX = containerSize.left, width = containerSize.width;\r\n    var endPixX = startPixX + width;\r\n    var _a = subcharts[subchartIdx], bottom = _a.bottom, top = _a.top;\r\n    var isDrawing = !!(drawPixXy === null || drawPixXy === void 0 ? void 0 : drawPixXy[0]);\r\n    if ((toolXy.length !== 1 && !isDrawing) || !yToPix || !calcXaxis.xToPix)\r\n        return null;\r\n    var PixXy = toolXy.length === 1\r\n        ? [calcXaxis.xToPix(toolXy[0][0]), yToPix(toolXy[0][1], subchartIdx, 0)] // multiple yaxis\r\n        : (drawPixXy === null || drawPixXy === void 0 ? void 0 : drawPixXy[0])\r\n            ? drawPixXy[0]\r\n            : null;\r\n    if (!PixXy)\r\n        return null;\r\n    if ((PixXy === null || PixXy === void 0 ? void 0 : PixXy[1]) < top || (PixXy === null || PixXy === void 0 ? void 0 : PixXy[1]) > bottom)\r\n        return null;\r\n    var strokeColor = (style === null || style === void 0 ? void 0 : style.strokeColor) ? style.strokeColor : \"red\";\r\n    var anchorColor = (style === null || style === void 0 ? void 0 : style.anchorColor) ? style.anchorColor : \"#333\";\r\n    var modeInt = [\"extendRight\", \"extendLeft\", \"extendLeftRight\", \"*extendToSecondPoint\"].includes(mode !== null && mode !== void 0 ? mode : \"\")\r\n        ? mode\r\n        : \"extendLeftRight\";\r\n    var pixXyAdjusted = [\r\n        [modeInt === \"extendRight\" ? PixXy[0] : startPixX, PixXy[1]],\r\n        [modeInt === \"extendLeft\" ? PixXy[0] : endPixX, PixXy[1]],\r\n    ];\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Line, { listening: false, x: 0, y: 0, points: [pixXyAdjusted[0][0], pixXyAdjusted[0][1], pixXyAdjusted[1][0], pixXyAdjusted[1][1]], stroke: strokeColor, strokeWidth: 1 }),\r\n        React.createElement(Circle, { x: PixXy[0], y: pixXyAdjusted[0][1], radius: 5, fill: anchorColor })));\r\n};\r\nexport var CHLine = React.memo(CHLineComponent);\r\nexport var HLine = {\r\n    name: \"Horizontal Line\",\r\n    type: \"hline\",\r\n    nPoints: 1,\r\n    category: \"lines\",\r\n    params: [\r\n        {\r\n            name: \"mode\",\r\n            val: \"extendLeftRight\",\r\n            vals: [\"extendRight\", \"extendLeft\", \"extendLeftRight\"],\r\n            type: \"select\",\r\n        },\r\n    ],\r\n    default: { params: [{ icon: mdiSetLeft }] },\r\n    component: CHLine,\r\n};\r\nexport default HLine;\r\n//# sourceMappingURL=HLine.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport React from \"react\";\r\nimport { Circle, Line } from \"react-konva\";\r\nimport { mdiSetLeft } from \"@mdi/js\";\r\nexport var CTrendlineComponent = function (props) {\r\n    var style = props.style, mode = props.mode, subcharts = props.subcharts, subchartIdx = props.subchartIdx, calcXaxis = props.calcXaxis, toolXy = props.xy, drawPixXy = props.drawPixXy, yToPixGen = props.yToPix;\r\n    // const { xaxis } = calc;\r\n    var _a = subcharts[subchartIdx], subchartBottom = _a.bottom, subchartTop = _a.top;\r\n    if ((toolXy.length !== 2 && (drawPixXy === null || drawPixXy === void 0 ? void 0 : drawPixXy.length) !== 2) || !yToPixGen || !calcXaxis.xToPix)\r\n        return null;\r\n    var xToPix = calcXaxis.xToPix;\r\n    var yToPix = function (y) { return yToPixGen(y, subchartIdx, 0); };\r\n    var PixXy = toolXy.length === 2\r\n        ? toolXy.map(function (xy) { return [xToPix(xy[0]), yToPix(xy[1])]; })\r\n        : (drawPixXy === null || drawPixXy === void 0 ? void 0 : drawPixXy.length) === 2\r\n            ? drawPixXy\r\n            : null;\r\n    if (!PixXy || PixXy.length !== 2)\r\n        return null;\r\n    var strokeColor = (style === null || style === void 0 ? void 0 : style.strokeColor) ? style.strokeColor : \"red\";\r\n    var anchorColor = (style === null || style === void 0 ? void 0 : style.anchorColor) ? style.anchorColor : \"#333\";\r\n    var modeInt = [\"line\", \"trendline\", \"infiniteLine\"].includes(mode !== null && mode !== void 0 ? mode : \"\") ? mode : \"trendline\";\r\n    var sortedPixXy = PixXy[0][0] > PixXy[1][0] ? [PixXy[1], PixXy[0]] : PixXy;\r\n    var adjustedPixXy = [__spreadArray([], sortedPixXy[0], true), __spreadArray([], sortedPixXy[1], true)];\r\n    if (modeInt === \"trendline\" || mode === \"infiniteLine\") {\r\n        var dx = adjustedPixXy[1][0] - adjustedPixXy[0][0];\r\n        var dy = adjustedPixXy[1][1] - adjustedPixXy[0][1];\r\n        var slope = dy / dx;\r\n        var pixYTarget = dy < 0 ? subchartTop : subchartBottom;\r\n        var b = adjustedPixXy[0][1] - slope * adjustedPixXy[0][0];\r\n        var pixXTarget = (pixYTarget - b) / slope;\r\n        adjustedPixXy[1][0] = pixXTarget;\r\n        adjustedPixXy[1][1] = pixYTarget;\r\n        if (mode === \"infiniteLine\") {\r\n            var pixYSrc = dy < 0 ? subchartBottom : subchartTop;\r\n            var pixXSrc = (pixYSrc - b) / slope;\r\n            adjustedPixXy[0][0] = pixXSrc;\r\n            adjustedPixXy[0][1] = pixYSrc;\r\n        }\r\n    }\r\n    // console.log(\"TLINE renders\");\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Line, { listening: false, draggable: false, x: 0, y: 0, points: adjustedPixXy.flat(), stroke: strokeColor, strokeWidth: 1 }),\r\n        React.createElement(Circle, { x: sortedPixXy[0][0], y: sortedPixXy[0][1], radius: 5, fill: anchorColor }),\r\n        React.createElement(Circle, { x: sortedPixXy[1][0], y: sortedPixXy[1][1], radius: 5, fill: anchorColor })));\r\n};\r\nexport var CTrendline = React.memo(CTrendlineComponent);\r\nexport var TrendLine = {\r\n    name: \"Trendline\",\r\n    type: \"trendline\",\r\n    nPoints: 2,\r\n    category: \"lines\",\r\n    params: [{ name: \"mode\", val: \"trendline\", vals: [\"line\", \"trendline\", \"infiniteLine\"], type: \"select\" }],\r\n    default: { params: [{ icon: mdiSetLeft }] },\r\n    component: CTrendline,\r\n};\r\nexport default TrendLine;\r\n//# sourceMappingURL=Trendline.js.map","import { VLine } from \"./VLine\";\r\nimport { HLine } from \"./HLine\";\r\nimport { TrendLine } from \"./Trendline\";\r\nexport { VLine, HLine, TrendLine };\r\nexport var defaultTools = [HLine, VLine, TrendLine];\r\n//# sourceMappingURL=DefaultTools.js.map","import React from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Select from \"@mui/material/Select\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { mdiBorderColor, mdiBullseye, mdiHelp, mdiMinus, mdiClose, mdiArrowSplitHorizontal, mdiIframeVariableOutline, } from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport { CIcon } from \"../../Components/CIcon\";\r\nimport { CMColorPropTreeItem } from \"./CMColorPropTreeItem\";\r\nimport { CTreeItem } from \"../../Components/CTreeItem\";\r\nimport { defaultTools } from \"../../Tools/DefaultTools\";\r\nexport var ChartMenuToolTreeItem = function (props) {\r\n    var _a, _b, _c, _d;\r\n    var subchartIdx = props.subchartIdx, yaxisIdx = props.yaxisIdx, toolIdx = props.toolIdx, subCharts = props.subCharts, Dispatch = props.Dispatch, handleToggleExpanded = props.handleToggleExpanded;\r\n    var toolIn = (_d = (_c = (_b = (_a = subCharts === null || subCharts === void 0 ? void 0 : subCharts[subchartIdx]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[yaxisIdx]) === null || _c === void 0 ? void 0 : _c.tools) === null || _d === void 0 ? void 0 : _d[toolIdx];\r\n    var tool = toolIn ? toolIn : null;\r\n    var theme = useTheme();\r\n    if (!tool)\r\n        return null;\r\n    var toolColorProps = function (tool) { return [\r\n        {\r\n            text: \"stroke color\",\r\n            icon: mdiBorderColor,\r\n            color: tool.style.strokeColor,\r\n            onColorSelected: function (color) {\r\n                Dispatch({\r\n                    task: \"setToolProp\",\r\n                    params: {\r\n                        prop: \"strokeColor\",\r\n                        subchartIdx: subchartIdx,\r\n                        yaxisIdx: 0,\r\n                        toolIdx: toolIdx,\r\n                        newValue: color,\r\n                    },\r\n                });\r\n            },\r\n        },\r\n        {\r\n            text: \"anchor color\",\r\n            icon: mdiBullseye,\r\n            color: tool.style.anchorColor,\r\n            onColorSelected: function (color) {\r\n                Dispatch({\r\n                    task: \"setToolProp\",\r\n                    params: {\r\n                        prop: \"anchorColor\",\r\n                        subchartIdx: subchartIdx,\r\n                        yaxisIdx: 0,\r\n                        toolIdx: toolIdx,\r\n                        newValue: color,\r\n                    },\r\n                });\r\n            },\r\n        },\r\n    ]; };\r\n    return (React.createElement(CTreeItem, { key: \"tool-\".concat(toolIdx), nodeId: \"tool-\".concat(subchartIdx, \"-\").concat(toolIdx), labelText: tool.type === \"hline\"\r\n            ? \"horizontal line\"\r\n            : tool.type === \"vline\"\r\n                ? \"vertical line\"\r\n                : tool.type === \"trendline\"\r\n                    ? \"Trendline\"\r\n                    : \"Tool\", typographyVariant: \"body1\", labelIcon: React.createElement(\"div\", { style: {\r\n                border: \"1px solid \".concat(theme.palette.mode === \"light\" ? \"#333\" : \"#fff\"),\r\n                borderRadius: 5,\r\n            } },\r\n            React.createElement(Icon, { path: tool.type === \"hline\" ||\r\n                    tool.type === \"vline\" ||\r\n                    tool.type === \"trendline\"\r\n                    ? mdiMinus\r\n                    : mdiHelp, size: \"24px\", color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\", rotate: tool.type === \"trendline\" ? -45 : tool.type === \"vline\" ? 90 : 0 })), onClick: function () {\r\n            var id = \"tool-\".concat(subchartIdx, \"-\").concat(toolIdx);\r\n            handleToggleExpanded === null || handleToggleExpanded === void 0 ? void 0 : handleToggleExpanded(id);\r\n        }, bgColorSelected: theme.palette.primary.light, labelInfo: React.createElement(IconButton, { size: \"small\", onClick: function (e) {\r\n                e.preventDefault();\r\n                var action = {\r\n                    task: \"removeTool\",\r\n                    params: { subchartIdx: subchartIdx, yaxisIdx: 0, toolIdx: toolIdx },\r\n                };\r\n                Dispatch(action);\r\n            } },\r\n            React.createElement(Icon, { path: mdiClose, size: 1, color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\" })) },\r\n        tool.type === \"hline\" ? (React.createElement(CTreeItem, { key: \"tool-\".concat(subchartIdx, \"-y0-\").concat(toolIdx, \"-hlinelevel\"), nodeId: \"tool-\".concat(subchartIdx, \"-y0-\").concat(toolIdx, \"-hlinelevel\"), labelText: \"Y-Level\", typographyVariant: \"body1\", labelIcon: React.createElement(CIcon, { path: mdiArrowSplitHorizontal, size: \"24px\", color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\" }), labelInfo: React.createElement(TextField, { variant: \"outlined\", margin: \"none\", size: \"small\", inputProps: { style: { padding: 5, width: 50 } }, defaultValue: tool.xy[0][1], onChange: function (e) {\r\n                    var val = parseFloat(e.target.value);\r\n                    if (isNaN(val))\r\n                        return;\r\n                    Dispatch({\r\n                        task: \"setToolProp\",\r\n                        params: {\r\n                            prop: \"hLineYlevel\",\r\n                            subchartIdx: subchartIdx,\r\n                            yaxisIdx: 0,\r\n                            toolIdx: toolIdx,\r\n                            newValue: val,\r\n                        },\r\n                    });\r\n                } }) })) : null,\r\n        tool.params\r\n            ? tool.params.map(function (param, paramIdx) {\r\n                var _a, _b;\r\n                var toolParamDefaults = (_b = (_a = defaultTools.find(function (defTool) { return defTool.type === tool.type; })) === null || _a === void 0 ? void 0 : _a.default) === null || _b === void 0 ? void 0 : _b.params;\r\n                var icon = toolParamDefaults\r\n                    ? toolParamDefaults[paramIdx].icon\r\n                    : mdiIframeVariableOutline;\r\n                return (React.createElement(CTreeItem, { key: \"tool-s\".concat(subchartIdx, \"-y0-t\").concat(toolIdx, \"-p\").concat(paramIdx), nodeId: \"tool-s\".concat(subchartIdx, \"-y0-t\").concat(toolIdx, \"-p\").concat(paramIdx), labelText: param.name, typographyVariant: \"body1\", labelIcon: React.createElement(CIcon, { path: icon, size: \"24px\", color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\" }), labelInfo: param.type === \"select\" ? (React.createElement(Select, { size: \"small\", margin: \"none\", SelectDisplayProps: {\r\n                            style: { paddingTop: 2, paddingBottom: 2 },\r\n                        }, \r\n                        // inputProps={{ style: { padding: 0, minWidth: 50 } }}\r\n                        value: param.val, onChange: function (e) {\r\n                            var newValue = e.target.value;\r\n                            Dispatch({\r\n                                task: \"setToolProp\",\r\n                                params: {\r\n                                    prop: \"toolParam\",\r\n                                    subchartIdx: subchartIdx,\r\n                                    yaxisIdx: yaxisIdx,\r\n                                    toolIdx: toolIdx,\r\n                                    toolParamIdx: paramIdx,\r\n                                    newValue: newValue,\r\n                                },\r\n                            });\r\n                        } }, param.vals.map(function (optionVal, optValIdx) { return (React.createElement(MenuItem, { key: \"tool-s\".concat(subchartIdx, \"-y0-t\").concat(toolIdx, \"-p\").concat(paramIdx, \"-o\").concat(optValIdx), value: optionVal }, optionVal)); }))) : param.type === \"number\" ? (React.createElement(TextField, { variant: \"outlined\", margin: \"none\", size: \"small\", inputProps: { style: { padding: 5, maxWidth: 80 } }, value: param.val, onChange: function (e) {\r\n                            var newValue = parseFloat(e.target.value);\r\n                            if (isNaN(newValue))\r\n                                return;\r\n                            Dispatch({\r\n                                task: \"setToolProp\",\r\n                                params: {\r\n                                    prop: \"toolParam\",\r\n                                    subchartIdx: subchartIdx,\r\n                                    yaxisIdx: yaxisIdx,\r\n                                    toolIdx: toolIdx,\r\n                                    toolParamIdx: paramIdx,\r\n                                    newValue: newValue,\r\n                                },\r\n                            });\r\n                        } })) : undefined }));\r\n            })\r\n            : null,\r\n        toolColorProps(tool).map(function (toolColorProps, tcIdx) { return (React.createElement(CMColorPropTreeItem, { nodeId: \"settings-treeitem-tool-clrProp-\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-t\").concat(toolIdx, \"-p\").concat(tcIdx), key: \"settings-treeitem-tool-clrProp-\".concat(subchartIdx, \"-y\").concat(yaxisIdx, \"-t\").concat(toolIdx, \"-p\").concat(tcIdx), color: toolColorProps.color, iconPath: toolColorProps.icon, text: toolColorProps.text, onColorSelected: toolColorProps.onColorSelected })); })));\r\n};\r\n//# sourceMappingURL=ToolTreeItem.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { Icon } from \"@mdi/react\";\r\nimport { mdiChartAreaspline, mdiClose, mdiPencilRuler } from \"@mdi/js\";\r\nimport React from \"react\";\r\nimport { CIcon } from \"../../Components/CIcon\";\r\nimport { CTreeItem } from \"../../Components/CTreeItem\";\r\nimport { ChartMenuChartGraphTreeItem } from \"./ChartGraphTreeItem\";\r\nimport { ChartMenuIndiGraphTreeItem } from \"./IndiGraphTreeItem\";\r\nimport { ChartMenuToolTreeItem } from \"./ToolTreeItem\";\r\nimport * as T from \"../../Types\";\r\nexport var SubchartTreeItem = React.forwardRef(function (props, ref) {\r\n    var subchartIdx = props.subchartIdx, subcharts = props.subcharts, data = props.data, Dispatch = props.Dispatch, onSettingsExpand = props.onSettingsExpand, additionalLabelInfo = props.additionalLabelInfo, other = __rest(props, [\"subchartIdx\", \"subcharts\", \"data\", \"Dispatch\", \"onSettingsExpand\", \"additionalLabelInfo\"]);\r\n    var theme = useTheme();\r\n    var subchart = subcharts[subchartIdx];\r\n    return (React.createElement(CTreeItem, __assign({ ref: ref }, other, { key: \"sub-\".concat(subchartIdx), nodeId: \"sub-\".concat(subchartIdx), labelText: subchartIdx === 0 ? \"Mainchart\" : \"Subchart \".concat(subchartIdx), bgColorSelected: theme.palette.primary.light, onClick: function () {\r\n            var id = \"sub-\".concat(subchartIdx);\r\n            onSettingsExpand === null || onSettingsExpand === void 0 ? void 0 : onSettingsExpand(id);\r\n        }, labelIcon: React.createElement(CIcon, { path: mdiChartAreaspline, size: \"32px\", color: theme.palette.secondary.contrastText, background: theme.palette.secondary.main }), labelInfo: subchartIdx !== 0 ? (React.createElement(React.Fragment, null,\r\n            additionalLabelInfo,\r\n            React.createElement(IconButton, { size: \"small\", onClick: function (e) {\r\n                    e.preventDefault();\r\n                    var action = {\r\n                        task: \"removeSubchart\",\r\n                        params: { subchartIdx: subchartIdx },\r\n                    };\r\n                    Dispatch(action);\r\n                } },\r\n                React.createElement(Icon, { path: mdiClose, size: 1, color: theme.palette.mode === \"light\" ? \"#333\" : \"#fff\" })))) : undefined }),\r\n        subchart.yaxis[0].graphs.map(function (graph, graphIdx) {\r\n            return T.isIndicatorGraph(graph) ? (React.createElement(ChartMenuIndiGraphTreeItem, { key: \"editIndicator-sub-\".concat(subchartIdx, \"-yaxis-\").concat(0, \"-graph-\").concat(graphIdx), subCharts: subcharts, Dispatch: Dispatch, subchartIdx: subchartIdx, yaxisIdx: 0, graphIdx: graphIdx, handleToggleExpanded: onSettingsExpand, data: data })) : T.isChartGraph(graph) ? (React.createElement(ChartMenuChartGraphTreeItem, { key: \"graph-sub-\".concat(subchartIdx, \"-y-\").concat(0, \"-graph-\").concat(graphIdx, \"-frag\"), subCharts: subcharts, Dispatch: Dispatch, subchartIdx: subchartIdx, yaxisIdx: 0, graphIdx: graphIdx, onSettingsExpand: onSettingsExpand, data: data })) : null;\r\n        }),\r\n        subchart.yaxis[0].tools.length > 0 ? (React.createElement(CTreeItem, { key: \"tools-\".concat(subchartIdx, \"-y0\"), nodeId: \"tools-\".concat(subchartIdx, \"-y0\"), labelIcon: React.createElement(\"div\", { style: {\r\n                    background: theme.palette.primary.main,\r\n                    width: 32,\r\n                    height: 32,\r\n                    border: \"1px solid #666\",\r\n                    borderRadius: 5,\r\n                    marginRight: 10,\r\n                } },\r\n                React.createElement(Icon, { path: mdiPencilRuler, size: \"32px\", color: theme.palette.secondary.contrastText })), labelText: \"Tools\", onClick: function () {\r\n                var id = \"tools-\".concat(subchartIdx, \"-y0\");\r\n                onSettingsExpand === null || onSettingsExpand === void 0 ? void 0 : onSettingsExpand(id);\r\n            } }, subchart.yaxis[0].tools.map(function (tool, toolIdx) { return (React.createElement(ChartMenuToolTreeItem, { key: \"editTool-sub-\".concat(subchartIdx, \"-yaxis-\").concat(0, \"-tool-\").concat(toolIdx), subCharts: subcharts, Dispatch: Dispatch, subchartIdx: subchartIdx, yaxisIdx: 0, toolIdx: toolIdx, handleToggleExpanded: onSettingsExpand })); }))) : null));\r\n});\r\nSubchartTreeItem.displayName = \"SubchartTreeItem\";\r\n//# sourceMappingURL=SubchartTreeItem.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { Icon } from \"@mdi/react\";\r\nimport { mdiFileChartOutline, mdiWater, mdiBorderColor, mdiFormatText, mdiGrid, mdiArrowUpDownBold, mdiCrosshairs, mdiArrowExpandRight, mdiArrowExpandUp, } from \"@mdi/js\";\r\nimport React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { CTreeItem } from \"../../Components/CTreeItem\";\r\nimport { Colorpicker } from \"../../Components/Colorpicker\";\r\nimport { CTreeView } from \"../../Components/CTreeView\";\r\nimport { CIcon } from \"../../Components/CIcon\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { SubchartTreeItem } from \"../Subelements/SubchartTreeItem\";\r\nexport var SettingsIcon = function (props) { return (React.createElement(CIcon, { path: props.iconPath, size: \"24px\", color: props.theme.palette.text.primary, style: { marginLeft: props.theme.spacing(1) }, border: props.theme.palette.mode === \"light\" ? \"1px solid #bbb\" : undefined })); };\r\nexport var CMSettings = function (props) {\r\n    var subCharts = props.subCharts, onNavigate = props.onNavigate, Dispatch = props.Dispatch, onSettingsExpand = props.onSettingsExpand, ChartMenuState = props.ChartMenuState, style = props.style, data = props.data;\r\n    var theme = useTheme();\r\n    var _a = React.useState(null), anchorEl = _a[0], setAnchorEl = _a[1];\r\n    var handleClick = function (event) {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    var handleClose = function (target) {\r\n        setAnchorEl(null);\r\n        if (target)\r\n            onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(target);\r\n    };\r\n    var generalSettingsCategorys = [\r\n        { category: undefined },\r\n        { category: \"xaxis\", icon: mdiArrowExpandRight },\r\n        { category: \"yaxis\", icon: mdiArrowExpandUp },\r\n        { category: \"grid\", icon: mdiGrid },\r\n        { category: \"crosshair\", icon: mdiCrosshairs },\r\n    ];\r\n    var generalSettings = [\r\n        {\r\n            nodeId: \"bgcolor\",\r\n            labelText: \"background color\",\r\n            iconPath: mdiWater,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.backgroundColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"backgroundColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"xaxis\",\r\n            nodeId: \"xaxisFillColor\",\r\n            labelText: \"fill color\",\r\n            iconPath: mdiWater,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.xaxis.fillColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"xAxisFillColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"xaxis\",\r\n            nodeId: \"xaxisStrokeColor\",\r\n            labelText: \"stroke color\",\r\n            iconPath: mdiBorderColor,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.xaxis.strokeColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"xAxisStrokeColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"xaxis\",\r\n            nodeId: \"xaxisTextColor\",\r\n            labelText: \"text color\",\r\n            iconPath: mdiFormatText,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.xaxis.fontColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"xAxisTextColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"yaxis\",\r\n            nodeId: \"yaxisStrokeColor\",\r\n            labelText: \"stroke color\",\r\n            iconPath: mdiBorderColor,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.yaxis.strokeColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"yAxisStrokeColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"yaxis\",\r\n            nodeId: \"yaxisTextColor\",\r\n            labelText: \"text color\",\r\n            iconPath: mdiFormatText,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.yaxis.fontColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"yAxisTextColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"grid\",\r\n            nodeId: \"useXGrid\",\r\n            labelText: \"use x-axis grid\",\r\n            iconPath: mdiGrid,\r\n            labelInfo: (React.createElement(Checkbox, { checked: style.grid.useGridX, size: \"small\", style: { padding: 0, width: 24, height: 24 }, onChange: function () {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"toggleGridX\" },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"grid\",\r\n            nodeId: \"useYGrid\",\r\n            labelText: \"use y-axis grid\",\r\n            iconPath: mdiGrid,\r\n            labelInfo: (React.createElement(Checkbox, { checked: style.grid.useGridY, size: \"small\", style: { padding: 0, width: 24, height: 24 }, onChange: function () {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"toggleGridY\" },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"grid\",\r\n            nodeId: \"gridStrokeColor\",\r\n            labelText: \"stroke color\",\r\n            iconPath: mdiBorderColor,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.grid.strokeColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"gridStrokeColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"crosshair\",\r\n            nodeId: \"useCrosshair\",\r\n            labelText: \"use crosshair\",\r\n            iconPath: mdiCrosshairs,\r\n            labelInfo: (React.createElement(Checkbox, { checked: style.crosshair.useCrosshair, size: \"small\", style: { padding: 0, width: 24, height: 24 }, onChange: function () {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"toggleCrosshair\" },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"crosshair\",\r\n            nodeId: \"crosshairStrokeColor\",\r\n            labelText: \"stroke color\",\r\n            iconPath: mdiBorderColor,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.crosshair.strokeColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"crosshairStrokeColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"crosshair\",\r\n            nodeId: \"crosshairXMarkerBackground\",\r\n            labelText: \"x-marker background\",\r\n            iconPath: mdiWater,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.crosshair.xMarkerBackgroundColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: {\r\n                            prop: \"crosshairXmarkerBackgroundColor\",\r\n                            newValue: color,\r\n                        },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"crosshair\",\r\n            nodeId: \"crosshairXMarkerStrokeColor\",\r\n            labelText: \"x-marker stroke color\",\r\n            iconPath: mdiBorderColor,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.crosshair.xMarkerStrokeColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"crosshairXmarkerStrokeColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"crosshair\",\r\n            nodeId: \"crosshairXMarkerTextColor\",\r\n            labelText: \"x-marker text color\",\r\n            iconPath: mdiFormatText,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.crosshair.xMarkerTextColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"crosshairXmarkerTextColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"crosshair\",\r\n            nodeId: \"crosshairYMarkerBackground\",\r\n            labelText: \"y-marker background\",\r\n            iconPath: mdiWater,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.crosshair.yMarkerBackgroundColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: {\r\n                            prop: \"crosshairYmarkerBackgroundColor\",\r\n                            newValue: color,\r\n                        },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"crosshair\",\r\n            nodeId: \"crosshairYMarkerStrokeColor\",\r\n            labelText: \"y-marker stroke color\",\r\n            iconPath: mdiBorderColor,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.crosshair.yMarkerStrokeColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"crosshairYmarkerStrokeColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n        {\r\n            category: \"crosshair\",\r\n            nodeId: \"crosshairYMarkerTextColor\",\r\n            labelText: \"y-marker text color\",\r\n            iconPath: mdiFormatText,\r\n            labelInfo: (React.createElement(Colorpicker, { color: style.crosshair.yMarkerTextColor, onColorSelected: function (color) {\r\n                    Dispatch({\r\n                        task: \"setGeneralProp\",\r\n                        params: { prop: \"crosshairYmarkerTextColor\", newValue: color },\r\n                    });\r\n                } })),\r\n        },\r\n    ];\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Stack // menu\r\n        , { direction: \"row\", alignItems: \"center\", justifyContent: \"flex-end\", sx: { pt: 0.5 } },\r\n            React.createElement(Button, { style: {\r\n                    border: \"1px solid #666\",\r\n                    borderRadius: 50,\r\n                    padding: 5,\r\n                    textTransform: \"none\",\r\n                    background: theme.palette.secondary.light,\r\n                    color: theme.palette.secondary.contrastText,\r\n                }, onClick: handleClick },\r\n                React.createElement(Typography, null, \" Add...\")),\r\n            React.createElement(Menu, { id: \"quick-add\", anchorEl: anchorEl, keepMounted: true, open: Boolean(anchorEl), onClose: function () { return handleClose(undefined); }, anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"right\",\r\n                }, transformOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"right\",\r\n                } },\r\n                React.createElement(MenuItem, { onClick: function () { return handleClose(\"indicators\"); } }, \"Indicator\"),\r\n                React.createElement(MenuItem, { onClick: function () { return handleClose(\"tools\"); } }, \"Tool\"))),\r\n        React.createElement(CTreeView, { expanded: ChartMenuState.expandedSetting },\r\n            React.createElement(CTreeItem, { nodeId: \"1\", labelText: \"General\", labelIcon: React.createElement(CIcon, { path: mdiFileChartOutline, size: \"32px\", color: theme.palette.secondary.contrastText, background: theme.palette.secondary.main }), bgColorSelected: theme.palette.primary.light, typographyVariant: \"h6\", onClick: function () {\r\n                    var id = \"1\";\r\n                    onSettingsExpand === null || onSettingsExpand === void 0 ? void 0 : onSettingsExpand(id);\r\n                } }, generalSettingsCategorys.map(function (cat, cIdx) {\r\n                var _a;\r\n                return !cat.category ? (generalSettings\r\n                    .filter(function (setting) { return setting.category === cat.category; })\r\n                    .map(function (setting) { return (React.createElement(CTreeItem, { key: \"settings-treeitem-general-cat-\".concat(cIdx, \"-\").concat(setting.nodeId), nodeId: \"settings-treeitem-general-cat-\".concat(cIdx, \"-\").concat(setting.nodeId), labelText: setting.labelText, typographyVariant: \"body1\", labelInfo: setting.labelInfo, labelIcon: React.createElement(SettingsIcon, { iconPath: setting.iconPath, theme: theme }) })); })) : (React.createElement(CTreeItem, { nodeId: \"settings-treeitem-general-cat-\".concat(cIdx), key: \"settings-treeitem-general-cat-\".concat(cIdx), labelText: (_a = cat.category) !== null && _a !== void 0 ? _a : \"\", labelIcon: React.createElement(CIcon, { path: cat.icon, size: \"32px\", color: theme.palette.secondary.contrastText, background: theme.palette.primary.main }), onClick: function () {\r\n                        onSettingsExpand === null || onSettingsExpand === void 0 ? void 0 : onSettingsExpand(\"settings-treeitem-general-cat-\".concat(cIdx));\r\n                    } }, generalSettings\r\n                    .filter(function (setting) { return setting.category === cat.category; })\r\n                    .map(function (setting) { return (React.createElement(CTreeItem, { key: \"settings-treeitem-general-cat-\".concat(cIdx, \"-\").concat(setting.nodeId), nodeId: \"settings-treeitem-general-cat-\".concat(cIdx, \"-\").concat(setting.nodeId), labelText: setting.labelText, typographyVariant: \"body1\", labelInfo: setting.labelInfo, labelIcon: React.createElement(SettingsIcon, { iconPath: setting.iconPath, theme: theme }) })); })));\r\n            })),\r\n            React.createElement(SubchartTreeItem, { subcharts: subCharts, data: data, subchartIdx: 0, Dispatch: Dispatch, onSettingsExpand: onSettingsExpand }),\r\n            React.createElement(DragDropContext\r\n            // onDragStart={}\r\n            , { \r\n                // onDragStart={}\r\n                onDragEnd: function (res) {\r\n                    var _a;\r\n                    if (!((_a = res.destination) === null || _a === void 0 ? void 0 : _a.index))\r\n                        return;\r\n                    Dispatch({\r\n                        task: \"swapSubcharts\",\r\n                        params: {\r\n                            subchartIdx1: res.source.index,\r\n                            subchartIdx2: res.destination.index,\r\n                        },\r\n                    });\r\n                } },\r\n                React.createElement(Droppable, { droppableId: \"droppable\" }, function (provided, snapshot) { return (React.createElement(Box, __assign({}, provided.droppableProps, { ref: provided.innerRef, sx: {\r\n                        background: snapshot.isDraggingOver\r\n                            ? theme.palette.primary.light\r\n                            : \"transparent\",\r\n                        borderTopRightRadius: theme.spacing(2),\r\n                        borderBottomRightRadius: theme.spacing(2),\r\n                    } }),\r\n                    subCharts.slice(1).map(function (subchart, subchartIdxShifted) {\r\n                        var subchartIdx = subchartIdxShifted + 1;\r\n                        return (React.createElement(Draggable, { key: \"sub-\".concat(subchartIdx), draggableId: \"sub-\".concat(subchartIdx), index: subchartIdx }, function (provided, snapshot) {\r\n                            return (React.createElement(SubchartTreeItem, __assign({ subcharts: subCharts, data: data, subchartIdx: subchartIdx, Dispatch: Dispatch, onSettingsExpand: onSettingsExpand, ref: provided.innerRef }, provided.draggableProps, { additionalLabelInfo: React.createElement(IconButton, __assign({ size: \"small\" }, provided.dragHandleProps),\r\n                                    React.createElement(Icon, { path: mdiArrowUpDownBold, size: 1, color: theme.palette.mode === \"light\"\r\n                                            ? \"#333\"\r\n                                            : \"#fff\" })) })));\r\n                        }));\r\n                    }),\r\n                    provided.placeholder)); })))));\r\n};\r\n//# sourceMappingURL=CMSettings.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport React from \"react\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nvar Alert = React.forwardRef(function Alert(props, ref) {\r\n    return React.createElement(MuiAlert, __assign({ elevation: 6, ref: ref, variant: \"filled\" }, props));\r\n});\r\nexport var CSnackBar = function (props) {\r\n    var open = props.open, onClose = props.onClose, content = props.content, type = props.type, _a = props.autoHideDuration, autoHideDuration = _a === void 0 ? 5000 : _a, msgIdx = props.msgIdx;\r\n    var handleClose = function (event, reason) {\r\n        if (reason === \"clickaway\")\r\n            return;\r\n        onClose === null || onClose === void 0 ? void 0 : onClose();\r\n    };\r\n    return (React.createElement(Snackbar, { anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" }, open: open, autoHideDuration: autoHideDuration, onClose: handleClose, sx: { bottom: \"\".concat(24 * (msgIdx + 1) + 48 * msgIdx, \"px !important\"), color: \"red\" } },\r\n        React.createElement(Alert, { severity: type, onClose: handleClose }, content)));\r\n};\r\n//# sourceMappingURL=CSnackbar.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport List from \"@mui/material/List\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport InputAdornment from \"@mui/material/InputAdornment\";\r\nimport { mdiWeb, mdiFileDelimitedOutline, mdiArrowRightThick, mdiClose, } from \"@mdi/js\";\r\nimport { Icon } from \"@mdi/react\";\r\nimport React from \"react\";\r\nimport { CSnackBar } from \"../../Components/CSnackbar\";\r\nimport { ChartMenuListItem } from \"../Subelements/ChartMenuListItem\";\r\nimport uniqid from \"uniqid\";\r\nimport parse from \"csv-parse/lib/sync\";\r\n// const parse = require(\"csv-parse/lib/sync\");\r\nexport function parseCsvFileObj(data) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var res;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, data.text().then(function (dataString) {\r\n                        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n                        var rowDelimiter = [\r\n                            { chars: \"\\n\", amt: (_b = (_a = dataString.match(/\\n/gm)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0 },\r\n                            { chars: \"\\r\", amt: (_d = (_c = dataString.match(/\\r/gm)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0 },\r\n                            { chars: \"\\r\\n\", amt: (_f = (_e = dataString.match(/\\r\\n/gm)) === null || _e === void 0 ? void 0 : _e.length) !== null && _f !== void 0 ? _f : 0 },\r\n                        ];\r\n                        var rowDelimiterAmts = rowDelimiter.map(function (val) { return val.amt; });\r\n                        var maxAmtRowDelimiterIdx = rowDelimiterAmts.indexOf(Math.max.apply(Math, rowDelimiterAmts));\r\n                        var guessedRowDelimiter = rowDelimiter[maxAmtRowDelimiterIdx].chars;\r\n                        var rows = dataString.split(guessedRowDelimiter);\r\n                        // only first line is checked for delimiter\r\n                        var delimiter = [\r\n                            { chars: \",\", amt: (_h = (_g = rows[0].match(/,/gm)) === null || _g === void 0 ? void 0 : _g.length) !== null && _h !== void 0 ? _h : 0 },\r\n                            { chars: \";\", amt: (_k = (_j = rows[0].match(/;/gm)) === null || _j === void 0 ? void 0 : _j.length) !== null && _k !== void 0 ? _k : 0 },\r\n                        ];\r\n                        var delimiterAmts = delimiter.map(function (del) { return del.amt; });\r\n                        var maxAmtDelimiterIdx = delimiterAmts.indexOf(Math.max.apply(Math, delimiterAmts));\r\n                        var guessedDelimiter = delimiter[maxAmtDelimiterIdx].chars;\r\n                        // last delimiter is likely decimal delimiter\r\n                        var amtDecDel = { dots: 0, commas: 0 };\r\n                        rows.forEach(function (row) {\r\n                            row.split(guessedDelimiter).forEach(function (val) {\r\n                                var lastDot = val.lastIndexOf(\".\");\r\n                                var lastComma = val.lastIndexOf(\",\");\r\n                                if (lastDot !== -1 && lastComma !== -1) {\r\n                                    if (lastDot > lastComma)\r\n                                        amtDecDel.dots++;\r\n                                    else\r\n                                        amtDecDel.commas++;\r\n                                }\r\n                                else if (lastDot !== -1 && lastComma === -1)\r\n                                    amtDecDel.dots++;\r\n                                else if (lastDot === -1 && lastComma !== -1)\r\n                                    amtDecDel.commas++;\r\n                            });\r\n                        });\r\n                        var isCommaDecDel = amtDecDel.dots < amtDecDel.commas;\r\n                        var isCommaDigitSeparator = amtDecDel.dots > amtDecDel.commas && amtDecDel.commas > 0;\r\n                        var newDataString = isCommaDecDel\r\n                            ? dataString.replaceAll(\".\", \"\").replaceAll(\",\", \".\")\r\n                            : isCommaDigitSeparator\r\n                                ? dataString.replaceAll(\",\", \"\")\r\n                                : dataString;\r\n                        var parseRes = parse(newDataString.trim(), {\r\n                            delimiter: guessedDelimiter,\r\n                            record_delimiter: guessedRowDelimiter,\r\n                            cast: true,\r\n                            trim: true,\r\n                            cast_date: true,\r\n                        }).map(function (dataset) { return ({\r\n                            date: dataset[0],\r\n                            open: dataset[1],\r\n                            high: dataset[2],\r\n                            low: dataset[3],\r\n                            close: dataset[4],\r\n                            volume: dataset[5],\r\n                        }); });\r\n                        parseRes.shift();\r\n                        return parseRes;\r\n                    })];\r\n                case 1:\r\n                    res = _a.sent();\r\n                    return [2 /*return*/, res];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport var CMChart = function (props) {\r\n    var Dispatch = props.Dispatch;\r\n    var _a = React.useState([]), IsError = _a[0], setIsError = _a[1];\r\n    var theme = useTheme();\r\n    var HiddenInputRef = React.useRef(null);\r\n    var _b = React.useState(false), ShowUrlTextfield = _b[0], setShowUrlTextfield = _b[1];\r\n    var _c = React.useState(\"\"), CsvUrl = _c[0], setCsvUrl = _c[1];\r\n    function handleInputFileChange(evt) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var files, chartSeries, chartName, err_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        files = evt.target.files;\r\n                        if (!files)\r\n                            return [2 /*return*/];\r\n                        if (!(files.length > 0)) return [3 /*break*/, 4];\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, parseCsvFileObj(files[0])];\r\n                    case 2:\r\n                        chartSeries = _a.sent();\r\n                        chartName = files[0].name.substr(0, files[0].name.lastIndexOf(\".\"));\r\n                        Dispatch({\r\n                            task: \"addSubchart\",\r\n                            params: { chartSeries: chartSeries, chartName: chartName, reset: true, id: uniqid() },\r\n                        });\r\n                        setIsError(function (current) { return __spreadArray(__spreadArray([], current, true), [\r\n                            { type: \"success\", text: \"Graph successfully loaded\" },\r\n                        ], false); });\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        err_1 = _a.sent();\r\n                        console.error(\"Error - could not parse provided local file\", err_1);\r\n                        setIsError(function (current) { return __spreadArray(__spreadArray([], current, true), [\r\n                            {\r\n                                type: \"error\",\r\n                                text: \"Error - could not parse provided local file\",\r\n                            },\r\n                        ], false); });\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    // evt handler for KeyUp evt of Input/Textfield -> Callback onEnter\r\n    var HandleOnKeyUp = function (e) {\r\n        if (e.key === \"Enter\" && e.type === \"keyup\") {\r\n            fetchCsvFromURL();\r\n        }\r\n    };\r\n    function fetchCsvFromURL() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resp, file, chartSeries, chartName, err_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, , 4]);\r\n                        // if (!methods) throw new Error(\"chart not initialized yet\");\r\n                        if (!CsvUrl)\r\n                            throw new Error(\"url not provided\");\r\n                        return [4 /*yield*/, fetch(CsvUrl)];\r\n                    case 1:\r\n                        resp = _a.sent();\r\n                        if (!resp)\r\n                            throw new Error(\"cant download file from url\");\r\n                        file = resp;\r\n                        return [4 /*yield*/, parseCsvFileObj(file)];\r\n                    case 2:\r\n                        chartSeries = _a.sent();\r\n                        chartName = CsvUrl.substring(CsvUrl.lastIndexOf(\"/\") + 1, CsvUrl.lastIndexOf(\".\"));\r\n                        // methods.addSubchart(res, fileName, undefined, true);\r\n                        Dispatch({\r\n                            task: \"addSubchart\",\r\n                            params: { chartSeries: chartSeries, chartName: chartName, reset: true, id: uniqid() },\r\n                        });\r\n                        setIsError(function (current) { return __spreadArray(__spreadArray([], current, true), [\r\n                            { type: \"success\", text: \"Graph successfully loaded\" },\r\n                        ], false); });\r\n                        setShowUrlTextfield(false);\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        err_2 = _a.sent();\r\n                        console.error(\"Error - could not download file from URL or File could not be parsed\", err_2);\r\n                        setIsError(function (current) { return __spreadArray(__spreadArray([], current, true), [\r\n                            { type: \"error\", text: \"Error - \" + err_2 },\r\n                        ], false); });\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    var handleShowUrlTooltip = React.useCallback(function () {\r\n        setShowUrlTextfield(true);\r\n    }, [setShowUrlTextfield]);\r\n    var handleHideUrlTooltip = React.useCallback(function () {\r\n        setShowUrlTextfield(false);\r\n    }, [setShowUrlTextfield]);\r\n    var handleOpenFile = React.useCallback(function () {\r\n        var _a, _b;\r\n        (_b = (_a = HiddenInputRef === null || HiddenInputRef === void 0 ? void 0 : HiddenInputRef.current) === null || _a === void 0 ? void 0 : _a.click) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n    }, [HiddenInputRef]);\r\n    return (React.createElement(React.Fragment, null,\r\n        IsError.length > 0\r\n            ? IsError.map(function (msg, msgIdx) {\r\n                var _a;\r\n                return (React.createElement(CSnackBar, { key: \"msg-\".concat(msgIdx), autoHideDuration: 5000, type: (_a = msg.type) !== null && _a !== void 0 ? _a : \"error\", open: IsError.length > 0, onClose: function () {\r\n                        return setIsError(function (current) {\r\n                            return current.length === 1 ? [] : current.splice(1);\r\n                        });\r\n                    }, content: msg.text, msgIdx: msgIdx }));\r\n            })\r\n            : null,\r\n        React.createElement(\"input\", { type: \"file\", style: {\r\n                visibility: \"hidden\",\r\n                position: \"absolute\",\r\n                top: 0,\r\n                height: 0,\r\n                width: 0,\r\n            }, ref: HiddenInputRef, onChange: handleInputFileChange }),\r\n        React.createElement(List, { sx: { pt: 4 } },\r\n            React.createElement(ChartMenuListItem, { text: \"CSV from device\", id: \"1\", iconPath: mdiFileDelimitedOutline, iconColor: theme.palette.secondary.contrastText, onClick: handleOpenFile }),\r\n            React.createElement(ChartMenuListItem, { text: \"CSV from URL\", id: \"2\", iconPath: mdiWeb, iconColor: theme.palette.secondary.contrastText, onClick: handleShowUrlTooltip }),\r\n            ShowUrlTextfield ? (React.createElement(\"div\", null,\r\n                React.createElement(TextField, { helperText: \"Enter/Paste URL\", fullWidth: true, onKeyUp: HandleOnKeyUp, value: CsvUrl, onChange: function (e) { return setCsvUrl(e.target.value); }, sx: { p: 1, pt: 2, boxSizing: \"border-box\" }, InputProps: {\r\n                        sx: { boxSizing: \"border-box\", pr: 0 },\r\n                        endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\r\n                            React.createElement(Stack, { direction: \"row\" },\r\n                                React.createElement(IconButton, { onClick: fetchCsvFromURL, size: \"small\" },\r\n                                    React.createElement(Icon, { path: mdiArrowRightThick, size: 1 })),\r\n                                React.createElement(IconButton, { onClick: handleHideUrlTooltip },\r\n                                    React.createElement(Icon, { path: mdiClose, size: 1 }))))),\r\n                    } }))) : null)));\r\n};\r\n//# sourceMappingURL=CMChart.js.map","import React from \"react\";\r\nimport ToggleButtonGroup from \"@mui/material/ToggleButtonGroup\";\r\nimport ToggleButton from \"@mui/material/ToggleButton\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Stack from \"@mui/material/Stack\";\r\nexport var IndicatorsSubMenu = function (props) {\r\n    var location = props.location, submenuContent = props.submenuContent, theme = props.theme, onNavigate = props.onNavigate, amtIndicators = props.amtIndicators;\r\n    return (React.createElement(Stack // menu\r\n    , { direction: \"row\", alignItems: \"center\", justifyContent: \"flex-end\", sx: { pt: 0.5 } },\r\n        submenuContent,\r\n        amtIndicators > 0 ? (React.createElement(ToggleButtonGroup, { value: \"indicatorModifyMode\", exclusive: true, size: \"small\" },\r\n            React.createElement(ToggleButton, { value: \"addIndicator\", sx: {\r\n                    \"&:hover\": {\r\n                        background: location === \"indicators\"\r\n                            ? theme.palette.secondary.light\r\n                            : theme.palette.background.paper,\r\n                        boxShadow: 3,\r\n                        backgroundImage: \"linear-gradient(rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15))\",\r\n                    },\r\n                    borderBottomLeftRadius: 50,\r\n                    textTransform: \"none\",\r\n                    borderTopLeftRadius: 50,\r\n                    background: location === \"indicators\"\r\n                        ? theme.palette.secondary.light\r\n                        : theme.palette.background.paper,\r\n                    backgroundImage: \"linear-gradient(rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15))\",\r\n                }, onClick: function () {\r\n                    onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(\"indicators\");\r\n                } },\r\n                React.createElement(Typography, null, \" Add\")),\r\n            React.createElement(ToggleButton, { value: \"editIndicator\", sx: {\r\n                    \"&:hover\": {\r\n                        background: location === \"editIndicator\"\r\n                            ? theme.palette.secondary.light\r\n                            : theme.palette.background.paper,\r\n                        boxShadow: 3,\r\n                        backgroundImage: \"linear-gradient(rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15))\",\r\n                    },\r\n                    borderBottomRightRadius: 50,\r\n                    borderTopRightRadius: 50,\r\n                    background: location === \"editIndicator\"\r\n                        ? theme.palette.secondary.light\r\n                        : theme.palette.background.paper,\r\n                    backgroundImage: \"linear-gradient(rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15))\",\r\n                }, onClick: function () {\r\n                    onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(\"editIndicator\");\r\n                } }, \"Edit\"))) : null));\r\n};\r\n//# sourceMappingURL=IndicatorsSubMenu.js.map","import * as T from \"../Types\";\r\nexport var iEMA = {\r\n    name: \"EMA\",\r\n    category: \"Average\",\r\n    params: [\r\n        { name: \"period\", val: 10 },\r\n        { name: \"dataSeriesKey\", val: undefined },\r\n    ],\r\n    default: {\r\n        params: [\r\n            { name: \"period\", val: 10 },\r\n            { name: \"dataSeriesKey\", val: undefined },\r\n        ],\r\n        newSubchart: false,\r\n    },\r\n    // type: \"line\",\r\n    graphTypes: [{ type: \"line\" }],\r\n    indicatorFnType: \"dataSeries\",\r\n    indicatorFn: function (params) {\r\n        var _a;\r\n        var srcChartData = params.chartData, prevData = params.prevData, _b = params.period, period = _b === void 0 ? 20 : _b, dataSeriesKey = params.dataSeriesKey;\r\n        var chartPriceKey = typeof dataSeriesKey === \"string\" ? dataSeriesKey : \"close\";\r\n        var indPriceIdx = typeof dataSeriesKey === \"number\" ? dataSeriesKey : 0;\r\n        var getPrice = function (dataset) {\r\n            var _a;\r\n            return T.isLineChartDataset(dataset)\r\n                ? chartPriceKey in dataset\r\n                    ? dataset[chartPriceKey]\r\n                    : dataset[\"close\"]\r\n                : T.isIndicatorDataset(dataset)\r\n                    ? ((_a = dataset.prices) === null || _a === void 0 ? void 0 : _a[indPriceIdx]) || 0\r\n                    : 0;\r\n        };\r\n        var indicatorData = prevData ? prevData : [];\r\n        for (var i = (_a = indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData.length) !== null && _a !== void 0 ? _a : 0; i < srcChartData.length; i++) {\r\n            if (i < period - 1) {\r\n                indicatorData.push({ prices: [null], date: srcChartData[i].date });\r\n                continue;\r\n            }\r\n            else if (i === period - 1) {\r\n                var initSMA = 0;\r\n                for (var j = 0; j < period; j++) {\r\n                    var dataset = srcChartData[j];\r\n                    var price = getPrice(dataset);\r\n                    initSMA += price;\r\n                }\r\n                initSMA /= period;\r\n                indicatorData.push({ prices: [initSMA], date: srcChartData[i].date });\r\n            }\r\n            else {\r\n                var multiplier = 2 / (period + 1);\r\n                var dataset = srcChartData[i];\r\n                var price = getPrice(dataset);\r\n                var ema = (price - indicatorData[i - 1].prices[0]) * multiplier +\r\n                    indicatorData[i - 1].prices[0];\r\n                indicatorData.push({ prices: [ema], date: srcChartData[i].date });\r\n            }\r\n        }\r\n        return indicatorData;\r\n    },\r\n};\r\n//# sourceMappingURL=EMA.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { isNullish } from \"../utils/Basics\";\r\nexport var createIRSI = function (params) { return (__assign(__assign({}, iRSI), { params: iRSI.params.map(function (param) {\r\n        return param.name === \"period\" && !isNullish(params === null || params === void 0 ? void 0 : params.period) ? __assign(__assign({}, param), { val: params.period }) : param;\r\n    }) })); };\r\nexport var iRSI = {\r\n    name: \"RSI\",\r\n    category: \"Oszillator\",\r\n    params: [{ name: \"period\", val: 14 }],\r\n    default: {\r\n        params: [{ name: \"period\", val: 14 }],\r\n        newSubchart: true,\r\n        decimals: 2,\r\n        fixedYScale: [0, 100],\r\n        graphProps: [{ name: \"areaTresholds\", val: { lower: 25, upper: 75 } }],\r\n    },\r\n    graphTypes: [{ type: \"line\" }],\r\n    indicatorFnType: \"chartSeries\",\r\n    indicatorFn: function (params) {\r\n        var _a, _b, _c, _d;\r\n        var srcChartData = params.chartData, prevData = params.prevData, _e = params.period, period = _e === void 0 ? 14 : _e;\r\n        var indicatorData = prevData ? prevData : [];\r\n        for (var i = prevData.length; i < srcChartData.length; i++) {\r\n            if (i === 0) {\r\n                indicatorData.push({ prices: [null, null, null], date: srcChartData[i].date });\r\n                continue;\r\n            }\r\n            var dataset = srcChartData[i];\r\n            var dataset1 = srcChartData[i - 1];\r\n            var dClose = dataset.close - dataset1.close;\r\n            var up = dClose > 0 ? dClose : 0;\r\n            var dwn = dClose < 0 ? -dClose : 0;\r\n            var w = 1 / period;\r\n            var lastUpSmoothed = (_b = (_a = indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData[(indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData.length) - 1]) === null || _a === void 0 ? void 0 : _a.prices) === null || _b === void 0 ? void 0 : _b[1];\r\n            var lastDwnSmoothed = (_d = (_c = indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData[(indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData.length) - 1]) === null || _c === void 0 ? void 0 : _c.prices) === null || _d === void 0 ? void 0 : _d[2];\r\n            if (i < period || isNullish(lastUpSmoothed) || isNullish(lastDwnSmoothed)) {\r\n                indicatorData.push({ prices: [null, up, dwn], date: srcChartData[i].date });\r\n                continue;\r\n            }\r\n            var upSmoothed = up * w + (1 - w) * lastUpSmoothed;\r\n            var dwnSmoothed = dwn * w + (1 - w) * lastDwnSmoothed;\r\n            var rsi = dwnSmoothed === 0 ? 100 : 100 - 100 / (1 + upSmoothed / dwnSmoothed);\r\n            indicatorData.push({ prices: [rsi, upSmoothed, dwnSmoothed], date: srcChartData[i].date });\r\n        }\r\n        return indicatorData;\r\n    },\r\n};\r\n//# sourceMappingURL=RSI.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport * as T from \"../Types\";\r\nimport { isNullish } from \"../utils/Basics\";\r\nexport var iKAMA = {\r\n    name: \"KAMA\",\r\n    category: \"Average\",\r\n    params: [\r\n        { name: \"erPeriod\", val: 21 },\r\n        { name: \"fastEmaPeriod\", val: 2 },\r\n        { name: \"slowEmaPeriod\", val: 30 },\r\n    ],\r\n    default: {\r\n        params: [\r\n            { name: \"erPeriod\", val: 21 },\r\n            { name: \"fastEmaPeriod\", val: 2 },\r\n            { name: \"slowEmaPeriod\", val: 30 },\r\n        ],\r\n        newSubchart: false,\r\n    },\r\n    // type: \"line\",\r\n    graphTypes: [{ type: \"line\" }],\r\n    indicatorFnType: \"dataSeries\",\r\n    indicatorFn: function (params) {\r\n        var _a;\r\n        var srcChartData = params.chartData, prevData = params.prevData, _b = params.erPeriod, erPeriod = _b === void 0 ? 20 : _b, _c = params.fastEmaPeriod, fastEmaPeriod = _c === void 0 ? 2 : _c, _d = params.slowEmaPeriod, slowEmaPeriod = _d === void 0 ? 30 : _d;\r\n        var indicatorData = __spreadArray([], prevData, true);\r\n        srcChartData\r\n            .slice((_a = prevData === null || prevData === void 0 ? void 0 : prevData.length) !== null && _a !== void 0 ? _a : 0)\r\n            .forEach(function (srcDataset, srcDatasetIdx) {\r\n            var _a, _b, _c, _d, _e;\r\n            var idx = srcDatasetIdx + ((_a = prevData === null || prevData === void 0 ? void 0 : prevData.length) !== null && _a !== void 0 ? _a : 0);\r\n            var defaultDataset = {\r\n                prices: [null],\r\n                date: srcDataset.date,\r\n            };\r\n            if (idx < erPeriod - 1 + 1) {\r\n                indicatorData.push(defaultDataset);\r\n                return;\r\n            }\r\n            var dataset = srcChartData[idx];\r\n            var getDatasetPrice = function (dataset) {\r\n                var _a;\r\n                return isNullish(dataset)\r\n                    ? null\r\n                    : T.isLineChartDataset(dataset)\r\n                        ? dataset.close\r\n                        : T.isIndicatorDataset(dataset)\r\n                            ? (_a = dataset.prices) === null || _a === void 0 ? void 0 : _a[0]\r\n                            : null;\r\n            };\r\n            var price = getDatasetPrice(dataset);\r\n            if (!price) {\r\n                indicatorData.push(defaultDataset);\r\n                return;\r\n            }\r\n            var change = Math.abs(price - ((_b = getDatasetPrice(srcChartData === null || srcChartData === void 0 ? void 0 : srcChartData[idx - erPeriod + 1])) !== null && _b !== void 0 ? _b : price));\r\n            var volatility = srcChartData\r\n                .slice(idx - erPeriod, idx + 1)\r\n                .map(function (val, idx, arr) {\r\n                if (idx === 0)\r\n                    return null;\r\n                var price0 = getDatasetPrice(val);\r\n                var price1 = getDatasetPrice(arr[idx - 1]);\r\n                return !isNullish(price0) && !isNullish(price1)\r\n                    ? Math.abs(price0 - price1)\r\n                    : null;\r\n            })\r\n                .filter(function (val) { return val !== null; }).reduce(function (acc, cur, idx) { return acc + cur; }, 0);\r\n            var ER = volatility !== 0 ? change / volatility : 0;\r\n            var slowConst = 2.0 / (slowEmaPeriod + 1);\r\n            var fastConst = 2.0 / (fastEmaPeriod + 1);\r\n            var SC = Math.pow(ER * (fastConst - slowConst) + slowConst, 2);\r\n            var lastKama = (_e = (_d = (_c = indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData[idx - 1]) === null || _c === void 0 ? void 0 : _c.prices) === null || _d === void 0 ? void 0 : _d[0]) !== null && _e !== void 0 ? _e : getDatasetPrice(srcChartData === null || srcChartData === void 0 ? void 0 : srcChartData[idx - 1]);\r\n            var kama = isNullish(lastKama)\r\n                ? price\r\n                : lastKama + SC * (price - lastKama);\r\n            indicatorData.push({ prices: [kama], date: srcDataset.date });\r\n        });\r\n        return indicatorData;\r\n    },\r\n};\r\n//# sourceMappingURL=KAMA.js.map","import { iATR } from \"./ATR\";\r\nimport { iEMA } from \"./EMA\";\r\nimport { iMACD } from \"./MACD\";\r\nimport { iOBV } from \"./OBV\";\r\nimport { iRSI } from \"./RSI\";\r\nimport { iSMA } from \"./SMA\";\r\nimport { iVolume } from \"./Volume\";\r\nimport { iKAMA } from \"./KAMA\";\r\nexport { iATR, iEMA, iMACD, iOBV, iRSI, iSMA, iVolume, iKAMA };\r\nexport var defaultIndicators = [iSMA, iEMA, iRSI, iMACD, iATR, iVolume, iOBV, iKAMA];\r\n//# sourceMappingURL=DefaultIndicators.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport * as T from \"../Types\";\r\nexport var iSMA = {\r\n    name: \"SMA\",\r\n    category: \"Average\",\r\n    params: [{ name: \"period\", val: 10 }],\r\n    default: { params: [{ name: \"period\", val: 10 }], newSubchart: false },\r\n    // type: \"line\",\r\n    graphTypes: [{ type: \"line\" }],\r\n    indicatorFnType: \"dataSeries\",\r\n    indicatorFn: function (params) {\r\n        var _a;\r\n        var srcChartData = params.chartData, prevData = params.prevData, _b = params.period, period = _b === void 0 ? 20 : _b;\r\n        var indicatorData = __spreadArray([], prevData, true);\r\n        srcChartData.slice((_a = prevData === null || prevData === void 0 ? void 0 : prevData.length) !== null && _a !== void 0 ? _a : 0).forEach(function (srcDataset, srcDatasetIdx) {\r\n            var _a;\r\n            var accumulatedIdx = srcDatasetIdx + ((_a = prevData === null || prevData === void 0 ? void 0 : prevData.length) !== null && _a !== void 0 ? _a : 0);\r\n            if (accumulatedIdx < period - 1) {\r\n                indicatorData.push({ prices: [null], date: srcDataset.date });\r\n                return;\r\n            }\r\n            var singleSmaAcc = 0;\r\n            srcChartData.slice(accumulatedIdx - period + 1, accumulatedIdx + 1).forEach(function (selSrcDataset, idx, arr) {\r\n                if (T.isLineChartDataset(selSrcDataset))\r\n                    singleSmaAcc += selSrcDataset.close;\r\n                else if (T.isIndicatorDataset(selSrcDataset))\r\n                    singleSmaAcc += selSrcDataset.prices[0] ? selSrcDataset.prices[0] : 0;\r\n            });\r\n            indicatorData.push({ prices: [singleSmaAcc / period], date: srcDataset.date });\r\n        });\r\n        return indicatorData;\r\n    },\r\n};\r\n//# sourceMappingURL=SMA.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { isNullish } from \"../utils/Basics\";\r\nimport { iEMA } from \"./EMA\";\r\nexport var iMACD = {\r\n    name: \"MACD\",\r\n    category: \"Oszillator\",\r\n    params: [\r\n        { name: \"period short\", val: 12 },\r\n        { name: \"period long\", val: 26 },\r\n        { name: \"signal period\", val: 9 },\r\n    ],\r\n    default: {\r\n        params: [\r\n            { name: \"period short\", val: 12 },\r\n            { name: \"period long\", val: 26 },\r\n            { name: \"signal period\", val: 9 },\r\n        ],\r\n        newSubchart: true,\r\n        // decimals: 0,\r\n    },\r\n    // type: \"line\",\r\n    graphTypes: [\r\n        { type: \"line\", name: \"MACD\" },\r\n        { type: \"line\", name: \"Signal\" },\r\n        { type: \"bars\", name: \"Histogram\" },\r\n    ],\r\n    indicatorFnType: \"chartSeries\",\r\n    indicatorFn: function (params) {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        var srcChartData = params.chartData, prevData = params.prevData, _h = params.periodEmaShort, periodEmaShort = _h === void 0 ? 12 : _h, _j = params.periodEmaLong, periodEmaLong = _j === void 0 ? 26 : _j, _k = params.periodSignal, periodSignal = _k === void 0 ? 9 : _k;\r\n        var emaFn = iEMA.indicatorFn;\r\n        var prevCalcData = prevData\r\n            ? {\r\n                macd: prevData.map(function (indDataset, indIdx) { var _a; return (__assign(__assign({}, indDataset), { prices: [(_a = indDataset === null || indDataset === void 0 ? void 0 : indDataset.prices) === null || _a === void 0 ? void 0 : _a[0]] })); }),\r\n                signal: prevData.map(function (indDataset, indIdx) { var _a; return (__assign(__assign({}, indDataset), { prices: [(_a = indDataset === null || indDataset === void 0 ? void 0 : indDataset.prices) === null || _a === void 0 ? void 0 : _a[1]] })); }),\r\n                emaShort: prevData.map(function (indDataset) { var _a; return (__assign(__assign({}, indDataset), { prices: [(_a = indDataset === null || indDataset === void 0 ? void 0 : indDataset.prices) === null || _a === void 0 ? void 0 : _a[3]] })); }),\r\n                emaLong: prevData.map(function (indDataset, indIdx) { var _a; return (__assign(__assign({}, indDataset), { prices: [(_a = indDataset === null || indDataset === void 0 ? void 0 : indDataset.prices) === null || _a === void 0 ? void 0 : _a[4]] })); }),\r\n            }\r\n            : null;\r\n        var emaShort = emaFn({ chartData: srcChartData, prevData: (_a = prevCalcData === null || prevCalcData === void 0 ? void 0 : prevCalcData.emaShort) !== null && _a !== void 0 ? _a : [], period: periodEmaShort }); // FUTURE: use prevData but first return all calc dataseries and hide calcs\r\n        var emaLong = emaFn({ chartData: srcChartData, prevData: (_b = prevCalcData === null || prevCalcData === void 0 ? void 0 : prevCalcData.emaLong) !== null && _b !== void 0 ? _b : [], period: periodEmaLong });\r\n        var macd = __spreadArray(__spreadArray([], ((_c = prevCalcData === null || prevCalcData === void 0 ? void 0 : prevCalcData.macd) !== null && _c !== void 0 ? _c : []), true), emaShort.slice((_e = (_d = prevCalcData === null || prevCalcData === void 0 ? void 0 : prevCalcData.macd) === null || _d === void 0 ? void 0 : _d.length) !== null && _e !== void 0 ? _e : 0).map(function (emaShortDataset, newIdx) {\r\n            var _a, _b;\r\n            var idx = newIdx + ((_b = (_a = prevCalcData === null || prevCalcData === void 0 ? void 0 : prevCalcData.macd) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0);\r\n            var emaLongVal = emaLong[idx].prices[0];\r\n            var emaShortVal = emaShortDataset.prices[0];\r\n            var macdVal = isNullish(emaShortVal) || isNullish(emaLongVal) ? null : emaShortVal - emaLongVal;\r\n            return { prices: [macdVal], date: srcChartData[idx].date, priceLabels: [\"MACD\"] };\r\n        }), true);\r\n        var signal = emaFn({ chartData: macd, prevData: (_f = prevCalcData === null || prevCalcData === void 0 ? void 0 : prevCalcData.signal) !== null && _f !== void 0 ? _f : [], period: periodSignal });\r\n        var macdComplete = __spreadArray(__spreadArray([], prevData, true), macd.slice((_g = prevData === null || prevData === void 0 ? void 0 : prevData.length) !== null && _g !== void 0 ? _g : 0).map(function (macdVal, newIdx) {\r\n            var _a;\r\n            var idx = (_a = newIdx + (prevData === null || prevData === void 0 ? void 0 : prevData.length)) !== null && _a !== void 0 ? _a : 0;\r\n            var macdValPrice = macdVal.prices[0];\r\n            var signalVal = signal[idx].prices[0];\r\n            var macdHistogramm = macdValPrice === null || signalVal === null ? null : macdValPrice - signalVal;\r\n            var emaShortVal = emaShort[idx].prices[0];\r\n            var emaLongVal = emaLong[idx].prices[0];\r\n            return __assign(__assign({}, macdVal), { prices: [macdValPrice, signalVal, macdHistogramm, emaShortVal, emaLongVal] });\r\n        }), true);\r\n        return macdComplete;\r\n    },\r\n};\r\n//# sourceMappingURL=MACD.js.map","import * as T from \"../Types\";\r\nexport var iATR = {\r\n    name: \"ATR\",\r\n    category: \"Volatility\",\r\n    params: [{ name: \"period\", val: 14 }],\r\n    default: { params: [{ name: \"period\", val: 14 }], newSubchart: true },\r\n    graphTypes: [{ type: \"line\" }],\r\n    indicatorFnType: \"chartSeries\",\r\n    indicatorFn: function (params) {\r\n        var _a;\r\n        var srcChartData = params.chartData, prevData = params.prevData, _b = params.period, period = _b === void 0 ? 20 : _b;\r\n        var indicatorData = prevData ? prevData : [];\r\n        for (var i = (_a = 0 + (prevData === null || prevData === void 0 ? void 0 : prevData.length)) !== null && _a !== void 0 ? _a : 0; i < srcChartData.length; i++) {\r\n            if (i < period) {\r\n                indicatorData.push({ prices: [null], date: srcChartData[i].date });\r\n                continue;\r\n            }\r\n            var singleValAcc = 0;\r\n            for (var j = i - period + 1; j <= i; j++) {\r\n                var dataset = srcChartData[j];\r\n                var dataset1 = srcChartData[j - 1];\r\n                var singleAtr = 0;\r\n                if (T.isCandleChartDataset(dataset) && T.isCandleChartDataset(dataset1)) {\r\n                    var hl = dataset.high - dataset.low;\r\n                    var hc1 = Math.abs(dataset.high - dataset1.close);\r\n                    var lc1 = Math.abs(dataset.low - dataset1.close);\r\n                    singleAtr = Math.max(hl, hc1, lc1);\r\n                }\r\n                else {\r\n                    var dc = Math.abs(dataset.close - dataset1.close);\r\n                    singleAtr = dc;\r\n                }\r\n                singleValAcc += singleAtr;\r\n            }\r\n            indicatorData.push({ prices: [singleValAcc / period], date: srcChartData[i].date });\r\n        }\r\n        return indicatorData;\r\n    },\r\n};\r\n//# sourceMappingURL=ATR.js.map","import * as T from \"../Types\";\r\nexport var iVolume = {\r\n    name: \"Volume\",\r\n    category: \"Volume\",\r\n    params: [],\r\n    default: { params: [], newSubchart: true, decimals: 0 },\r\n    // type: \"bars\",\r\n    graphTypes: [{ type: \"bars\" }],\r\n    // nSeries: 1,\r\n    indicatorFnType: \"chartSeries\",\r\n    indicatorFn: function (params) {\r\n        var srcChartData = params.chartData;\r\n        var indicatorData = [];\r\n        for (var i = 0; i < srcChartData.length; i++) {\r\n            var dataset = srcChartData[i];\r\n            if (T.isVolumeDataset(dataset)) {\r\n                indicatorData.push({ prices: [dataset.volume], date: dataset.date });\r\n            }\r\n            else {\r\n                indicatorData.push({ prices: [0], date: dataset.date });\r\n            }\r\n        }\r\n        return indicatorData;\r\n    },\r\n};\r\n//# sourceMappingURL=Volume.js.map","import * as T from \"../Types\";\r\nexport var iOBV = {\r\n    name: \"OBV\",\r\n    category: \"Volume\",\r\n    graphTypes: [{ type: \"line\" }],\r\n    params: [],\r\n    default: { params: [], newSubchart: true, decimals: 0 },\r\n    indicatorFnType: \"chartSeries\",\r\n    indicatorFn: function (params) {\r\n        var _a, _b;\r\n        var srcChartData = params.chartData, prevData = params.prevData;\r\n        var indicatorData = prevData ? prevData : [];\r\n        for (var i = indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData.length; i < srcChartData.length; i++) {\r\n            var dataset = srcChartData[i];\r\n            if (i === 0 && T.isVolumeDataset(dataset)) {\r\n                indicatorData.push({ prices: [dataset.volume], date: dataset.date });\r\n                continue;\r\n            }\r\n            var dataset1 = srcChartData[i - 1];\r\n            var lastObv = indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData[i - 1];\r\n            if (!T.isVolumeDataset(dataset) || !T.isVolumeDataset(dataset1)) {\r\n                indicatorData.push({ prices: [null], date: srcChartData[i].date });\r\n                continue;\r\n            }\r\n            var lastObvVal = (_b = (_a = lastObv === null || lastObv === void 0 ? void 0 : lastObv.prices) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : 0;\r\n            var obv = lastObvVal + Math.sign(dataset.close - dataset1.close) * dataset.volume; //+ dataset1.volume;\r\n            indicatorData.push({ prices: [obv], date: srcChartData[i].date });\r\n        }\r\n        return indicatorData;\r\n    },\r\n};\r\n//# sourceMappingURL=OBV.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport React from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { Icon } from \"@mdi/react\";\r\nimport { mdiDiameterVariant, mdiChartBellCurve, mdiArrowExpandVertical, mdiPoll, mdiSortAlphabeticalAscending, mdiFilter, } from \"@mdi/js\";\r\nimport { CTreeItem } from \"../../Components/CTreeItem\";\r\nimport { CTreeView } from \"../../Components/CTreeView\";\r\nimport { IndicatorsSubMenu } from \"./IndicatorsSubMenu\";\r\nimport uniqid from \"uniqid\";\r\nimport { defaultIndicators } from \"../../Indicators/DefaultIndicators\";\r\nvar categorys = [\r\n    { name: \"Average\", icon: mdiDiameterVariant },\r\n    { name: \"Oszillator\", icon: mdiChartBellCurve },\r\n    { name: \"Volatility\", icon: mdiArrowExpandVertical },\r\n    { name: \"Volume\", icon: mdiPoll },\r\n];\r\nexport var IndicatorsAdd = function (props) {\r\n    var _a, _b;\r\n    // const { subCharts, indicators, addIndicator, disableGrouping, data, Dispatch } = props;\r\n    var subCharts = props.subCharts, onNavigate = props.onNavigate, location = props.location, Dispatch = props.Dispatch, settings = props.settings, data = props.data;\r\n    var _c = React.useState(false), DisableGrouping = _c[0], setDisableGrouping = _c[1];\r\n    var _d = React.useState(0), SelectedGraph = _d[0], setSelectedGraph = _d[1];\r\n    var mainGraph = subCharts === null || subCharts === void 0 ? void 0 : subCharts[0].yaxis[0].graphs[0];\r\n    var amtIndicators = data.filter(function (val) { return val.type === \"indicator\"; }).length;\r\n    var mainGraphData = data.find(function (val) { return val.id === mainGraph.dataId; });\r\n    var mainGraphDataSeries = (_a = mainGraphData === null || mainGraphData === void 0 ? void 0 : mainGraphData.data) !== null && _a !== void 0 ? _a : [];\r\n    var mainGraphName = (_b = mainGraphData === null || mainGraphData === void 0 ? void 0 : mainGraphData.name) !== null && _b !== void 0 ? _b : \"\";\r\n    var mainGraphId = mainGraphData === null || mainGraphData === void 0 ? void 0 : mainGraphData.id;\r\n    var theme = useTheme();\r\n    var indicators = React.useMemo(function () {\r\n        return (settings === null || settings === void 0 ? void 0 : settings.additionalIndicators)\r\n            ? __spreadArray(__spreadArray([], defaultIndicators, true), settings.additionalIndicators, true) : defaultIndicators;\r\n    }, [settings === null || settings === void 0 ? void 0 : settings.additionalIndicators]);\r\n    var addIndicator = function (indicator) { return function (e) {\r\n        if (indicator.default.newSubchart) {\r\n            Dispatch({\r\n                task: \"addSubchart\",\r\n                params: {\r\n                    chartSeries: mainGraphDataSeries,\r\n                    chartName: mainGraphName,\r\n                    id: uniqid(),\r\n                    indicator: indicator,\r\n                    indSrcId: mainGraphId,\r\n                },\r\n            });\r\n        }\r\n        else {\r\n            Dispatch({\r\n                task: \"addGraph\",\r\n                params: {\r\n                    chartSeries: mainGraphDataSeries,\r\n                    chartName: mainGraphName,\r\n                    id: uniqid(),\r\n                    indicator: indicator,\r\n                    subchartIdx: 0,\r\n                    indSrcId: mainGraphId,\r\n                },\r\n            });\r\n        }\r\n    }; };\r\n    var srcGraphs = subCharts\r\n        .map(function (subchart, subchartIdx) {\r\n        return subchart.yaxis\r\n            .map(function (yaxi, yaxisIdx) {\r\n            return yaxi.graphs\r\n                .map(function (graph, graphIdx) {\r\n                var dataGraph = data.find(function (val) { return val.id === graph.dataId; });\r\n                var subGraphs = (dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.type) === \"indicator\"\r\n                    ? dataGraph.indicator.graphTypes\r\n                    : null;\r\n                var amtLines = subGraphs ? subGraphs.length : 1;\r\n                return Array(amtLines)\r\n                    .fill(0)\r\n                    .map(function (x, xIdx) {\r\n                    var _a;\r\n                    var subGraph = subGraphs === null || subGraphs === void 0 ? void 0 : subGraphs[xIdx];\r\n                    var subGraphNameSuffix = (subGraph === null || subGraph === void 0 ? void 0 : subGraph.name)\r\n                        ? \" - \" + subGraph.name\r\n                        : \"\";\r\n                    return {\r\n                        name: (_a = dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.name) !== null && _a !== void 0 ? _a : \"Graph No.\" + graphIdx,\r\n                        subchartIdx: subchartIdx,\r\n                        yaxisIdx: yaxisIdx,\r\n                        graphIdx: graphIdx,\r\n                        graphLineIdx: xIdx,\r\n                        fullName: (dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.type) === \"indicator\"\r\n                            ? dataGraph.fullName + subGraphNameSuffix + \"\"\r\n                            : null,\r\n                        type: graph.type,\r\n                        dataId: graph.dataId,\r\n                    };\r\n                })\r\n                    .flat();\r\n            })\r\n                .flat();\r\n        })\r\n            .flat();\r\n    })\r\n        .flat();\r\n    var filteredIndicators = indicators.filter(function (indi) {\r\n        var _a, _b;\r\n        return (((_a = srcGraphs === null || srcGraphs === void 0 ? void 0 : srcGraphs[SelectedGraph]) === null || _a === void 0 ? void 0 : _a.type) === \"indicator\" &&\r\n            indi.indicatorFnType === \"dataSeries\") ||\r\n            ((_b = srcGraphs === null || srcGraphs === void 0 ? void 0 : srcGraphs[SelectedGraph]) === null || _b === void 0 ? void 0 : _b.type) === \"chart\";\r\n    });\r\n    return (React.createElement(React.Fragment, null,\r\n        amtIndicators > 0 && (React.createElement(IndicatorsSubMenu, { location: location, onNavigate: onNavigate, theme: theme, amtIndicators: amtIndicators, submenuContent: React.createElement(React.Fragment, null,\r\n                React.createElement(TextField, { select: true, SelectProps: {\r\n                        SelectDisplayProps: {\r\n                            style: { padding: 8, paddingRight: 32, paddingLeft: 16 },\r\n                        },\r\n                    }, variant: \"outlined\", InputProps: { sx: { borderRadius: \"18px\" } }, label: React.createElement(Typography, { color: \"text.secondary\" }, \"Source Graph\"), value: SelectedGraph, onChange: function (e) {\r\n                        var val = typeof e.target.value === \"number\"\r\n                            ? e.target.value\r\n                            : parseInt(e.target.value, 10);\r\n                        if (isNaN(val))\r\n                            return;\r\n                        setSelectedGraph(val);\r\n                    } }, srcGraphs.map(function (srcGraph, gIdx) {\r\n                    var _a;\r\n                    return (React.createElement(MenuItem, { value: gIdx, key: \"srcGraph-\" + gIdx }, (_a = srcGraph === null || srcGraph === void 0 ? void 0 : srcGraph.fullName) !== null && _a !== void 0 ? _a : srcGraph.name));\r\n                })),\r\n                React.createElement(IconButton, { size: \"small\", sx: { border: \"1px solid #fff\", margin: \"0px 5px 0px 0px\" }, onClick: function () { return setDisableGrouping(function (current) { return !current; }); } },\r\n                    React.createElement(Icon, { path: !DisableGrouping ? mdiSortAlphabeticalAscending : mdiFilter, size: 1, color: theme.palette.primary.contrastText }))) })),\r\n        React.createElement(CTreeView, null, !DisableGrouping\r\n            ? categorys.map(function (cat, catIdx) {\r\n                var indicatorsPerCat = filteredIndicators.filter(function (indi) { return indi.category === cat.name; });\r\n                return (indicatorsPerCat.length > 0 && (React.createElement(CTreeItem, { key: \"cat-\".concat(catIdx), nodeId: catIdx.toString(), labelText: cat.name, bgColorSelected: theme.palette.primary.light, color: \"#ff0000\", labelIcon: React.createElement(\"div\", { style: {\r\n                            border: \"1px solid #666\",\r\n                            borderRadius: 5,\r\n                            marginRight: 10,\r\n                            background: theme.palette.secondary.main,\r\n                            minWidth: 32,\r\n                            height: 32,\r\n                        } },\r\n                        React.createElement(Icon, { path: cat.icon, size: \"32px\", color: theme.palette.secondary.contrastText })) }, indicatorsPerCat\r\n                    .sort(function (a, b) { return (a.name > b.name ? 1 : -1); })\r\n                    .map(function (indi, indiIdx) { return (React.createElement(CTreeItem, { key: \"cat-\".concat(catIdx, \"-indi-\").concat(indiIdx), nodeId: ((catIdx + 1) * 100 +\r\n                        (indiIdx + 1)).toString(), labelText: indi.name, typographyVariant: \"body1\", \r\n                    //   labelIcon={<Icon path={mdiFileChartOutline} size={1} color={theme.palette.type === \"light\" ? \"#333\" : \"#fff\"} />}\r\n                    onClick: function () {\r\n                        var _a, _b;\r\n                        var dataGraph = data.find(function (val) { var _a; return val.id === ((_a = srcGraphs[SelectedGraph]) === null || _a === void 0 ? void 0 : _a.dataId); });\r\n                        if (!dataGraph)\r\n                            return;\r\n                        var dataSeries = (_a = dataGraph.data) !== null && _a !== void 0 ? _a : [];\r\n                        var name = (_b = dataGraph.name) !== null && _b !== void 0 ? _b : \"Graph No.\" + (srcGraphs === null || srcGraphs === void 0 ? void 0 : srcGraphs[SelectedGraph].graphIdx);\r\n                        if (indi === null || indi === void 0 ? void 0 : indi.default.newSubchart) {\r\n                            Dispatch({\r\n                                task: \"addSubchart\",\r\n                                params: {\r\n                                    dataSeries: dataSeries,\r\n                                    name: name,\r\n                                    indicator: indi,\r\n                                    // indSrcId: mainGraph.dataId,\r\n                                    indSrcId: dataGraph.id,\r\n                                    id: uniqid(),\r\n                                },\r\n                            });\r\n                        }\r\n                        else {\r\n                            Dispatch({\r\n                                task: \"addGraph\",\r\n                                params: {\r\n                                    dataSeries: dataSeries,\r\n                                    name: name,\r\n                                    id: uniqid(),\r\n                                    indicator: indi,\r\n                                    subchartIdx: srcGraphs === null || srcGraphs === void 0 ? void 0 : srcGraphs[SelectedGraph].subchartIdx,\r\n                                    indSrcId: dataGraph.id,\r\n                                    indSrcLineIdx: srcGraphs === null || srcGraphs === void 0 ? void 0 : srcGraphs[SelectedGraph].graphLineIdx,\r\n                                },\r\n                            });\r\n                        }\r\n                    } })); }))));\r\n            })\r\n            : filteredIndicators\r\n                .sort(function (a, b) { return (a.name > b.name ? 1 : -1); })\r\n                .map(function (indi, indiIdx) { return (React.createElement(CTreeItem, { key: \"cat-indi-\".concat(indiIdx), nodeId: (indiIdx + 1).toString(), labelText: indi.name, typographyVariant: \"body1\", onClick: addIndicator(indi) })); }))));\r\n};\r\n//# sourceMappingURL=IndicatorsAdd.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport uniq from \"lodash/uniq\";\r\nimport { setStateProp } from \"../utils\";\r\nimport { isNullish } from \"../utils/Basics\";\r\nexport var prefersDarkMode = typeof window !== \"undefined\" ? window.matchMedia(\"(prefers-color-scheme: dark)\").matches : false;\r\nexport var defaultContainerSizeState = {\r\n    top: 0,\r\n    left: 0,\r\n    width: 300,\r\n    height: 300,\r\n    init: false,\r\n};\r\nexport var defaultPointerState = {\r\n    isHovering: false,\r\n    move: { isMoving: false, xy: [0, 0] },\r\n    wheel: { isWheeling: false, delta: [0, 0] },\r\n    dragPointerUp: {\r\n        isDragPointerUp: false,\r\n        xy: [0, 0],\r\n        first: false,\r\n        last: false,\r\n        initial: [0, 0],\r\n        movementInitial: [0, 0],\r\n    },\r\n    drag: {\r\n        isDragging: false,\r\n        xy: [0, 0],\r\n        first: false,\r\n        last: false,\r\n        initial: [0, 0],\r\n        movementInitial: [0, 0],\r\n        delta: [0, 0],\r\n        ctrlKey: false,\r\n    },\r\n    pinch: { isPinching: false, first: false, movementInitial: [0, 0], origin: [0, 0] },\r\n};\r\nexport var defaultDrawState = {\r\n    isDrawing: false,\r\n    xy: [],\r\n    params: [],\r\n};\r\nexport var defaultCalcXaxis = {\r\n    totalTranslatedX: 0,\r\n    scaledWidthPerTick: 10,\r\n    xStart: 0,\r\n    xEnd: 0,\r\n    xLast: 0,\r\n    xUnlimited: 0,\r\n    pixXStart: 0,\r\n    pixXEnd: 0,\r\n    optChartPeriod: null,\r\n    initialWidthPerTick: 10,\r\n    curTicks: [],\r\n};\r\nexport var defaultCalcPointer = {\r\n    isHovering: false,\r\n    move: {\r\n        x: 0,\r\n        pixX: 0,\r\n        pixY: 0,\r\n        snapDatasets: [],\r\n        subchartIdx: null,\r\n        xDateString: \"\",\r\n        pixXSnap: 0,\r\n        pixXUnlimSnap: 0,\r\n        xUnlimited: 0,\r\n    },\r\n    click: { clickedSubchartIdx: null },\r\n};\r\nexport var defaultLightTheme = {\r\n    isDarkMode: false,\r\n    borderColor: \"#000\",\r\n    backgroundColor: \"#fff\",\r\n    crosshair: {\r\n        useCrosshair: true,\r\n        strokeColor: \"#000\",\r\n        xMarkerBackgroundColor: \"#fff\",\r\n        xMarkerFontName: \"Arial\",\r\n        xMarkerFontSize: 14,\r\n        xMarkerTextColor: \"#000\",\r\n        xMarkerStrokeColor: \"#000\",\r\n        yMarkerBackgroundColor: \"#fff\",\r\n        yMarkerStrokeColor: \"#000\",\r\n        yMarkerTextColor: \"#000\",\r\n        yMarkerFontName: \"Arial\",\r\n        yMarkerFontSize: 14,\r\n    },\r\n    grid: {\r\n        useGridX: true,\r\n        useGridY: true,\r\n        strokeColor: \"rgba(51,51,51, 0.2)\",\r\n        strokeStyle: \"FUTURE\",\r\n    },\r\n    yaxis: {\r\n        widthYAxis: 80,\r\n        widthTickmarkLines: 5,\r\n        fillColor: \"#fff\",\r\n        strokeColor: \"#000\",\r\n        fontColor: \"#000\",\r\n        fontSize: 14,\r\n        fontName: \"Arial\",\r\n    },\r\n    xaxis: {\r\n        heightXAxis: 36,\r\n        heightTickMarkLines: 8,\r\n        fillColor: \"#fff\",\r\n        strokeColor: \"#000\",\r\n        fontColor: \"#000\",\r\n        fontSize: 14,\r\n        fontName: \"Arial\",\r\n    },\r\n    draw: {\r\n        strokeColor: \"red\",\r\n        anchorColor: \"#333\",\r\n    },\r\n};\r\nexport var defaultDarkTheme = __assign(__assign({}, defaultLightTheme), { isDarkMode: true, crosshair: __assign(__assign({}, defaultLightTheme.crosshair), { strokeColor: \"#bbb\" }), borderColor: \"#666\", draw: { strokeColor: \"red\", anchorColor: \"#ccc\" }, grid: __assign(__assign({}, defaultLightTheme.grid), { strokeColor: \"rgba(153,153,153, 0.08)\" }), yaxis: __assign(__assign({}, defaultLightTheme.yaxis), { fontColor: \"#bbb\", strokeColor: \"#bbb\" }), backgroundColor: \"#333\" });\r\nexport var defaultState = {\r\n    data: [],\r\n    subCharts: [],\r\n    // darkMode: false,\r\n    fullscreen: false,\r\n    draw: defaultDrawState,\r\n    containerSize: defaultContainerSizeState,\r\n    pointer: defaultPointerState,\r\n    calc: {\r\n        subcharts: [],\r\n        xaxis: defaultCalcXaxis,\r\n        pointer: defaultCalcPointer,\r\n    },\r\n    style: defaultLightTheme,\r\n};\r\nexport var defaultDarkState = __assign(__assign({}, defaultState), { style: defaultDarkTheme });\r\nexport var getInitSubchartsState = function (isDarkMode, inputData) {\r\n    var sIdx = -1;\r\n    var gIdx = 0;\r\n    var graphs = !inputData\r\n        ? []\r\n        : inputData\r\n            .map(function (inputDat, inputDatIdx) {\r\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\r\n            if (sIdx === -1 ||\r\n                (isNullish((_a = inputDat === null || inputDat === void 0 ? void 0 : inputDat.graphProps) === null || _a === void 0 ? void 0 : _a.subchartIdx) &&\r\n                    (inputDat.type === \"chart\" ||\r\n                        (inputDat.type === \"indicator\" && inputDat.indicator.default.newSubchart)))) {\r\n                sIdx++;\r\n                gIdx = 0;\r\n            }\r\n            else {\r\n                gIdx++;\r\n            }\r\n            // const yIdx = 0;\r\n            if (inputDat.type === \"chart\") {\r\n                var chartType = (_b = [\"line\", \"candles\", \"area\"].find(function (val) { var _a; return val === ((_a = inputDat === null || inputDat === void 0 ? void 0 : inputDat.graphProps) === null || _a === void 0 ? void 0 : _a.chartType); })) !== null && _b !== void 0 ? _b : \"candles\";\r\n                return {\r\n                    dataId: inputDat.id,\r\n                    dataIdx: inputDatIdx,\r\n                    type: \"chart\",\r\n                    chartType: chartType,\r\n                    style: __assign(__assign(__assign({}, defaultCandleChartStyle), { strokeColor: isDarkMode\r\n                            ? defaultDarkLineChartStyle.strokeColor[0]\r\n                            : defaultLineChartStyle.strokeColor[0] }), (_c = inputDat === null || inputDat === void 0 ? void 0 : inputDat.graphProps) === null || _c === void 0 ? void 0 : _c.style),\r\n                    subchartIdx: (_e = (_d = inputDat === null || inputDat === void 0 ? void 0 : inputDat.graphProps) === null || _d === void 0 ? void 0 : _d.subchartIdx) !== null && _e !== void 0 ? _e : sIdx,\r\n                    yaxisIdx: 0,\r\n                    graphIdx: (_g = (_f = inputDat === null || inputDat === void 0 ? void 0 : inputDat.graphProps) === null || _f === void 0 ? void 0 : _f.graphIdx) !== null && _g !== void 0 ? _g : gIdx,\r\n                };\r\n            }\r\n            else if (inputDat.type === \"indicator\") {\r\n                return {\r\n                    dataId: (_h = inputDat.id) !== null && _h !== void 0 ? _h : \"\",\r\n                    dataIdx: inputDatIdx,\r\n                    type: \"indicator\",\r\n                    style: {\r\n                        strokeColor: ((_k = (_j = inputDat === null || inputDat === void 0 ? void 0 : inputDat.graphProps) === null || _j === void 0 ? void 0 : _j.style) === null || _k === void 0 ? void 0 : _k.strokeColor)\r\n                            ? inputDat.graphProps.style.strokeColor\r\n                            : inputDat.indicator.graphTypes.length <= 1\r\n                                ? defaultLineChartStyle.strokeColor\r\n                                : isDarkMode\r\n                                    ? graphColorsDark.slice(0, inputDat.indicator.graphTypes.length)\r\n                                    : graphColorsLight.slice(0, inputDat.indicator.graphTypes.length),\r\n                    },\r\n                    subchartIdx: (_m = (_l = inputDat === null || inputDat === void 0 ? void 0 : inputDat.graphProps) === null || _l === void 0 ? void 0 : _l.subchartIdx) !== null && _m !== void 0 ? _m : sIdx,\r\n                    yaxisIdx: 0,\r\n                    graphIdx: (_p = (_o = inputDat === null || inputDat === void 0 ? void 0 : inputDat.graphProps) === null || _o === void 0 ? void 0 : _o.graphIdx) !== null && _p !== void 0 ? _p : gIdx,\r\n                };\r\n            }\r\n            else\r\n                return null;\r\n        })\r\n            .filter(function (val) { return !!val; }).sort(function (a, b) {\r\n            return a && b && a.subchartIdx !== b.subchartIdx\r\n                ? a.subchartIdx - b.subchartIdx\r\n                : a && b && a.subchartIdx === b.subchartIdx\r\n                    ? a.graphIdx - b.graphIdx\r\n                    : 0;\r\n        });\r\n    var amtSubcharts = uniq(graphs === null || graphs === void 0 ? void 0 : graphs.map(function (graph) { return graph.subchartIdx; }));\r\n    var subcharts2 = amtSubcharts.map(function (s, sIdx) { return ({\r\n        top: 0,\r\n        bottom: 0,\r\n        yaxis: [0].map(function (y, yIdx) { return ({\r\n            tools: [],\r\n            graphs: graphs === null || graphs === void 0 ? void 0 : graphs.filter(function (val) { return val.subchartIdx === sIdx; }).map(function (graph) {\r\n                var subchartIdx = graph.subchartIdx, yaxisIdx = graph.yaxisIdx, graphIdx = graph.graphIdx, graphRest = __rest(graph, [\"subchartIdx\", \"yaxisIdx\", \"graphIdx\"]);\r\n                return graphRest;\r\n            }),\r\n        }); }),\r\n    }); });\r\n    return subcharts2;\r\n};\r\nexport var getInitState = function (initialState, initWidthPerTick) {\r\n    var isDarkMode = (prefersDarkMode && (initialState === null || initialState === void 0 ? void 0 : initialState.isDarkMode) === undefined) || !!(initialState === null || initialState === void 0 ? void 0 : initialState.isDarkMode);\r\n    var defaultStateInt = isDarkMode ? defaultDarkState : defaultState;\r\n    var defaultStateProc = !initWidthPerTick\r\n        ? defaultStateInt\r\n        : setStateProp(defaultStateInt, [\"calc\", \"xaxis\"], __assign(__assign({}, defaultStateInt.calc.xaxis), { initialWidthPerTick: initWidthPerTick, scaledWidthPerTick: initWidthPerTick }));\r\n    var initState = __assign(__assign({}, defaultStateProc), { subCharts: [], style: __assign(__assign(__assign({}, initialState), defaultStateProc.style), { grid: __assign(__assign({}, defaultStateProc.style.grid), initialState === null || initialState === void 0 ? void 0 : initialState.grid), yaxis: __assign(__assign({}, defaultStateProc.style.yaxis), initialState === null || initialState === void 0 ? void 0 : initialState.yaxis), xaxis: __assign(__assign({}, defaultStateProc.style.xaxis), initialState === null || initialState === void 0 ? void 0 : initialState.xaxis), crosshair: __assign(__assign({}, defaultStateProc.style.crosshair), initialState === null || initialState === void 0 ? void 0 : initialState.crosshair), draw: __assign(__assign({}, defaultStateProc.style.draw), initialState === null || initialState === void 0 ? void 0 : initialState.draw) }) });\r\n    return initState;\r\n};\r\nexport var getDefaultChartInteractions = function (initialChartState) {\r\n    return {\r\n        calc: { subcharts: [], pointer: initialChartState.calc.pointer, xaxis: initialChartState.calc.xaxis },\r\n        containerSize: initialChartState.containerSize,\r\n        pointer: initialChartState.pointer,\r\n        stateControl: {\r\n            prevAction: null,\r\n            lastMainChartData: [],\r\n            lastUpdate: new Date(),\r\n            shallUpdate: [],\r\n            customEffectChartState: null,\r\n        },\r\n    };\r\n};\r\nexport var graphColorsLight = [\"#666\", \"#0693E3\", \"#f50057\", \"#00D084\", \"#FF6900\", \"#bd10e0\", \"#bbb\"];\r\nexport var graphColorsDark = [\"#bbb\", \"#0693E3\", \"#f50057\", \"#00D084\", \"#FF6900\", \"#bd10e0\", \"#bbb\"];\r\nexport var getGraphColors = function (colorArr, idx) { return colorArr[idx % colorArr.length]; };\r\nexport var defaultCandleChartStyle = {\r\n    candleStrokeColor: \"transparent\",\r\n    candleWickStrokeColor: \"#666\",\r\n    candleDownColor: \"#c70039\",\r\n    candleUpColor: \"#009688\",\r\n};\r\nexport var defaultLineChartStyle = {\r\n    strokeColor: [\"#666\"],\r\n};\r\nexport var defaultDarkLineChartStyle = {\r\n    strokeColor: [\"#bbb\"],\r\n};\r\nexport var getDefaultGraphStyle = function (type, darkMode, graphIdx, indicatorLines) {\r\n    if (type === \"indicator\") {\r\n        console.log(\"IL\", indicatorLines, !indicatorLines || indicatorLines <= 1);\r\n        return !indicatorLines || indicatorLines <= 1\r\n            ? { strokeColor: [getGraphColors(darkMode ? graphColorsDark : graphColorsLight, graphIdx !== null && graphIdx !== void 0 ? graphIdx : 0)] }\r\n            : { strokeColor: (darkMode ? graphColorsDark : graphColorsLight).slice(0, indicatorLines) };\r\n    }\r\n    else {\r\n        return __assign(__assign({}, defaultCandleChartStyle), { strokeColor: getGraphColors(darkMode ? graphColorsDark : graphColorsLight, graphIdx !== null && graphIdx !== void 0 ? graphIdx : 0) });\r\n    }\r\n};\r\n//# sourceMappingURL=Defaults.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport React from \"react\";\r\nimport Drawer from \"@mui/material/Drawer\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport Divider from \"@mui/material/Divider\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { mdiHome, mdiFullscreenExit, mdiFullscreen, mdiClose, mdiBroom, mdiThemeLightDark, } from \"@mdi/js\";\r\nimport { defaultLightTheme, defaultDarkTheme } from \"../ChartState/Defaults\";\r\nimport Icon from \"@mdi/react\";\r\nexport var ChartMenuLayout = function (props) {\r\n    var isDesktop = props.isDesktop, onClose = props.onClose, location = props.location, fullscreen = props.fullscreen, headerText = props.headerText, onNavigate = props.onNavigate, Dispatch = props.Dispatch, settings = props.settings, content = props.content;\r\n    var theme = useTheme();\r\n    var _a = React.useState(null), ThemeAnchorEl = _a[0], setThemeAnchorEl = _a[1];\r\n    var _b = React.useState(null), ClearAnchorEl = _b[0], setClearAnchorEl = _b[1];\r\n    var themes = React.useMemo(function () {\r\n        var _a;\r\n        return (_a = settings.themes) !== null && _a !== void 0 ? _a : [\r\n            __assign(__assign({}, defaultLightTheme), { name: \"light\" }),\r\n            __assign(__assign({}, defaultDarkTheme), { name: \"dark\" }),\r\n        ];\r\n    }, \r\n    // settings are frozen\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []);\r\n    var goHome = React.useCallback(function () {\r\n        onNavigate(\"menu\");\r\n    }, [onNavigate]);\r\n    var toggleFullscreen = React.useCallback(function () {\r\n        Dispatch({\r\n            task: \"setGeneralProp\",\r\n            params: { prop: \"toggleFullscreen\" },\r\n        });\r\n    }, [Dispatch]);\r\n    var openFooterMenu = React.useCallback(function (event, menuName) {\r\n        if (menuName === \"theme\")\r\n            setThemeAnchorEl(event.currentTarget);\r\n        if (menuName === \"clear\")\r\n            setClearAnchorEl(event.currentTarget);\r\n    }, []);\r\n    var closeFooterMenu = React.useCallback(function () {\r\n        setThemeAnchorEl(null);\r\n        setClearAnchorEl(null);\r\n    }, []);\r\n    var selectTheme = React.useCallback(function (themeName) {\r\n        setThemeAnchorEl(null);\r\n        var selectedTheme = themes.find(function (theme) { return theme.name === themeName; });\r\n        if (!selectedTheme)\r\n            return;\r\n        Dispatch({ task: \"setTheme\", params: { theme: selectedTheme } });\r\n    }, [Dispatch, themes]);\r\n    // const iOS = typeof navigator !== \"undefined\" && /iPad|iPhone|iPod/.test(navigator.userAgent);\r\n    return (React.createElement(Drawer\r\n    // disableBackdropTransition={!iOS}\r\n    // disableDiscovery={iOS}\r\n    , { \r\n        // disableBackdropTransition={!iOS}\r\n        // disableDiscovery={iOS}\r\n        anchor: isDesktop ? \"left\" : \"bottom\", open: !!location, disablePortal: fullscreen, onBackdropClick: onClose, onClose: onClose, PaperProps: {\r\n            sx: isDesktop\r\n                ? {\r\n                    border: \"1px solid #666\",\r\n                    borderBottomRightRadius: 10,\r\n                    borderTopRightRadius: 10,\r\n                    minWidth: 300,\r\n                    height: \"100%\",\r\n                }\r\n                : {\r\n                    border: \"1px solid #666\",\r\n                    borderTopLeftRadius: 10,\r\n                    borderTopRightRadius: 10,\r\n                    maxHeight: \"75%\",\r\n                    minHeight: \"33%\",\r\n                },\r\n        } },\r\n        React.createElement(Box, { sx: { position: \"relative\", top: 0, height: \"100%\" } },\r\n            React.createElement(Box, { sx: {\r\n                    position: \"sticky\",\r\n                    top: 0,\r\n                    height: 48,\r\n                    width: \"100%\",\r\n                    bgcolor: \"primary.main\",\r\n                    p: 1,\r\n                    boxSizing: \"border-box\",\r\n                    zIndex: 1,\r\n                } },\r\n                React.createElement(Stack, { direction: \"row\", sx: {\r\n                        height: 32,\r\n                        justifyItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        verticalAlign: \"middle\",\r\n                    } },\r\n                    React.createElement(Typography, { component: \"div\", variant: \"h5\", sx: { flexGrow: 1, pt: 0.5, pr: 1 } }, headerText || \"\"),\r\n                    React.createElement(Box, { sx: { margin: \"-5px\" } },\r\n                        !!location && location !== \"menu\" && (React.createElement(IconButton, { size: \"small\", onClick: goHome },\r\n                            React.createElement(Icon, { path: mdiHome, size: \"32px\", color: theme.palette.primary.contrastText }))),\r\n                        !window.navigator.userAgent.match(/(iPad|iPhone|iPod)/i) && (React.createElement(IconButton, { size: \"small\", onClick: toggleFullscreen },\r\n                            React.createElement(Icon, { path: fullscreen ? mdiFullscreenExit : mdiFullscreen, size: \"32px\", color: theme.palette.primary.contrastText }))),\r\n                        React.createElement(IconButton, { size: \"small\", onClick: onClose },\r\n                            React.createElement(Icon, { path: mdiClose, size: \"32px\", color: theme.palette.primary.contrastText }))))),\r\n            React.createElement(Box, { sx: {\r\n                    position: \"relative\",\r\n                    top: 0,\r\n                    mb: isDesktop ? \"48px\" : \"96px\",\r\n                    height: isDesktop ? \"calc(100% - 96px)\" : \"auto\",\r\n                    overflowY: \"auto\",\r\n                    p: 1,\r\n                } }, content),\r\n            React.createElement(Box, { sx: {\r\n                    position: isDesktop ? \"absolute\" : \"fixed\",\r\n                    bottom: 0,\r\n                    height: 48,\r\n                    width: \"100%\",\r\n                    bgcolor: \"primary.main\",\r\n                } },\r\n                React.createElement(Stack, { direction: \"row\", sx: { alignItems: \"center\", alignContent: \"center\", pt: 0.5 } },\r\n                    React.createElement(Box, { sx: { flexGrow: 1 } }),\r\n                    React.createElement(IconButton, { id: \"clearMenuButton\", size: \"small\", onClick: function (e) {\r\n                            openFooterMenu === null || openFooterMenu === void 0 ? void 0 : openFooterMenu(e, \"clear\");\r\n                        } },\r\n                        React.createElement(Icon, { path: mdiBroom, size: \"32px\", color: theme.palette.primary.contrastText })),\r\n                    React.createElement(Menu, { id: \"clear-menu\", anchorEl: ClearAnchorEl, anchorOrigin: { horizontal: \"center\", vertical: \"top\" }, transformOrigin: {\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"center\",\r\n                        }, open: Boolean(ClearAnchorEl), onClose: closeFooterMenu, MenuListProps: {\r\n                            \"aria-labelledby\": \"clearMenuButton\",\r\n                        } },\r\n                        React.createElement(Typography, { variant: \"h6\", component: \"div\", sx: {\r\n                                textAlign: \"center\",\r\n                                pb: 1,\r\n                                pl: 1,\r\n                                pr: 1,\r\n                                color: \"primary.main\",\r\n                            } }, \"Clear Chart\"),\r\n                        React.createElement(Divider, null),\r\n                        [\"all\", \"indicators\", \"tools\"].map(function (mode, mIdx) { return (React.createElement(MenuItem, { key: \"clearMenuItem-\".concat(mIdx), onClick: function () {\r\n                                Dispatch({ task: \"clearChart\", params: { mode: mode } });\r\n                            } }, mode)); })),\r\n                    React.createElement(IconButton, { id: \"themeMenuButton\", size: \"small\", onClick: function (e) {\r\n                            openFooterMenu === null || openFooterMenu === void 0 ? void 0 : openFooterMenu(e, \"theme\");\r\n                        } },\r\n                        React.createElement(Icon, { path: mdiThemeLightDark, size: \"32px\", color: theme.palette.primary.contrastText })),\r\n                    React.createElement(Menu, { id: \"theme-menu\", anchorEl: ThemeAnchorEl, anchorOrigin: { horizontal: \"center\", vertical: \"top\" }, transformOrigin: {\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"center\",\r\n                        }, open: Boolean(ThemeAnchorEl), onClose: closeFooterMenu, MenuListProps: {\r\n                            \"aria-labelledby\": \"themeMenuButton\",\r\n                        } },\r\n                        React.createElement(Typography, { variant: \"h6\", component: \"div\", sx: {\r\n                                textAlign: \"center\",\r\n                                pb: 1,\r\n                                pl: 1,\r\n                                pr: 1,\r\n                                color: \"primary.main\",\r\n                            } }, \"Set Theme\"),\r\n                        React.createElement(Divider, null),\r\n                        themes.map(function (themeItem, tIdx) { return (React.createElement(MenuItem, { key: \"themeMenuItem-\".concat(tIdx), onClick: function () {\r\n                                selectTheme(themeItem.name);\r\n                            } }, themeItem.name)); })),\r\n                    React.createElement(IconButton, { size: \"small\", onClick: function () {\r\n                            onClose === null || onClose === void 0 ? void 0 : onClose();\r\n                        } },\r\n                        React.createElement(Icon, { path: mdiClose, size: \"32px\", color: theme.palette.primary.contrastText })))))));\r\n};\r\n//# sourceMappingURL=ChartMenuLayout.js.map","import React from \"react\";\r\nimport { ChartMenuIndiGraphTreeItem } from \"../Subelements/IndiGraphTreeItem\";\r\nimport { CTreeView } from \"../../Components/CTreeView\";\r\nimport * as T from \"../../Types\";\r\nimport { IndicatorsSubMenu } from \"./IndicatorsSubMenu\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nexport var IndicatorsEdit = function (props) {\r\n    var subCharts = props.subCharts, Dispatch = props.Dispatch, data = props.data, location = props.location, onNavigate = props.onNavigate;\r\n    var theme = useTheme();\r\n    var amtIndicators = data.filter(function (val) { return val.type === \"indicator\"; }).length;\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(IndicatorsSubMenu, { location: location, onNavigate: onNavigate, theme: theme, amtIndicators: amtIndicators }),\r\n        React.createElement(CTreeView, null, subCharts.map(function (subchart, subchartIdx) {\r\n            return subchart.yaxis.map(function (yaxis, yaxisIdx) {\r\n                return yaxis.graphs.map(function (graph, graphIdx) {\r\n                    return T.isIndicatorGraph(graph) ? (React.createElement(ChartMenuIndiGraphTreeItem, { key: \"editIndicator-sub-\".concat(subchartIdx, \"-yaxis-\").concat(yaxisIdx, \"-graph-\").concat(graphIdx), subCharts: subCharts, Dispatch: Dispatch, subchartIdx: subchartIdx, yaxisIdx: yaxisIdx, graphIdx: graphIdx, data: data })) : null;\r\n                });\r\n            });\r\n        }))));\r\n};\r\n//# sourceMappingURL=IndicatorsEdit.js.map","import React from \"react\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport ToggleButtonGroup from \"@mui/material/ToggleButtonGroup\";\r\nimport ToggleButton from \"@mui/material/ToggleButton\";\r\nimport Typography from \"@mui/material/Typography\";\r\nexport var ToolsSubMenu = function (props) {\r\n    var location = props.location, submenuContent = props.submenuContent, theme = props.theme, onNavigate = props.onNavigate, subCharts = props.subCharts;\r\n    var amtTools = subCharts\r\n        .map(function (subchart) { return subchart.yaxis.map(function (yaxis) { return yaxis.tools.length; }); })\r\n        .flat()\r\n        .reduce(function (acc, cur) { return acc + cur; });\r\n    return (React.createElement(Stack // menu\r\n    , { direction: \"row\", alignItems: \"center\", justifyContent: \"flex-end\", sx: { pt: 0.5 } },\r\n        submenuContent,\r\n        amtTools > 0 ? (React.createElement(ToggleButtonGroup, { value: \"toolModifyMode\", exclusive: true, size: \"small\" },\r\n            React.createElement(ToggleButton, { value: \"addTool\", sx: {\r\n                    \"&:hover\": {\r\n                        background: location === \"tools\"\r\n                            ? theme.palette.secondary.light\r\n                            : theme.palette.background.paper,\r\n                        // border: \"1px solid #333\",\r\n                        boxShadow: 3,\r\n                        backgroundImage: \"linear-gradient(rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15))\",\r\n                    },\r\n                    borderBottomLeftRadius: 50,\r\n                    textTransform: \"none\",\r\n                    borderTopLeftRadius: 50,\r\n                    background: location === \"tools\"\r\n                        ? theme.palette.secondary.light\r\n                        : theme.palette.background.paper,\r\n                    backgroundImage: \"linear-gradient(rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15))\",\r\n                }, onClick: function () {\r\n                    onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(\"tools\");\r\n                } },\r\n                React.createElement(Typography, null, \" Add\")),\r\n            React.createElement(ToggleButton, { value: \"editTool\", sx: {\r\n                    \"&:hover\": {\r\n                        background: location === \"editTool\"\r\n                            ? theme.palette.secondary.light\r\n                            : theme.palette.background.paper,\r\n                        // border: \"1px solid #333\",\r\n                        boxShadow: 3,\r\n                        backgroundImage: \"linear-gradient(rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15))\",\r\n                    },\r\n                    borderBottomRightRadius: 50,\r\n                    borderTopRightRadius: 50,\r\n                    background: location === \"editTool\"\r\n                        ? theme.palette.secondary.light\r\n                        : theme.palette.background.paper,\r\n                    backgroundImage: \"linear-gradient(rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15))\",\r\n                }, onClick: function () {\r\n                    onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(\"editTool\");\r\n                } }, \"Edit\"))) : null));\r\n};\r\n//# sourceMappingURL=ToolsSubMenu.js.map","import IconButton from \"@mui/material/IconButton\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { mdiCrop, mdiFilter, mdiRuler, mdiRulerSquareCompass, mdiSortAlphabeticalAscending, } from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport React from \"react\";\r\nimport { CTreeItem } from \"../../Components/CTreeItem\";\r\nimport { ToolsSubMenu } from \"./ToolsSubMenu\";\r\nimport { CTreeView } from \"../../Components/CTreeView\";\r\nvar categorys = [\r\n    { name: \"Lines\", icon: mdiRuler },\r\n    { name: \"Measure\", icon: mdiCrop },\r\n    { name: \"Upcoming\", icon: mdiRulerSquareCompass },\r\n];\r\nvar tools = [\r\n    { name: \"trendline\", type: \"trendline\", category: \"Lines\" },\r\n    { name: \"horizontal\", type: \"hline\", category: \"Lines\" },\r\n    { name: \"vertical\", type: \"vline\", category: \"Lines\" },\r\n];\r\nvar onToolLabelClick = function (Dispatch, type) {\r\n    var subchartIdx = 0;\r\n    var action = {\r\n        task: \"draw\",\r\n        params: { type: type, subchartIdx: subchartIdx },\r\n    };\r\n    Dispatch(action);\r\n};\r\nexport var ToolsAdd = function (props) {\r\n    var Dispatch = props.Dispatch, onNavigate = props.onNavigate, subCharts = props.subCharts;\r\n    var _a = React.useState(false), DisableGrouping = _a[0], setDisableGrouping = _a[1];\r\n    var theme = useTheme();\r\n    // console.log(tools);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(ToolsSubMenu, { subCharts: subCharts, location: \"tools\", onNavigate: onNavigate, theme: theme, submenuContent: React.createElement(React.Fragment, null,\r\n                React.createElement(IconButton, { size: \"small\", sx: { border: \"1px solid #fff\", margin: \"0px 5px 0px 0px\" }, onClick: function () { return setDisableGrouping(function (current) { return !current; }); } },\r\n                    React.createElement(Icon, { path: !DisableGrouping ? mdiSortAlphabeticalAscending : mdiFilter, size: 1, color: theme.palette.primary.contrastText }))) }),\r\n        React.createElement(CTreeView, null, !DisableGrouping\r\n            ? categorys.map(function (cat, catIdx) { return (React.createElement(CTreeItem, { key: \"cat-\".concat(catIdx), nodeId: catIdx.toString(), labelText: cat.name, labelIcon: React.createElement(\"div\", { style: {\r\n                        border: \"1px solid #666\",\r\n                        borderRadius: 5,\r\n                        marginRight: 10,\r\n                        background: theme.palette.secondary.main,\r\n                        minWidth: 32,\r\n                        height: 32,\r\n                    } },\r\n                    React.createElement(Icon, { path: cat.icon, size: \"32px\", color: theme.palette.secondary.contrastText })), bgColorSelected: theme.palette.primary.light }, tools\r\n                .filter(function (tool) { return tool.category === cat.name; })\r\n                .sort(function (a, b) { return (a.name > b.name ? 1 : -1); })\r\n                .map(function (tool, toolIdx) {\r\n                // console.log(tool);\r\n                return (React.createElement(CTreeItem, { key: \"cat-\".concat(catIdx, \"-tool-\").concat(toolIdx), nodeId: ((catIdx + 1) * 100 + (toolIdx + 1)).toString(), labelText: tool.name, typographyVariant: \"body1\", onClick: function () {\r\n                        onToolLabelClick(Dispatch, tool.type);\r\n                        onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(null);\r\n                    } }));\r\n            }))); })\r\n            : tools\r\n                .sort(function (a, b) { return (a.name > b.name ? 1 : -1); })\r\n                .map(function (tool, toolIdx) { return (React.createElement(CTreeItem, { key: \"cat-tool-\".concat(toolIdx), nodeId: (toolIdx + 1).toString(), labelText: tool.name, typographyVariant: \"body1\", onClick: function () {\r\n                    onToolLabelClick(Dispatch, tool.type);\r\n                    onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate(null);\r\n                } })); }))));\r\n};\r\n//# sourceMappingURL=ToolsAdd.js.map","import React from \"react\";\r\nimport { ChartMenuToolTreeItem } from \"../Subelements/ToolTreeItem\";\r\nimport { CTreeView } from \"../../Components/CTreeView\";\r\nimport useTheme from \"@mui/material/styles/useTheme\";\r\nimport { ToolsSubMenu } from \"./ToolsSubMenu\";\r\nexport var ToolsEdit = function (props) {\r\n    var subCharts = props.subCharts, Dispatch = props.Dispatch, onNavigate = props.onNavigate;\r\n    var theme = useTheme();\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(ToolsSubMenu, { subCharts: subCharts, location: \"editTool\", onNavigate: onNavigate, theme: theme }),\r\n        React.createElement(CTreeView, null, subCharts.map(function (subchart, subchartIdx) {\r\n            return subchart.yaxis.map(function (yaxis, yaxisIdx) {\r\n                return yaxis.tools.map(function (tool, toolIdx) { return (React.createElement(ChartMenuToolTreeItem, { key: \"editIndicator-sub-\".concat(subchartIdx, \"-yaxis-\").concat(yaxisIdx, \"-graph-\").concat(toolIdx), subCharts: subCharts, Dispatch: Dispatch, subchartIdx: subchartIdx, yaxisIdx: yaxisIdx, toolIdx: toolIdx })); });\r\n            });\r\n        }))));\r\n};\r\n//# sourceMappingURL=ToolsEdit.js.map","import React from \"react\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport { Home } from \"./Content/Home\";\r\nimport { CMSettings } from \"./Content/CMSettings\";\r\nimport { CMChart } from \"./Content/CMChart\";\r\nimport { IndicatorsAdd } from \"./Content/IndicatorsAdd\";\r\nimport { ChartMenuLayout } from \"./ChartMenuLayout\";\r\nimport { IndicatorsEdit } from \"./Content/IndicatorsEdit\";\r\nimport { ToolsAdd } from \"./Content/ToolsAdd\";\r\nimport { ToolsEdit } from \"./Content/ToolsEdit\";\r\nexport var CChartMenuComponent = function (props) {\r\n    var onClose = props.onClose, ChartMenuState = props.ChartMenuState, subCharts = props.subCharts, style = props.style, onNavigate = props.onNavigate, Dispatch = props.Dispatch, onSettingsExpand = props.onSettingsExpand, fullscreen = props.fullscreen, settings = props.settings, data = props.data;\r\n    var isDesktop = useMediaQuery(\"(min-width:600px)\");\r\n    var contentPages = [\r\n        { location: \"menu\", headerText: \"Chart Menu\", component: function () { return React.createElement(Home, { onNavigate: onNavigate }); } },\r\n        { location: \"chart\", headerText: \"Chart\", component: function () { return React.createElement(CMChart, { Dispatch: Dispatch }); } },\r\n        {\r\n            location: \"indicators\",\r\n            headerText: \"Add Indicator\",\r\n            component: function () { return (React.createElement(IndicatorsAdd, { subCharts: subCharts, onNavigate: onNavigate, location: ChartMenuState.location, Dispatch: Dispatch, settings: settings, data: data })); },\r\n        },\r\n        {\r\n            location: \"editIndicator\",\r\n            headerText: \"Edit Indicator\",\r\n            component: function () { return (React.createElement(IndicatorsEdit, { subCharts: subCharts, onNavigate: onNavigate, location: ChartMenuState.location, Dispatch: Dispatch, settings: settings, data: data })); },\r\n        },\r\n        {\r\n            location: \"tools\",\r\n            headerText: \"Add Tool\",\r\n            component: function () { return React.createElement(ToolsAdd, { subCharts: subCharts, Dispatch: Dispatch, onNavigate: onNavigate }); },\r\n        },\r\n        {\r\n            location: \"editTool\",\r\n            headerText: \"Edit Tool\",\r\n            component: function () { return (React.createElement(ToolsEdit, { subCharts: subCharts, Dispatch: Dispatch, onNavigate: onNavigate })); },\r\n        },\r\n        {\r\n            location: \"settings\",\r\n            headerText: \"Settings\",\r\n            component: function () { return (React.createElement(CMSettings, { ChartMenuState: ChartMenuState, subCharts: subCharts, style: style, Dispatch: Dispatch, onNavigate: onNavigate, onSettingsExpand: onSettingsExpand, data: data })); },\r\n        },\r\n    ];\r\n    var contentPage = contentPages.find(function (page) { return page.location === ChartMenuState.location; });\r\n    if (!ChartMenuState.location || !contentPage)\r\n        return null;\r\n    var ContentPageComponent = contentPage.component;\r\n    var headerText = contentPage.headerText;\r\n    console.log(\"Chartmenu renders\");\r\n    return (React.createElement(ChartMenuLayout, { headerText: headerText, isDesktop: isDesktop, settings: settings, location: ChartMenuState.location, onNavigate: onNavigate, Dispatch: Dispatch, fullscreen: fullscreen, onClose: onClose, content: React.createElement(ContentPageComponent, null) }));\r\n};\r\nexport var CChartMenu = React.memo(CChartMenuComponent);\r\n//# sourceMappingURL=ChartMenu.js.map","import Box from \"@mui/material/Box\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { mdiMenu } from \"@mdi/js\";\r\nimport { Icon } from \"@mdi/react\";\r\nimport React from \"react\";\r\nexport var ChartMenuButtonComponent = function (props) {\r\n    var bottomY = props.bottomY, onOpenClick = props.onOpenClick;\r\n    return (React.createElement(Box, { sx: { position: \"absolute\", top: bottomY - 48 - 10, left: 10 } },\r\n        React.createElement(Button, { color: \"primary\", variant: \"contained\", onClick: onOpenClick, sx: {\r\n                width: 48,\r\n                minWidth: 48,\r\n                // background: \"primary.main\",\r\n                height: 48,\r\n                textTransform: \"none\",\r\n                borderRadius: 2,\r\n                opacity: 0.8,\r\n                padding: 0,\r\n            } },\r\n            React.createElement(Icon, { path: mdiMenu, size: \"48px\", color: \"#fff\" }))));\r\n};\r\nexport var ChartMenuButton = React.memo(ChartMenuButtonComponent);\r\n//# sourceMappingURL=ChartMenuButton.js.map","import Button from \"@mui/material/Button\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { mdiChartBellCurve, mdiChartLine } from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport React from \"react\";\r\nimport * as T from \"../Types\";\r\nexport var GraphLabel = function (props) {\r\n    var dataset = props.dataset, name = props.name, decimals = props.decimals, onClick = props.onClick, subchartIdx = props.subchartIdx, graphIdx = props.graphIdx, graphTypes = props.graphTypes;\r\n    var handleClick = React.useCallback(function (e) {\r\n        onClick === null || onClick === void 0 ? void 0 : onClick(e, subchartIdx, graphIdx);\r\n    }, [onClick, subchartIdx, graphIdx]);\r\n    if (!dataset)\r\n        return null;\r\n    return (React.createElement(Button, { style: { textTransform: \"none\", textAlign: \"left\" }, onClick: handleClick, startIcon: React.createElement(Icon, { path: T.isIndicatorDataset(dataset) ? mdiChartBellCurve : mdiChartLine, size: 1.0 }) }, T.isIndicatorDataset(dataset) ? (React.createElement(Typography, null, \"\".concat(name, \":\").concat(dataset.prices\r\n        .map(function (price, pIdx) {\r\n        var _a, _b;\r\n        return price &&\r\n            decimals &&\r\n            [\"line\", \"bars\"].includes((_b = (_a = graphTypes === null || graphTypes === void 0 ? void 0 : graphTypes[pIdx]) === null || _a === void 0 ? void 0 : _a.type) !== null && _b !== void 0 ? _b : \"\")\r\n            ? price === null || price === void 0 ? void 0 : price.toFixed(decimals)\r\n            : null;\r\n    })\r\n        .filter(function (val) { return val !== null; })\r\n        .join(\", \") || \"\"))) : (React.createElement(Typography, { variant: \"body1\" }, T.isCandleChartDataset(dataset)\r\n        ? \"\".concat(name, \"\\n                O:\").concat(dataset.open.toFixed(decimals), \"\\n                H:\").concat(dataset.high.toFixed(decimals), \"\\n                L:\").concat(dataset.low.toFixed(decimals), \"\\n                C:\").concat(dataset.close.toFixed(decimals))\r\n        : \"\".concat(name, \"\\n                C:\").concat(dataset.close.toFixed(decimals))))));\r\n};\r\n//# sourceMappingURL=GraphLabel.js.map","import Box from \"@mui/material/Box\";\r\nimport React from \"react\";\r\nimport * as T from \"../Types\";\r\nimport { GraphLabel } from \"./GraphLabel\";\r\nexport var ChartLabels = function (props) {\r\n    var data = props.data, calcPointer = props.calcPointer, calcSubcharts = props.calcSubcharts, subcharts = props.subcharts, onGraphLabelClick = props.onGraphLabelClick;\r\n    return (React.createElement(React.Fragment, null, subcharts.map(function (subchart, sIdx) { return (React.createElement(Box, { key: \"chart-label-subarea-\".concat(sIdx), sx: {\r\n            position: \"absolute\",\r\n            top: subchart.top,\r\n        } }, subchart.yaxis[0].graphs.map(function (graph, gIdx) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\r\n        var graphData = data.find(function (val) { return val.id === graph.dataId; });\r\n        var graphDataSeries = (_a = graphData === null || graphData === void 0 ? void 0 : graphData.data) !== null && _a !== void 0 ? _a : [];\r\n        var graphDecimals = (_b = graphData === null || graphData === void 0 ? void 0 : graphData.decimals) !== null && _b !== void 0 ? _b : 0;\r\n        var calcGraph = (_f = (_e = (_d = (_c = calcSubcharts === null || calcSubcharts === void 0 ? void 0 : calcSubcharts[sIdx]) === null || _c === void 0 ? void 0 : _c.yaxis) === null || _d === void 0 ? void 0 : _d[0]) === null || _e === void 0 ? void 0 : _e.graphs) === null || _f === void 0 ? void 0 : _f[gIdx];\r\n        if (!(calcGraph === null || calcGraph === void 0 ? void 0 : calcGraph.lastDataset) || !graphData)\r\n            return null;\r\n        var name = T.isIndicatorGraph(graph) &&\r\n            graphData.type === \"indicator\" &&\r\n            graphData.indicator.params.length > 0\r\n            ? \"\".concat(graphData.indicator.name, \"(\").concat(graphData.indicator.params[0].val, \")\")\r\n            : T.isIndicatorGraph(graph) &&\r\n                graphData.type === \"indicator\" &&\r\n                graphData.indicator.params.length === 0\r\n                ? \"\".concat(graphData.indicator.name)\r\n                : graphData.name;\r\n        var tmpDataset = (calcPointer.isHovering &&\r\n            sIdx === (calcPointer === null || calcPointer === void 0 ? void 0 : calcPointer.move.subchartIdx) &&\r\n            ((_h = (_g = calcPointer === null || calcPointer === void 0 ? void 0 : calcPointer.move.snapDatasets) === null || _g === void 0 ? void 0 : _g[0]) === null || _h === void 0 ? void 0 : _h.graphIdx) === gIdx\r\n            ? (_l = (_k = (_j = calcPointer === null || calcPointer === void 0 ? void 0 : calcPointer.move) === null || _j === void 0 ? void 0 : _j.snapDatasets) === null || _k === void 0 ? void 0 : _k[0]) === null || _l === void 0 ? void 0 : _l.data\r\n            : calcPointer.isHovering && calcPointer.move.x !== null\r\n                ? graphDataSeries[calcPointer === null || calcPointer === void 0 ? void 0 : calcPointer.move.x]\r\n                : calcGraph.lastDataset.data) || calcGraph.lastDataset.data;\r\n        return (React.createElement(GraphLabel, { key: \"chart-label-\".concat(sIdx, \"-\").concat(gIdx), onClick: onGraphLabelClick, subchartIdx: sIdx, graphIdx: gIdx, name: name, dataset: tmpDataset, decimals: T.isIndicatorGraph(graph) &&\r\n                graphData.type === \"indicator\" &&\r\n                graphData.indicator.default.decimals !== undefined\r\n                ? graphData.indicator.default.decimals\r\n                : graphDecimals, graphTypes: (graphData === null || graphData === void 0 ? void 0 : graphData.type) === \"indicator\"\r\n                ? (_m = graphData === null || graphData === void 0 ? void 0 : graphData.indicator) === null || _m === void 0 ? void 0 : _m.graphTypes\r\n                : undefined }));\r\n    }))); })));\r\n};\r\n//# sourceMappingURL=ChartLabels.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport React from \"react\";\r\nimport { isNullish } from \"../utils/Basics\";\r\nimport { defaultTools } from \"./DefaultTools\";\r\nexport var DrawTool = function (props) {\r\n    var _a, _b, _c;\r\n    var subcharts = props.subcharts, draw = props.draw, calc = props.calc, containerSize = props.containerSize, drawStyle = props.drawStyle;\r\n    var calcPointer = calc.pointer, calcSubcharts = calc.subcharts, calcXaxis = calc.xaxis, yToPix = calc.yToPix, pixToY = calc.pixToY;\r\n    var xToPix = calcXaxis.xToPix;\r\n    var drawElementType = (draw.isDrawing && draw.type) || null;\r\n    var drawElementModel = defaultTools.find(function (defTool) { return defTool.type === drawElementType; });\r\n    var DrawTool = drawElementModel === null || drawElementModel === void 0 ? void 0 : drawElementModel.component;\r\n    var additionalDrawToolProps = {};\r\n    (_a = drawElementModel === null || drawElementModel === void 0 ? void 0 : drawElementModel.params) === null || _a === void 0 ? void 0 : _a.forEach(function (param) {\r\n        additionalDrawToolProps[param.name] = param.val;\r\n    });\r\n    //   const calc = ChartState.calc;\r\n    var pixYSnap = (_c = (_b = calcPointer === null || calcPointer === void 0 ? void 0 : calcPointer.move.snapDatasets) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c.pixYSnap;\r\n    var subchartIdx = calcPointer.move.subchartIdx;\r\n    var drawPixXy = React.useMemo(function () {\r\n        return !isNullish(subchartIdx)\r\n            ? __spreadArray(__spreadArray([], draw.xy.map(function (xy) {\r\n                return xToPix && yToPix ? [xToPix(xy[0]), yToPix(xy[1], subchartIdx, 0)] : xy;\r\n            }), true), [\r\n                [\r\n                    calcPointer.move.x && xToPix ? xToPix === null || xToPix === void 0 ? void 0 : xToPix(calcPointer.move.x) : calcPointer.move.pixX,\r\n                    pixYSnap ? pixYSnap : calcPointer.move.pixY,\r\n                ],\r\n            ], false) : [];\r\n    }, [calcPointer.move.x, draw.xy, pixYSnap, calcPointer.move.pixX, calcPointer.move.pixY, subchartIdx, xToPix, yToPix]);\r\n    return ((draw.isDrawing &&\r\n        DrawTool &&\r\n        !isNullish(subchartIdx) && (React.createElement(DrawTool, __assign({ subcharts: subcharts, subchartIdx: subchartIdx, xy: draw.xy, drawPixXy: drawPixXy, containerSize: containerSize, calcXaxis: calcXaxis, calcSubcharts: calcSubcharts, yToPix: yToPix, pixToY: pixToY, style: drawStyle }, additionalDrawToolProps)))) ||\r\n        null);\r\n};\r\n//# sourceMappingURL=DrawTool.js.map","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport React from \"react\";\r\nimport { ConditionalMuiThemeProvider, muiDarkTheme, muiTheme, } from \"./MuiTheme\";\r\n// import { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\nimport Backdrop from \"@mui/material/Backdrop\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport { Stage, Layer, Rect } from \"react-konva\";\r\nimport { CCandleChart, CLineChart, CBarChart, Crosshair, Xaxis, Yaxis, Marker, } from \"./Canvas\";\r\nimport { CChartMenu } from \"./Menu/ChartMenu\";\r\nimport { ChartMenuButton } from \"./Menu/ChartMenuButton\";\r\nimport { isNullish } from \"./utils/Basics\";\r\nimport { defaultTools } from \"./Tools/DefaultTools\"; // currently not expandable\r\nimport { ChartLabels } from \"./Dom/ChartLabels\";\r\nimport { DrawTool } from \"./Tools/DrawTool\";\r\nimport * as T from \"./Types\";\r\n;\r\nimport { css, Global } from \"@emotion/react\";\r\nexport var CChart = React.forwardRef(function (props, ref) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n    var settings = props.settings, ChartState = props.ChartState, Dispatch = props.Dispatch, _k = props.rtTicks, rtTicks = _k === void 0 ? [] : _k;\r\n    var disableTheme = settings.disableTheme;\r\n    var Settings = React.useRef(settings);\r\n    var _l = React.useState({\r\n        location: null,\r\n        expandedSetting: [],\r\n    }), ChartMenu2Open = _l[0], setChartMenu2Open = _l[1];\r\n    var handleRequestMenuOpen = React.useCallback(function () {\r\n        setChartMenu2Open(function (current) { return (__assign(__assign({}, current), { location: \"menu\" })); });\r\n    }, []);\r\n    var handleRequestMenuClose = React.useCallback(function () {\r\n        setChartMenu2Open(function (current) { return (__assign(__assign({}, current), { location: null })); });\r\n    }, []);\r\n    var handleRequestMenuNavigation = React.useCallback(function (target) {\r\n        setChartMenu2Open(function (current) { return (__assign(__assign({}, current), { location: target })); });\r\n    }, []);\r\n    var handleToggleExpanded = React.useCallback(function (id) {\r\n        setChartMenu2Open(function (current) {\r\n            return current.expandedSetting.includes(id)\r\n                ? __assign(__assign({}, current), { expandedSetting: current.expandedSetting.filter(function (val) { return val !== id; }) }) : __assign(__assign({}, current), { expandedSetting: __spreadArray(__spreadArray([], current.expandedSetting, true), [id], false) });\r\n        });\r\n    }, []);\r\n    var handleChartLabelClick = React.useCallback(function (event, subchartIdx, graphIdx) {\r\n        if (isNullish(subchartIdx) || isNullish(graphIdx))\r\n            return;\r\n        setChartMenu2Open({\r\n            location: \"settings\",\r\n            expandedSetting: [\r\n                \"graph-sub-\".concat(subchartIdx, \"-y-0-graph-\").concat(graphIdx),\r\n                \"sub-\".concat(subchartIdx),\r\n            ],\r\n        });\r\n    }, []);\r\n    // console.log(ChartState);\r\n    var darkMode = ChartState.style.isDarkMode;\r\n    var mainGraph = (_e = (_d = (_c = (_b = (_a = ChartState === null || ChartState === void 0 ? void 0 : ChartState.subCharts) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.yaxis) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? void 0 : _d.graphs) === null || _e === void 0 ? void 0 : _e[0];\r\n    var MainChart = (mainGraph === null || mainGraph === void 0 ? void 0 : mainGraph.chartType) === \"candles\" ? CCandleChart : CLineChart;\r\n    var isContainerInit = ChartState.containerSize.init;\r\n    var heightXAxis = ChartState.style.xaxis.heightXAxis;\r\n    var containerWidth = ChartState.containerSize.width - 1;\r\n    var containerHeight = ChartState.containerSize.height - 1;\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Global, { styles: css(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n          .ChartContainer {\\n            box-sizing: border-box;\\n            position: relative;\\n            top: 0;\\n            z-index: 1000;\\n            width: 100%;\\n            height: 100%;\\n            background: \", \";\\n          }\\n          .ChartKonvaStage {\\n            width: 100%;\\n            height: 100%;\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n          }\\n        \"], [\"\\n          .ChartContainer {\\n            box-sizing: border-box;\\n            position: relative;\\n            top: 0;\\n            z-index: 1000;\\n            width: 100%;\\n            height: 100%;\\n            background: \", \";\\n          }\\n          .ChartKonvaStage {\\n            width: 100%;\\n            height: 100%;\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n          }\\n        \"])), ChartState.style.backgroundColor) }),\r\n        React.createElement(ConditionalMuiThemeProvider, { theme: darkMode ? muiDarkTheme : muiTheme, disableTheme: disableTheme },\r\n            React.createElement(\"div\", { ref: ref, className: \"ChartContainer\" }, !mainGraph || !MainChart || !isContainerInit ? (React.createElement(\"div\", { style: {\r\n                    height: \"100%\",\r\n                    background: ChartState.style.backgroundColor,\r\n                } },\r\n                React.createElement(Backdrop, { sx: { color: \"primary.main\" }, open: true, invisible: true },\r\n                    React.createElement(Typography, { variant: \"h6\", component: \"div\" }, \"Chart data is loaded..\"),\r\n                    React.createElement(CircularProgress, { color: \"inherit\" })))) : (React.createElement(React.Fragment, null,\r\n                React.createElement(Stage //konva container\r\n                , { width: ChartState.containerSize.width, height: ChartState.containerSize.height, className: \"ChartKonvaStage\", listening: false },\r\n                    React.createElement(Layer, { listening: false },\r\n                        React.createElement(Rect, { name: \"xaxis-rect\", listening: false, x: 0 + 0.5, y: containerHeight - heightXAxis + 0.5, width: containerWidth, height: heightXAxis, fill: ChartState.style.xaxis.fillColor, stroke: ChartState.style.borderColor, strokeWidth: 1 }),\r\n                        ChartState.subCharts.map(function (subchart, subchartIdx) { return (React.createElement(React.Fragment, { key: \"subchart-border-\".concat(subchartIdx) },\r\n                            React.createElement(Rect, { name: \"subchart rect \" + subchartIdx, listening: false, x: 0 + 0.5, y: subchart.top + 0.5, width: containerWidth, height: subchart.bottom - subchart.top, stroke: ChartState.style.borderColor, strokeWidth: 1 }))); })),\r\n                    React.createElement(Layer, { listening: false },\r\n                        0 in ChartState.subCharts ? (React.createElement(MainChart, { subCharts: ChartState.subCharts, calcXaxis: ChartState.calc.xaxis, calcSubcharts: ChartState.calc.subcharts, yToPix: ChartState.calc.yToPix, pixToY: ChartState.calc.pixToY, subchartIdx: 0, yaxisIdx: 0, graphIdx: 0 })) : null,\r\n                        ChartState.subCharts.map(function (subchart, subchartIdx) {\r\n                            return subchart.yaxis.map(function (singleYaxis, yaxisIdx) {\r\n                                return singleYaxis.graphs.map(function (graph, graphIdx) {\r\n                                    var _a, _b, _c, _d, _e, _f;\r\n                                    // const a = ChartState.calc.subcharts[subchartIdx].yaxis[yaxisIdx].graphs[graphIdx]?.curTicks;\r\n                                    // const b = !!a ? a.length : 0;\r\n                                    var dataGraph = ChartState.data.find(function (val) { return val.id === graph.dataId; });\r\n                                    if (T.isIndicatorGraph(graph) &&\r\n                                        (dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.type) === \"indicator\" &&\r\n                                        ((_b = (_a = dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.data) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) > 0) {\r\n                                        var indicatorLines = (_f = (_e = dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.data[((_d = (_c = dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.data) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) - 1]) === null || _e === void 0 ? void 0 : _e.prices) !== null && _f !== void 0 ? _f : [];\r\n                                        return indicatorLines.map(function (indiLine, indiLineIdx) {\r\n                                            var _a, _b, _c, _d, _e, _f, _g;\r\n                                            var indicatorType = (_c = (_b = (_a = dataGraph.indicator.graphTypes) === null || _a === void 0 ? void 0 : _a[indiLineIdx]) === null || _b === void 0 ? void 0 : _b.type) !== null && _c !== void 0 ? _c : \"line\";\r\n                                            var CanvasChart = indicatorType === \"line\"\r\n                                                ? CLineChart\r\n                                                : indicatorType === \"bars\"\r\n                                                    ? CBarChart\r\n                                                    : null;\r\n                                            // if (dataGraph.indicator.name === \"MACD\") console.log(\"MACD\", !CanvasChart);\r\n                                            if (!CanvasChart)\r\n                                                return null;\r\n                                            var areaTresholdPropIdx = (_e = (_d = dataGraph.indicator.default) === null || _d === void 0 ? void 0 : _d.graphProps) === null || _e === void 0 ? void 0 : _e.findIndex(function (val) { return val.name === \"areaTresholds\"; });\r\n                                            var addLineAreaParams = indicatorType === \"line\" &&\r\n                                                !isNullish(areaTresholdPropIdx) &&\r\n                                                areaTresholdPropIdx !== -1\r\n                                                ? {\r\n                                                    areaTresholds: (_g = (_f = dataGraph.indicator.default) === null || _f === void 0 ? void 0 : _f.graphProps) === null || _g === void 0 ? void 0 : _g[areaTresholdPropIdx].val,\r\n                                                }\r\n                                                : {};\r\n                                            return (React.createElement(CanvasChart, __assign({ key: \"\".concat(indicatorType, \"-chart-s\").concat(subchartIdx, \"-y0-g\").concat(graphIdx, \"-l\").concat(indiLineIdx), subCharts: ChartState.subCharts, subchartIdx: subchartIdx, yaxisIdx: 0, graphIdx: graphIdx, indSeriesIdx: indiLineIdx, calcXaxis: ChartState.calc.xaxis, calcSubcharts: ChartState.calc.subcharts, yToPix: ChartState.calc.yToPix, pixToY: ChartState.calc.pixToY }, addLineAreaParams)));\r\n                                        });\r\n                                    }\r\n                                    return null;\r\n                                });\r\n                            });\r\n                        }),\r\n                        React.createElement(Xaxis, { calcXaxis: ChartState.calc.xaxis, containerSize: ChartState.containerSize, style: ChartState.style }),\r\n                        React.createElement(Yaxis, { calcSubcharts: ChartState.calc.subcharts, containerSize: ChartState.containerSize, style: ChartState.style, subcharts: ChartState.subCharts })),\r\n                    React.createElement(Layer, { listening: false },\r\n                        React.createElement(Marker, { rtTicks: rtTicks, style: ChartState.style, containerSize: ChartState.containerSize, xaxis: ChartState.calc.xaxis }),\r\n                        ChartState.subCharts.map(function (subchart, sIdx) {\r\n                            return subchart.yaxis.map(function (yaxis, yIdx) {\r\n                                return yaxis.graphs.map(function (graph, gIdx) {\r\n                                    var _a, _b, _c, _d, _e;\r\n                                    if (graph.type === \"indicator\") {\r\n                                        var dataGraph_1 = ChartState.data.find(function (val) { return val.id === graph.dataId; });\r\n                                        var rtIdx_1 = rtTicks.findIndex(function (rtTick) { return rtTick.dataId === (dataGraph_1 === null || dataGraph_1 === void 0 ? void 0 : dataGraph_1.id); });\r\n                                        if (rtIdx_1 === -1)\r\n                                            return null;\r\n                                        if ((dataGraph_1 === null || dataGraph_1 === void 0 ? void 0 : dataGraph_1.type) !== \"indicator\" ||\r\n                                            ((_b = (_a = dataGraph_1 === null || dataGraph_1 === void 0 ? void 0 : dataGraph_1.data) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) === 0)\r\n                                            return null;\r\n                                        var indicatorLines = (_c = dataGraph_1 === null || dataGraph_1 === void 0 ? void 0 : dataGraph_1.indicator) === null || _c === void 0 ? void 0 : _c.graphTypes;\r\n                                        return indicatorLines.map(function (line, lIdx) {\r\n                                            var _a, _b, _c, _d, _e;\r\n                                            var indicatorType = (_c = (_b = (_a = dataGraph_1.indicator.graphTypes) === null || _a === void 0 ? void 0 : _a[lIdx]) === null || _b === void 0 ? void 0 : _b.type) !== null && _c !== void 0 ? _c : \"line\";\r\n                                            var CanvasChart = indicatorType === \"line\"\r\n                                                ? CLineChart\r\n                                                : indicatorType === \"bars\"\r\n                                                    ? CBarChart\r\n                                                    : null;\r\n                                            if (!CanvasChart)\r\n                                                return null;\r\n                                            return (React.createElement(CanvasChart, { key: \"rtBars-s\".concat(sIdx, \"-y\").concat(yIdx, \"-g\").concat(gIdx, \"-l\").concat(lIdx), subCharts: ChartState.subCharts, subchartIdx: sIdx, yaxisIdx: yIdx, graphIdx: gIdx, indSeriesIdx: lIdx, calcXaxis: ChartState.calc.xaxis, calcSubcharts: ChartState.calc.subcharts, yToPix: ChartState.calc.yToPix, pixToY: ChartState.calc.pixToY, rtTicks: (_e = (_d = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[rtIdx_1]) === null || _d === void 0 ? void 0 : _d.ticks) !== null && _e !== void 0 ? _e : undefined }));\r\n                                        });\r\n                                    }\r\n                                    else if (graph.type === \"chart\") {\r\n                                        var CanvasChart = graph.chartType === \"candles\"\r\n                                            ? CCandleChart\r\n                                            : graph.chartType === \"line\"\r\n                                                ? CLineChart\r\n                                                : null;\r\n                                        if (!CanvasChart)\r\n                                            return null;\r\n                                        return (React.createElement(CanvasChart, { key: \"rtBars-s\".concat(sIdx, \"-y\").concat(yIdx, \"-g\").concat(gIdx), subCharts: ChartState.subCharts, subchartIdx: sIdx, yaxisIdx: yIdx, graphIdx: gIdx, calcXaxis: ChartState.calc.xaxis, calcSubcharts: ChartState.calc.subcharts, rtTicks: (_e = (_d = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _d === void 0 ? void 0 : _d.ticks) !== null && _e !== void 0 ? _e : undefined }));\r\n                                    }\r\n                                    return null;\r\n                                });\r\n                            });\r\n                        })),\r\n                    React.createElement(Layer, { listening: false }, ((_f = ChartState.calc.xaxis) === null || _f === void 0 ? void 0 : _f.xToPix) &&\r\n                        !!ChartState.calc.yToPix &&\r\n                        ChartState.subCharts.map(function (subchart, subchartIdx) {\r\n                            return subchart.yaxis.map(function (yaxis, yaxisIdx) {\r\n                                return yaxis.tools.map(function (tool, toolIdx) {\r\n                                    var _a;\r\n                                    var toolModel = defaultTools.find(function (defTool) { return defTool.type === tool.type; });\r\n                                    var additionalProps = {};\r\n                                    (_a = tool.params) === null || _a === void 0 ? void 0 : _a.forEach(function (param) {\r\n                                        additionalProps[param.name] = param.val;\r\n                                    });\r\n                                    var Tool = toolModel ? toolModel.component : null;\r\n                                    return !Tool || !toolModel ? null : (React.createElement(Tool, __assign({ key: \"trendline-sub-0-y-0-tool-\".concat(toolIdx), \r\n                                        // tool={toolState}\r\n                                        subcharts: ChartState.subCharts, \r\n                                        // draw={ChartState.draw}\r\n                                        subchartIdx: subchartIdx, \r\n                                        // yaxisIdx={0}\r\n                                        // toolIdx={toolIdx}\r\n                                        xy: tool.xy, containerSize: ChartState.containerSize, calcXaxis: ChartState.calc.xaxis, calcSubcharts: ChartState.calc.subcharts, yToPix: ChartState.calc.yToPix, pixToY: ChartState.calc.pixToY, style: tool.style }, additionalProps)));\r\n                                });\r\n                            });\r\n                        })),\r\n                    React.createElement(Layer, { listening: false },\r\n                        !!ChartState.calc.pointer.isHovering &&\r\n                            !Settings.current.disablePointerEvents &&\r\n                            ChartState.style.crosshair.useCrosshair ? (React.createElement(Crosshair, { subcharts: ChartState.subCharts, data: ChartState.data, containerSize: ChartState.containerSize, calcPointer: ChartState.calc.pointer, calcXaxis: ChartState.calc.xaxis, style: ChartState.style, pixToY: ChartState.calc.pixToY, rtTicks: rtTicks, calcSubcharts: ChartState.calc.subcharts })) : null,\r\n                        React.createElement(DrawTool, { subcharts: ChartState.subCharts, containerSize: ChartState.containerSize, draw: ChartState.draw, calc: ChartState.calc, drawStyle: ChartState.style.draw }))),\r\n                React.createElement(ChartLabels, { data: ChartState.data, subcharts: ChartState.subCharts, calcPointer: ChartState.calc.pointer, calcSubcharts: ChartState.calc.subcharts, onGraphLabelClick: handleChartLabelClick }),\r\n                React.createElement(ChartMenuButton, { bottomY: (_j = (_h = (_g = ChartState.subCharts) === null || _g === void 0 ? void 0 : _g[ChartState.subCharts.length - 1]) === null || _h === void 0 ? void 0 : _h.bottom) !== null && _j !== void 0 ? _j : 0, onOpenClick: handleRequestMenuOpen }),\r\n                React.createElement(CChartMenu, { ChartMenuState: ChartMenu2Open, onClose: handleRequestMenuClose, onNavigate: handleRequestMenuNavigation, subCharts: ChartState.subCharts, xaxis: ChartState.calc.xaxis, style: ChartState.style, fullscreen: ChartState.fullscreen, Dispatch: Dispatch, onSettingsExpand: handleToggleExpanded, settings: Settings.current, data: ChartState.data })))))));\r\n});\r\nCChart.displayName = \"CChart\";\r\nvar templateObject_1;\r\n//# sourceMappingURL=CChart.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { isNullish } from \"../../utils/Basics\";\r\nimport { getDefaultGraphStyle } from \"../Defaults\";\r\nexport var createSubChartModel = function (params) {\r\n    var top = params.top, bottom = params.bottom, yaxisParams = __rest(params, [\"top\", \"bottom\"]);\r\n    var yaxis = createYaxisModel(yaxisParams);\r\n    if (!yaxis)\r\n        return null;\r\n    return {\r\n        yaxis: [yaxis],\r\n        top: top,\r\n        bottom: bottom,\r\n    };\r\n};\r\nexport var createYaxisModel = function (params) {\r\n    var dataId = params.dataId, style = params.style, indicator = params.indicator, type = params.type;\r\n    if (type === \"indicator\" && !indicator /*|| !indSrcId*/)\r\n        return null;\r\n    var graph = type === \"indicator\" && !!indicator //&& !!indSrcId\r\n        ? createIndicatorGraphModel({\r\n            dataId: dataId,\r\n            style: style,\r\n        })\r\n        : createChartGraphModel({ dataId: dataId, style: style });\r\n    return {\r\n        graphs: [graph],\r\n        tools: [],\r\n    };\r\n};\r\nexport var createChartGraphModel = function (params) {\r\n    var dataId = params.dataId, style = params.style;\r\n    return {\r\n        style: style,\r\n        type: \"chart\",\r\n        chartType: \"candles\",\r\n        dataId: dataId,\r\n    };\r\n};\r\nexport var createIndicatorGraphModel = function (params) {\r\n    var dataId = params.dataId, style = params.style;\r\n    return {\r\n        // name: indicator.name,\r\n        type: \"indicator\",\r\n        dataId: dataId,\r\n        style: style,\r\n    };\r\n};\r\nexport var swapSubcharts = function (current, params) {\r\n    var subchartIdx1 = params.subchartIdx1, subchartIdx2 = params.subchartIdx2;\r\n    var lowerIdx = subchartIdx1 <= subchartIdx2 ? subchartIdx1 : subchartIdx2;\r\n    var higherIdx = subchartIdx1 > subchartIdx2 ? subchartIdx1 : subchartIdx2;\r\n    var subchart1 = current.subCharts[lowerIdx];\r\n    var subchart2 = current.subCharts[higherIdx];\r\n    var height1 = subchart1.bottom - subchart1.top;\r\n    var height2 = subchart2.bottom - subchart2.top;\r\n    var dHeight21 = height2 - height1;\r\n    return lowerIdx === higherIdx || isNullish(lowerIdx) || isNullish(higherIdx) || higherIdx >= current.subCharts.length\r\n        ? current\r\n        : __assign(__assign({}, current), { subCharts: __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], current.subCharts.slice(0, lowerIdx), true), [\r\n                __assign(__assign({}, subchart2), { bottom: subchart1.top + height2, top: subchart1.top })\r\n            ], false), current.subCharts\r\n                .slice(lowerIdx + 1, higherIdx)\r\n                .map(function (sub, sIdx) { return (__assign(__assign({}, sub), { top: sub.top + dHeight21, bottom: sub.bottom + dHeight21 })); }), true), [\r\n                __assign(__assign({}, subchart1), { top: subchart2.top + dHeight21, bottom: subchart2.bottom })\r\n            ], false), current.subCharts.slice(higherIdx + 1), true) });\r\n};\r\nexport var resizeSubcharts = function (params) {\r\n    var subCharts = params.subCharts, removeSubchartIdx = params.removeSubchartIdx, addSubchart = params.addSubchart, subchartsHeight = params.subchartsHeight;\r\n    var defaultMainHeight = 250;\r\n    var defaultSubHeight = 150;\r\n    var newData = addSubchart === null || addSubchart === void 0 ? void 0 : addSubchart.data;\r\n    var subchartsDeleted = isNullish(removeSubchartIdx)\r\n        ? subCharts\r\n        : __spreadArray(__spreadArray([], subCharts.slice(0, removeSubchartIdx), true), subCharts.slice(removeSubchartIdx + 1), true);\r\n    var amtNewSubcharts = subchartsDeleted.length + (addSubchart ? 1 : 0);\r\n    var currentSubchartHeights = subchartsDeleted.map(function (subchart, sIdx) {\r\n        return subchart.bottom - subchart.top > 0\r\n            ? subchart.bottom - subchart.top\r\n            : sIdx === 0\r\n                ? subchartsHeight - (amtNewSubcharts - 1) * defaultSubHeight\r\n                : defaultSubHeight;\r\n    });\r\n    var curComplSubchartHeights = addSubchart ? __spreadArray(__spreadArray([], currentSubchartHeights, true), [defaultSubHeight], false) : currentSubchartHeights;\r\n    var curSecondarySubHeight = curComplSubchartHeights.slice(1).reduce(function (acc, cur) { return acc + cur; }, 0);\r\n    var optHeight = defaultMainHeight + curSecondarySubHeight;\r\n    if (subchartsHeight >= optHeight) {\r\n        var distributable = subchartsHeight - curComplSubchartHeights[0] - curSecondarySubHeight;\r\n        var refillables_1 = curComplSubchartHeights.map(function (h, hIdx) {\r\n            return Math.max((hIdx === 0 ? defaultMainHeight : defaultSubHeight) - h, 0);\r\n        });\r\n        var refillableHeight = refillables_1.reduce(function (acc, cur) { return acc + cur; }, 0);\r\n        var fulfillFactor_1 = refillableHeight === 0 ? 0 : distributable >= refillableHeight ? 1 : distributable / refillableHeight;\r\n        var refilledHeights_1 = curComplSubchartHeights.map(function (h, hIdx) { return h + Math.floor(fulfillFactor_1 * refillables_1[hIdx]); });\r\n        var sumRefilledSecondaryHeights_1 = refilledHeights_1.slice(1).reduce(function (acc, cur) { return acc + cur; }, 0);\r\n        // console.log(\"refilled Heights: \", refilledHeights);\r\n        // const restForSecondarys = subchartsHeight - defaultMainHeight - curSecondarySubHeight;\r\n        // const refillableSecondarays = curComplSubchartHeights.slice(1).map((h) => Math.max(defaultSubHeight - h, 0));\r\n        // const refillableSecHeight = refillableSecondarays.reduce((acc, cur) => acc + cur);\r\n        // const partlyFulfill = restForSecondarys >= refillableSecHeight ? 1 : restForSecondarys / refillableSecHeight;\r\n        // const refilledSecSubHeights = curComplSubchartHeights\r\n        //   .slice(1)\r\n        //   .map((h) => Math.floor(h + partlyFulfill * Math.max(defaultSubHeight - h, 0)));\r\n        // const sumRefilledSecSubHeights = refilledSecSubHeights.reduce((acc, cur) => acc + cur);\r\n        var resizedSubcharts = subchartsDeleted.reduce(function (acc, cur, idx) {\r\n            return idx === 0\r\n                ? [__assign(__assign({}, cur), { top: 0, bottom: subchartsHeight - sumRefilledSecondaryHeights_1 })]\r\n                : __spreadArray(__spreadArray([], acc, true), [\r\n                    __assign(__assign({}, cur), { top: acc[acc.length - 1].bottom, bottom: acc[acc.length - 1].bottom + refilledHeights_1[idx] }),\r\n                ], false);\r\n        }, []);\r\n        var indicatorLines = !!newData && newData.type === \"indicator\" ? newData.indicator.graphTypes.length : undefined;\r\n        console.log(indicatorLines);\r\n        var newSubchart = (!newData || resizedSubcharts.length === 0\r\n            ? []\r\n            : [\r\n                createSubChartModel({\r\n                    top: resizedSubcharts[resizedSubcharts.length - 1].bottom,\r\n                    bottom: subchartsHeight,\r\n                    dataId: newData.id,\r\n                    style: getDefaultGraphStyle(newData.type, addSubchart.darkMode, undefined, indicatorLines),\r\n                    indicator: newData.type === \"indicator\" ? newData.indicator : undefined,\r\n                    type: newData.type,\r\n                }),\r\n            ]).filter(function (val) { return val !== null; });\r\n        return __spreadArray(__spreadArray([], resizedSubcharts, true), newSubchart, true);\r\n    }\r\n    else {\r\n        var shrink_1 = subchartsHeight / (curComplSubchartHeights[0] + curSecondarySubHeight); // /optHeight;\r\n        var shrinkedSecondarySubHeights_1 = curComplSubchartHeights\r\n            .slice(1)\r\n            .map(function (height) { return Math.min(Math.ceil(height * shrink_1), 150); });\r\n        var sumShrinkedSecSubHeights_1 = shrinkedSecondarySubHeights_1.reduce(function (acc, cur) { return acc + cur; });\r\n        var resizedSubcharts = subchartsDeleted.reduce(function (acc, cur, idx) {\r\n            return idx === 0\r\n                ? [\r\n                    __assign(__assign({}, cur), { top: 0, bottom: subchartsHeight - sumShrinkedSecSubHeights_1 }),\r\n                ]\r\n                : __spreadArray(__spreadArray([], acc, true), [\r\n                    __assign(__assign({}, cur), { top: acc[acc.length - 1].bottom, bottom: acc[acc.length - 1].bottom + shrinkedSecondarySubHeights_1[idx - 1] }),\r\n                ], false);\r\n        }, []);\r\n        var indicatorLines = !!newData && newData.type === \"indicator\" ? newData.indicator.graphTypes.length : undefined;\r\n        var newSubchart = (!newData || resizedSubcharts.length === 0\r\n            ? []\r\n            : [\r\n                createSubChartModel({\r\n                    top: resizedSubcharts[resizedSubcharts.length - 1].bottom,\r\n                    bottom: subchartsHeight,\r\n                    dataId: newData.id,\r\n                    style: getDefaultGraphStyle(newData.type, addSubchart.darkMode, undefined, indicatorLines),\r\n                    indicator: newData.type === \"indicator\" ? newData.indicator : undefined,\r\n                    type: newData.type,\r\n                }),\r\n            ]).filter(function (val) { return val !== null; });\r\n        return __spreadArray(__spreadArray([], resizedSubcharts, true), newSubchart, true);\r\n    }\r\n};\r\n//# sourceMappingURL=SubchartFactory.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { resizeSubcharts } from \"./Reducer/SubchartFactory\";\r\nimport { snapToolsByXy } from \"./utils/Utils\";\r\nvar snapSubchartByBottom = function (pixXy, subcharts, snapTolPix) {\r\n    if (!pixXy)\r\n        return null;\r\n    var snapTolPixInt = snapTolPix !== null && snapTolPix !== void 0 ? snapTolPix : 10;\r\n    var activeSubchart = subcharts.find(function (val) {\r\n        return pixXy[1] >= val.bottom - snapTolPixInt &&\r\n            pixXy[1] < val.bottom + snapTolPixInt;\r\n    });\r\n    if (!activeSubchart)\r\n        return null;\r\n    var activeIdx = subcharts.indexOf(activeSubchart);\r\n    if (activeIdx === -1)\r\n        return null;\r\n    return activeIdx;\r\n};\r\nvar getDragAction = function (PreState, subcharts, isDrawing, xaxisHeight) {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    var calc = PreState.calc, containerSize = PreState.containerSize, stateControl = PreState.stateControl, pointer = PreState.pointer;\r\n    var xaxis = calc.xaxis;\r\n    var interactiveUpdates = stateControl.shallUpdate, prevAction = stateControl.prevAction;\r\n    var canvasWidth = containerSize.width, containerHeight = containerSize.height;\r\n    var prevDragAction = prevAction === null || prevAction === void 0 ? void 0 : prevAction.drag;\r\n    var canvasHeight = containerHeight - xaxisHeight;\r\n    var isDragStart = pointer.drag.first;\r\n    var isDragEnd = pointer.drag.last;\r\n    var isDragging = pointer.drag.isDragging;\r\n    var shallUpdateDragAction = (!!((_b = (_a = pointer.drag) === null || _a === void 0 ? void 0 : _a.delta) === null || _b === void 0 ? void 0 : _b[0]) || !!((_d = (_c = pointer.drag) === null || _c === void 0 ? void 0 : _c.delta) === null || _d === void 0 ? void 0 : _d[1])) &&\r\n        !((_e = pointer.drag) === null || _e === void 0 ? void 0 : _e.first) &&\r\n        interactiveUpdates.includes(\"drag\");\r\n    var doContinuePrevAction = [\"drawTool\", \"editTool\", \"resizeSubchart\"].includes((_f = prevDragAction === null || prevDragAction === void 0 ? void 0 : prevDragAction.type) !== null && _f !== void 0 ? _f : \"\") ||\r\n        ([\"translate\", \"scale\"].includes((_g = prevDragAction === null || prevDragAction === void 0 ? void 0 : prevDragAction.type) !== null && _g !== void 0 ? _g : \"\") &&\r\n            !pointer.drag.last);\r\n    if (doContinuePrevAction && prevDragAction)\r\n        return __assign(__assign({}, prevDragAction), { shallUpdate: shallUpdateDragAction, start: false, end: isDragEnd });\r\n    if (isDragging && isDrawing)\r\n        return {\r\n            type: \"drawTool\",\r\n            start: true,\r\n            end: false,\r\n            shallUpdate: true,\r\n        };\r\n    if (isDragging && !isDrawing) {\r\n        var dragInitXy = pointer.drag.initial;\r\n        var resizeSubchartIdx = snapSubchartByBottom(dragInitXy, subcharts);\r\n        var isResizeSubchartAction = resizeSubchartIdx !== null && resizeSubchartIdx !== subcharts.length - 1;\r\n        if (isResizeSubchartAction)\r\n            return {\r\n                type: \"resizeSubchart\",\r\n                start: isDragStart,\r\n                end: isDragEnd,\r\n                subchartIdx: resizeSubchartIdx,\r\n                bottomInitY: subcharts[resizeSubchartIdx].bottom,\r\n                shallUpdate: true,\r\n            };\r\n        var selTools = snapToolsByXy(dragInitXy, subcharts, xaxis, calc); //only initially -> tool xy is changed by editing but dragInitXy isnt adjusted!\r\n        if (selTools.length > 0) {\r\n            var _h = selTools[0], subchartIdx = _h.subchartIdx, yaxisIdx = _h.yaxisIdx, toolIdx = _h.toolIdx, toolPtIdx = _h.toolPtIdx;\r\n            var toolInitXy = subcharts[subchartIdx].yaxis[yaxisIdx].tools[toolIdx].xy[toolPtIdx];\r\n            return {\r\n                type: \"editTool\",\r\n                start: isDragStart,\r\n                end: isDragEnd,\r\n                subchartIdx: subchartIdx,\r\n                yaxisIdx: yaxisIdx,\r\n                toolIdx: toolIdx,\r\n                toolPtIdx: toolPtIdx,\r\n                toolInitXy: toolInitXy,\r\n                shallUpdate: true,\r\n            };\r\n        }\r\n        var isTranslateAction = dragInitXy[0] >= 0 &&\r\n            dragInitXy[0] < 0 + canvasWidth &&\r\n            dragInitXy[1] >= 0 &&\r\n            dragInitXy[1] < 0 + canvasHeight;\r\n        if (isTranslateAction)\r\n            return {\r\n                type: \"translate\",\r\n                start: isDragStart,\r\n                end: isDragEnd,\r\n                shallUpdate: true,\r\n            };\r\n        var isPointerScaleAction = dragInitXy[0] >= 0 &&\r\n            dragInitXy[0] < 0 + canvasWidth &&\r\n            dragInitXy[1] >= 0 + canvasHeight;\r\n        if (isPointerScaleAction) {\r\n            return {\r\n                type: \"scale\",\r\n                start: isDragStart,\r\n                end: isDragEnd,\r\n                initScaledWidthPerTick: xaxis.scaledWidthPerTick,\r\n                initTranslatedX: xaxis.totalTranslatedX,\r\n                shallUpdate: true,\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    return null;\r\n};\r\nexport var getAction = function (PreState, subcharts, isDrawing, xaxisHeight) {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    var stateControl = PreState.stateControl, pointer = PreState.pointer;\r\n    var interactiveUpdates = stateControl.shallUpdate, customEffectChartState = stateControl.customEffectChartState, prevAction = stateControl.prevAction;\r\n    var xaxis = PreState.calc.xaxis;\r\n    var finishDrawing = ((_a = prevAction === null || prevAction === void 0 ? void 0 : prevAction.drag) === null || _a === void 0 ? void 0 : _a.type) === \"drawTool\" && !isDrawing;\r\n    var wheelDeltaY = (_b = pointer.wheel) === null || _b === void 0 ? void 0 : _b.delta[1];\r\n    var isWheeling = !!((_c = pointer.wheel) === null || _c === void 0 ? void 0 : _c.isWheeling) &&\r\n        interactiveUpdates.includes(\"wheel\") &&\r\n        !!wheelDeltaY;\r\n    var wheel = isWheeling\r\n        ? { wheelDeltaY: wheelDeltaY, type: \"wheelScale\" }\r\n        : null;\r\n    var drag = getDragAction(PreState, subcharts, isDrawing, xaxisHeight);\r\n    var containerResize = interactiveUpdates.includes(\"containerResize\") && subcharts.length > 0;\r\n    var pinch = !!(prevAction === null || prevAction === void 0 ? void 0 : prevAction.pinch) && PreState.pointer.pinch.isPinching\r\n        ? prevAction.pinch\r\n        : interactiveUpdates.includes(\"pinch\") &&\r\n            PreState.pointer.pinch.isPinching\r\n            ? {\r\n                type: \"pinchScale\",\r\n                initScaledWidthPerTick: xaxis.scaledWidthPerTick,\r\n                initTranslatedX: xaxis.totalTranslatedX,\r\n            }\r\n            : null;\r\n    var deps = interactiveUpdates.includes(\"deps\");\r\n    var updateEffect = (!pointer.drag.isDragging &&\r\n        [\"resizeSubchart\", \"editTool\"].includes((_d = drag === null || drag === void 0 ? void 0 : drag.type) !== null && _d !== void 0 ? _d : \"\")) ||\r\n        containerResize;\r\n    var resetCustomDragActions = !pointer.drag.isDragging &&\r\n        [\"resizeSubchart\", \"editTool\"].includes((_e = drag === null || drag === void 0 ? void 0 : drag.type) !== null && _e !== void 0 ? _e : \"\");\r\n    var shallUpdateCalcSubcharts = ([\"scale\", \"translate\"].includes((_f = drag === null || drag === void 0 ? void 0 : drag.type) !== null && _f !== void 0 ? _f : \"\") && (drag === null || drag === void 0 ? void 0 : drag.shallUpdate)) ||\r\n        (drag === null || drag === void 0 ? void 0 : drag.type) === \"resizeSubchart\" ||\r\n        containerResize ||\r\n        deps ||\r\n        !!wheel;\r\n    var shallUpdateXaxis = (_g = (!!wheel ||\r\n        deps ||\r\n        !!pinch ||\r\n        ((drag === null || drag === void 0 ? void 0 : drag.shallUpdate) &&\r\n            (drag.type === \"translate\" || drag.type === \"scale\")))) !== null && _g !== void 0 ? _g : false;\r\n    var action = {\r\n        drag: drag,\r\n        pinch: pinch,\r\n        wheel: wheel,\r\n        containerResize: containerResize,\r\n        deps: deps,\r\n        shallUpdateCalcSubcharts: shallUpdateCalcSubcharts,\r\n        shallUpdateXaxis: shallUpdateXaxis,\r\n    };\r\n    return {\r\n        action: action,\r\n        stateControl: __assign(__assign({}, stateControl), { prevAction: __assign(__assign({}, action), { drag: resetCustomDragActions || finishDrawing ? null : drag }), customEffectChartState: updateEffect ? null : customEffectChartState }),\r\n    };\r\n};\r\nexport var resizeContainer = function (newContainerHeight, subcharts, style) {\r\n    var newCanvasHeight = newContainerHeight - 1 - style.xaxis.heightXAxis;\r\n    return resizeSubcharts({\r\n        subchartsHeight: newCanvasHeight,\r\n        subCharts: subcharts,\r\n    });\r\n    // const prevCanvasHeight = subcharts[subcharts.length - 1].bottom;\r\n    // const prevMainHeight = subcharts[0].bottom - subcharts[0].top;\r\n    // const prevSubsHeight = prevCanvasHeight - prevMainHeight;\r\n    // // const newCanvasHeight = newContainerHeight - 1 - style.xaxis.heightXAxis;\r\n    // const nSubs = subcharts.length - 1;\r\n    // const minHeightTotal = 250 + Math.max(prevSubsHeight, nSubs * 150);\r\n    // const isEnoughSpace = minHeightTotal <= newCanvasHeight;\r\n    // const mainHeight = isEnoughSpace\r\n    //   ? newCanvasHeight - Math.max(prevSubsHeight, nSubs * 150) || 0\r\n    //   : newCanvasHeight >= 250\r\n    //   ? 250 + ((newCanvasHeight - 250) % nSubs) * nSubs\r\n    //   : newCanvasHeight;\r\n    // const newSubsHeight = newCanvasHeight - mainHeight;\r\n    // const subHeights = subcharts.map((sub, subIdx) =>\r\n    //   subIdx === 0\r\n    //     ? mainHeight\r\n    //     : isEnoughSpace\r\n    //     ? Math.max(sub.bottom - sub.top, 150)\r\n    //     : newCanvasHeight <= 250\r\n    //     ? 0\r\n    //     : !!prevSubsHeight\r\n    //     ? Math.round(((sub.bottom - sub.top) / prevSubsHeight) * newSubsHeight)\r\n    //     : Math.round(newSubsHeight / nSubs)\r\n    // );\r\n    // const accSubHeights = subHeights.map((sub, subIdx) =>\r\n    //   subHeights.slice(0, subIdx + 1).reduce((acc, cur) => acc + cur)\r\n    // );\r\n    // const result = subcharts\r\n    //   .map((subchart, subchartIdx) =>\r\n    //     subchartIdx === 0\r\n    //       ? { ...subchart, bottom: 0 + mainHeight }\r\n    //       : {\r\n    //           ...subchart,\r\n    //           bottom: Math.min(accSubHeights[subchartIdx], newCanvasHeight),\r\n    //         }\r\n    //   )\r\n    //   .map((subchart, subchartIdx, subsArr) =>\r\n    //     subchartIdx === 0 ? subchart : { ...subchart, top: subsArr[subchartIdx - 1].bottom }\r\n    //   );\r\n    // console.log(\r\n    //   \"CONTAINER RESIZED! current: \",\r\n    //   result,\r\n    //   \", approach: \",\r\n    //   resizeSubcharts({ subchartsHeight: newCanvasHeight, subCharts: subcharts })\r\n    // );\r\n    // return result;\r\n};\r\nexport var resizeSubchart = function (action, subcharts, drag) {\r\n    var _a;\r\n    if (((_a = action === null || action === void 0 ? void 0 : action.drag) === null || _a === void 0 ? void 0 : _a.type) !== \"resizeSubchart\")\r\n        return subcharts;\r\n    var dragAction = action.drag;\r\n    var subchartIdx = dragAction.subchartIdx;\r\n    var newBottom = Math.min(Math.max(dragAction.bottomInitY + drag.movementInitial[1], subcharts[subchartIdx].top + 10, subchartIdx === 0 ? 50 : 0), subcharts[subchartIdx + 1].bottom - 10);\r\n    var deltaBottom = newBottom - dragAction.bottomInitY;\r\n    var result = !drag.ctrlKey || subchartIdx === 0\r\n        ? __spreadArray(__spreadArray(__spreadArray([], subcharts.slice(0, subchartIdx), true), [\r\n            __assign(__assign({}, subcharts[subchartIdx]), { bottom: newBottom }),\r\n            __assign(__assign({}, subcharts[subchartIdx + 1]), { top: newBottom })\r\n        ], false), subcharts.slice(subchartIdx + 2), true) : __spreadArray(__spreadArray(__spreadArray([], subcharts\r\n        .slice(0, subchartIdx)\r\n        .map(function (sub, sIdx) { return (__assign(__assign({}, sub), { bottom: sub.bottom + deltaBottom })); })\r\n        .map(function (sub, sIdx, arr) {\r\n        return sIdx === 0 ? sub : __assign(__assign({}, sub), { top: arr[sIdx - 1].bottom });\r\n    }), true), [\r\n        __assign(__assign({}, subcharts[subchartIdx]), { bottom: newBottom, top: subcharts[subchartIdx].top + deltaBottom }),\r\n        __assign(__assign({}, subcharts[subchartIdx + 1]), { top: newBottom })\r\n    ], false), subcharts.slice(subchartIdx + 2), true);\r\n    return result;\r\n};\r\n//# sourceMappingURL=Interactions.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { getDefaultGraphStyle, getGraphColors, getInitSubchartsState, graphColorsDark, graphColorsLight, } from \"../Defaults\";\r\nimport { createSubChartModel, createChartGraphModel, createIndicatorGraphModel, resizeSubcharts, } from \"./SubchartFactory\";\r\nimport * as T from \"../../Types\";\r\nimport { setStateProp, removeStateProp } from \"../../utils/React\";\r\nimport { createChartData, createData, createIndicatorData, getIndicatorsCalcDepIndicatorDatas } from \"./DataFactory\";\r\nimport uniq from \"lodash/uniq\";\r\nimport { isNullish } from \"../../utils/Basics\";\r\nimport { resizeContainer } from \"../Interactions\";\r\nexport var addSubchart = function (current, params) {\r\n    var srcData = params.dataSeries, graphName = params.graphName, id = params.id, indicator = params.indicator, reset = params.reset, indSrcId = params.indSrcId;\r\n    // currently all new subcharts are indicators!\r\n    var containerHeight = current.containerSize.height;\r\n    var data = createData(srcData, graphName, id, indicator, indSrcId);\r\n    if (!data)\r\n        return current;\r\n    var indicatorLines = data.type === \"indicator\" ? data.indicator.graphTypes.length : undefined;\r\n    var style = getDefaultGraphStyle(data.type, current.style.isDarkMode, undefined, indicatorLines);\r\n    var dataId = data.id;\r\n    if (current.subCharts.length === 0 || !!reset) {\r\n        var top_1 = 0;\r\n        var bottom = containerHeight - current.style.xaxis.heightXAxis;\r\n        var newSubchart = createSubChartModel({ top: top_1, bottom: bottom, dataId: dataId, style: style, indicator: indicator, type: data.type });\r\n        if (!newSubchart)\r\n            return current;\r\n        return __assign(__assign({}, current), { data: [data], subCharts: [newSubchart] });\r\n    }\r\n    else {\r\n        // const bottom = containerHeight - current.style.xaxis.heightXAxis;\r\n        // const minMainHeight = 250;\r\n        // const heightNewSubchart = Math.min(150, (bottom - minMainHeight) / (current.subCharts.length - 1 + 1));\r\n        // const top = bottom - Math.round(heightNewSubchart);\r\n        // const newSubchart = createSubChartModel({ top, bottom, dataId, style, indicator, type: data.type });\r\n        // if (!newSubchart) return current;\r\n        // const tempGraph = newSubchart?.yaxis[0]?.graphs?.[0];\r\n        // const subchart =\r\n        //   T.isIndicatorGraph(tempGraph) && (data as T.IndicatorData).data[data.data.length - 1].prices.length > 1\r\n        //     ? setStateProp(\r\n        //         newSubchart,\r\n        //         [\"yaxis\", 0, \"graphs\", 0, \"style\", \"strokeColor\"],\r\n        //         (data as T.IndicatorData).data[data.data.length - 1].prices.map((x, idx) =>\r\n        //           getGraphColors(current.darkMode ? graphColorsDark : graphColorsLight, idx)\r\n        //         )\r\n        //       )\r\n        //     : newSubchart;\r\n        // const graph = subchart?.yaxis[0]?.graphs?.[0];\r\n        // if (!graph) return current;\r\n        // const mainHeight = current.subCharts[0].bottom - current.subCharts[0].top;\r\n        // const maxHeightSub =\r\n        //   mainHeight - heightNewSubchart < minMainHeight\r\n        //     ? (bottom - minMainHeight - heightNewSubchart) / (current.subCharts.length - 1)\r\n        //     : null;\r\n        // const prevSubCharts = current.subCharts.reduce<T.SubchartState[]>((acc, cur, idx) => {\r\n        //   const subchart = cur;\r\n        //   const lastBottom = acc?.[acc.length - 1]?.bottom;\r\n        //   const newBottom = !isNullish(maxHeightSub)\r\n        //     ? Math.round(lastBottom + maxHeightSub)\r\n        //     : subchart.bottom - heightNewSubchart;\r\n        //   return idx === 0\r\n        //     ? [{ ...subchart, top: 0, bottom: Math.max(subchart.bottom - heightNewSubchart, minMainHeight) }]\r\n        //     : [...acc, { ...subchart, top: lastBottom, bottom: newBottom }];\r\n        // }, []);\r\n        // const subCharts = [...prevSubCharts, subchart];\r\n        var subchartsHeight = containerHeight - current.style.xaxis.heightXAxis;\r\n        var subCharts = resizeSubcharts({\r\n            subchartsHeight: subchartsHeight,\r\n            subCharts: current.subCharts,\r\n            addSubchart: { data: data, darkMode: current.style.isDarkMode },\r\n        });\r\n        return __assign(__assign({}, current), { data: __spreadArray(__spreadArray([], current.data, true), [data], false), subCharts: subCharts });\r\n    }\r\n};\r\nexport var removeSubchart = function (current, params) {\r\n    var delSubIdx = params.subchartIdx;\r\n    var dataIds = current.subCharts[delSubIdx].yaxis.map(function (yaxi) { return yaxi.graphs.map(function (graph) { return graph.dataId; }); }).flat();\r\n    // const subchart = current.subCharts[delSubIdx];\r\n    // const dHeight = subchart.bottom - subchart.top;\r\n    // const dHeightsSubsRequested = current.subCharts.map((sub, sIdx) =>\r\n    //   !sIdx || sIdx === delSubIdx || sub.bottom - sub.top >= 150 ? 0 : 150 - (sub.bottom - sub.top)\r\n    // );\r\n    // const totalDHeightSubsRequ = dHeightsSubsRequested.reduce((acc, cur) => acc + cur, 0);\r\n    // const dHeightsSubs =\r\n    //   !totalDHeightSubsRequ || totalDHeightSubsRequ < dHeight\r\n    //     ? dHeightsSubsRequested\r\n    //     : dHeightsSubsRequested.map((sub) => (sub / totalDHeightSubsRequ) * dHeight);\r\n    // const totalDHeightSubs = dHeightsSubs.reduce((acc, cur) => acc + cur, 0); // <= dHeight\r\n    // const mainBottom = Math.max(250, Math.round(current.subCharts[0].bottom + dHeight - totalDHeightSubs));\r\n    // const dMainBottom = mainBottom - current.subCharts[0].bottom;\r\n    // const AccDHeightsBeforeDeleted = dHeightsSubs.slice(0, delSubIdx).reduce((acc, cur) => acc + cur, 0) + dMainBottom;\r\n    // const getSubchartBottomBeforeDel = (subchartIdx: number) =>\r\n    //   subchartIdx === 0\r\n    //     ? mainBottom\r\n    //     : current.subCharts[subchartIdx].bottom +\r\n    //       dHeightsSubs[subchartIdx] +\r\n    //       dMainBottom +\r\n    //       dHeightsSubs.slice(0, subchartIdx).reduce((acc, cur) => acc + cur, 0);\r\n    // const getSubchartPosAfterDel = (subchartIdx: number) => ({\r\n    //   top:\r\n    //     current.subCharts[subchartIdx].top -\r\n    //     dHeight +\r\n    //     AccDHeightsBeforeDeleted +\r\n    //     dHeightsSubs.slice(delSubIdx + 1, subchartIdx).reduce((acc, cur) => acc + cur, 0),\r\n    //   bottom:\r\n    //     current.subCharts[subchartIdx].bottom -\r\n    //     dHeight +\r\n    //     AccDHeightsBeforeDeleted +\r\n    //     dHeightsSubs.slice(delSubIdx + 1, subchartIdx + 1).reduce((acc, cur) => acc + cur, 0),\r\n    // });\r\n    var subchartsHeight = current.containerSize.height - current.style.xaxis.heightXAxis;\r\n    var subCharts = resizeSubcharts({\r\n        subchartsHeight: subchartsHeight,\r\n        subCharts: current.subCharts,\r\n        removeSubchartIdx: delSubIdx,\r\n    });\r\n    return __assign(__assign({}, current), { data: current.data.filter(function (singleData) { return !dataIds.includes(singleData.id); }), subCharts: subCharts });\r\n};\r\nexport var addGraph = function (current, params) {\r\n    var dataSeries = params.dataSeries, graphName = params.graphName, subchartIdx = params.subchartIdx, id = params.id, indSrcId = params.indSrcId, indicator = params.indicator, indSrcLineIdx = params.indSrcLineIdx;\r\n    var newGraphIdx = current.subCharts[subchartIdx].yaxis[0].graphs.length;\r\n    var getStrokeColor = function (idx) {\r\n        return getGraphColors(current.style.isDarkMode ? graphColorsDark : graphColorsLight, idx);\r\n    };\r\n    if ((!indSrcId && indicator) || (indSrcId && !indicator))\r\n        return current;\r\n    var data = createData(dataSeries, graphName, id, indicator, indSrcId, indSrcLineIdx);\r\n    if (!data)\r\n        return current;\r\n    var dataId = data.id;\r\n    var indicatorLines = data.type === \"indicator\" ? data.indicator.graphTypes.length : undefined;\r\n    var style = getDefaultGraphStyle(data.type, current.style.isDarkMode, newGraphIdx, indicatorLines);\r\n    var graph = data.type === \"indicator\" && !!indicator && !!indSrcId\r\n        ? createIndicatorGraphModel({\r\n            dataId: dataId,\r\n            style: style,\r\n        })\r\n        : createChartGraphModel({ dataId: dataId, style: style });\r\n    if (T.isIndicatorGraph(graph) && data.data[data.data.length - 1].prices.length > 1)\r\n        graph.style.strokeColor = data.data[data.data.length - 1].prices.map(function (x, idx) {\r\n            return getStrokeColor(idx);\r\n        });\r\n    var subchart = current.subCharts[subchartIdx];\r\n    return setStateProp(setStateProp(current, [\"data\"], __spreadArray(__spreadArray([], current.data, true), [data], false)), [\"subCharts\", subchartIdx], __assign(__assign({}, subchart), { yaxis: [__assign(__assign({}, subchart.yaxis[0]), { graphs: __spreadArray(__spreadArray([], subchart.yaxis[0].graphs, true), [graph], false) })] }));\r\n};\r\nexport var removeGraph = function (current, params) {\r\n    var delSubIdx = params.subchartIdx, delYIdx = params.yaxisIdx, delGraphIdx = params.graphIdx;\r\n    var dataId = current.subCharts[delSubIdx].yaxis[delYIdx].graphs[delGraphIdx].dataId;\r\n    var subchart = current.subCharts[delSubIdx];\r\n    if (delGraphIdx === 0 && subchart.yaxis[delYIdx].graphs.length === 1) {\r\n        return removeSubchart(current, { subchartIdx: delSubIdx });\r\n    }\r\n    else {\r\n        return setStateProp(removeStateProp(current, [\"subCharts\", delSubIdx, \"yaxis\", delYIdx, \"graphs\", delGraphIdx]), [\"data\"], current.data.filter(function (val) { return val.id !== dataId; }));\r\n    }\r\n};\r\nexport var addInitialData = function (current, params) {\r\n    var _a;\r\n    var inputData = params.datas;\r\n    var mainchartId = (_a = inputData === null || inputData === void 0 ? void 0 : inputData[0]) === null || _a === void 0 ? void 0 : _a.id;\r\n    var intInputData = inputData.map(function (inputDat, inputDatIdx) {\r\n        var _a, _b;\r\n        return inputDat.type === \"chart\"\r\n            ? inputDat\r\n            : __assign(__assign({}, inputDat), { indSrcId: (_a = inputDat.indSrcId) !== null && _a !== void 0 ? _a : mainchartId, id: (_b = inputDat.id) !== null && _b !== void 0 ? _b : \"indi_\" + inputDatIdx.toString().padStart(2, \"0\") });\r\n    });\r\n    var sequencedIndiTest = uniq(intInputData\r\n        .map(function (inputDat, inputDatIdx) {\r\n        return inputDat.type === \"indicator\" && !isNullish(inputDat === null || inputDat === void 0 ? void 0 : inputDat.id)\r\n            ? getIndicatorsCalcDepIndicatorDatas(intInputData, inputDat.id)\r\n            : null;\r\n    })\r\n        .flat()\r\n        .filter(function (val) { return val !== null; }));\r\n    var chartDatas = intInputData.map(function (dat) {\r\n        return dat.type === \"chart\" ? createChartData(dat.data, dat.name, dat.id) : null;\r\n    });\r\n    var datasCopy = __spreadArray([], chartDatas, true);\r\n    sequencedIndiTest.forEach(function (dataId, i) {\r\n        var inputDatIdx = intInputData === null || intInputData === void 0 ? void 0 : intInputData.findIndex(function (dat, dIdx) { return dat.id === dataId; }); // [dataIdx];\r\n        var inputDat = intInputData === null || intInputData === void 0 ? void 0 : intInputData[inputDatIdx];\r\n        var indInputData = (inputDat === null || inputDat === void 0 ? void 0 : inputDat.type) === \"indicator\" ? inputDat : null;\r\n        var indDataSrcId = indInputData === null || indInputData === void 0 ? void 0 : indInputData.indSrcId;\r\n        // const indDataSrcIdx = indInputData?.indSrcDataIdx;\r\n        var indSrcData = !isNullish(indDataSrcId) ? datasCopy === null || datasCopy === void 0 ? void 0 : datasCopy.find(function (dat) { return (dat === null || dat === void 0 ? void 0 : dat.id) === indDataSrcId; }) : null;\r\n        if ((inputDat === null || inputDat === void 0 ? void 0 : inputDat.type) === \"indicator\" && indSrcData && indInputData)\r\n            datasCopy[inputDatIdx] = createIndicatorData(indSrcData === null || indSrcData === void 0 ? void 0 : indSrcData.data, indSrcData === null || indSrcData === void 0 ? void 0 : indSrcData.id, indInputData.indicator, undefined, dataId, indInputData.name);\r\n    });\r\n    var finalDatas = datasCopy.filter(function (val) { return val !== null; });\r\n    if (finalDatas.length !== intInputData.length)\r\n        console.warn(\"Warning - not all indicators could be initialized.\");\r\n    var initSubcharts = inputData ? getInitSubchartsState(current.style.isDarkMode, inputData) : [];\r\n    var subCharts = resizeContainer(current.containerSize.height, initSubcharts, current.style);\r\n    // const subCharts = inputData ? getInitSubchartsState(current.darkMode, inputData) : [];\r\n    // return { ...current, subCharts, data: finalDatas };\r\n    return __assign(__assign({}, current), { subCharts: subCharts, data: finalDatas });\r\n};\r\nexport var clearChart = function (current, params) {\r\n    var mode = params.mode;\r\n    var remainingSubchart = __assign(__assign({}, current.subCharts[0]), { top: 0, bottom: mode !== \"tools\"\r\n            ? current.containerSize.height - 1 - current.style.xaxis.heightXAxis\r\n            : current.subCharts[0].bottom, yaxis: [\r\n            __assign(__assign({}, current.subCharts[0].yaxis[0]), { graphs: mode === \"all\" || mode === \"indicators\"\r\n                    ? [current.subCharts[0].yaxis[0].graphs[0]]\r\n                    : current.subCharts[0].yaxis[0].graphs, tools: mode === \"all\" || mode === \"tools\" ? [] : current.subCharts[0].yaxis[0].tools }),\r\n        ] }); // future: filter for chart-graphs, support tools on subcharts/graphs other than main[0]'s and clear them too\r\n    return mode === \"all\" || mode === \"indicators\"\r\n        ? setStateProp(setStateProp(current, [\"subCharts\"], [remainingSubchart]), [\"data\"], [current.data.find(function (val) { var _a, _b, _c, _d, _e, _f; return val.id === ((_f = (_e = (_d = (_c = (_b = (_a = current.subCharts) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.yaxis) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? void 0 : _d.graphs) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.dataId); })])\r\n        : mode === \"tools\"\r\n            ? setStateProp(current, [\"subCharts\"], __spreadArray([remainingSubchart], current.subCharts, true))\r\n            : current;\r\n};\r\n//# sourceMappingURL=Factory.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport deepEqual from \"lodash/isEqual\";\r\nimport { defaultTools } from \"../../Tools\";\r\nimport { updateChartDataAndDeps, updateIndicatorData } from \"./DataFactory\";\r\nimport { addSubchart, removeSubchart, addGraph, removeGraph, addInitialData, clearChart } from \"./Factory\";\r\nimport { swapSubcharts } from \"./SubchartFactory\";\r\nimport { getStateProp, removeStateProp, setStateProp } from \"../../utils/React\";\r\nimport { isNullish } from \"../../utils/Basics\";\r\nimport * as defaults from \"../Defaults\";\r\nimport * as T from \"../../Types\";\r\nvar generalProps = [\r\n    { prop: \"backgroundColor\", path: [\"style\", \"backgroundColor\"] },\r\n    { prop: \"crosshairStrokeColor\", path: [\"style\", \"crosshair\", \"strokeColor\"] },\r\n    { prop: \"crosshairXmarkerBackgroundColor\", path: [\"style\", \"crosshair\", \"xMarkerBackgroundColor\"] },\r\n    { prop: \"crosshairXmarkerStrokeColor\", path: [\"style\", \"crosshair\", \"xMarkerStrokeColor\"] },\r\n    { prop: \"crosshairXmarkerTextColor\", path: [\"style\", \"crosshair\", \"xMarkerTextColor\"] },\r\n    { prop: \"crosshairYmarkerBackgroundColor\", path: [\"style\", \"crosshair\", \"yMarkerBackgroundColor\"] },\r\n    { prop: \"crosshairYmarkerStrokeColor\", path: [\"style\", \"crosshair\", \"yMarkerStrokeColor\"] },\r\n    { prop: \"crosshairYmarkerTextColor\", path: [\"style\", \"crosshair\", \"yMarkerTextColor\"] },\r\n    { prop: \"gridStrokeColor\", path: [\"style\", \"grid\", \"strokeColor\"] },\r\n    { prop: \"toggleCrosshair\", path: [\"style\", \"crosshair\", \"useCrosshair\"], toggle: true },\r\n    { prop: \"toggleFullscreen\", path: [\"fullscreen\"], toggle: true },\r\n    { prop: \"toggleGridX\", path: [\"style\", \"grid\", \"useGridX\"], toggle: true },\r\n    { prop: \"toggleGridY\", path: [\"style\", \"grid\", \"useGridY\"], toggle: true },\r\n    { prop: \"xAxisFillColor\", path: [\"style\", \"xaxis\", \"fillColor\"] },\r\n    { prop: \"xAxisStrokeColor\", path: [\"style\", \"xaxis\", \"strokeColor\"] },\r\n    { prop: \"xAxisTextColor\", path: [\"style\", \"xaxis\", \"fontColor\"] },\r\n    { prop: \"yAxisStrokeColor\", path: [\"style\", \"yaxis\", \"strokeColor\"] },\r\n    { prop: \"yAxisTextColor\", path: [\"style\", \"yaxis\", \"fontColor\"] },\r\n];\r\nexport var chartStateReducer = function (current, action) {\r\n    var _a;\r\n    if (T.isModifyIndicatorDataAction(action)) {\r\n        var _b = action.params, dataId_1 = _b.dataId, newIndSrcId = _b.newIndSrcId, newParam_1 = _b.newParam, prevData = _b.prevData;\r\n        var dataGraph = current.data.find(function (dat) { return dat.id === dataId_1; });\r\n        if ((dataGraph === null || dataGraph === void 0 ? void 0 : dataGraph.type) !== \"indicator\")\r\n            return current;\r\n        var newParams = newParam_1 &&\r\n            dataGraph.indicator.params.map(function (param, pIdx) {\r\n                return pIdx !== (newParam_1 === null || newParam_1 === void 0 ? void 0 : newParam_1.paramIdx) ? param : __assign(__assign({}, param), { val: newParam_1.newValue });\r\n            });\r\n        return __assign(__assign({}, current), { data: updateIndicatorData(current, dataId_1, { newParams: newParams, newIndSrcId: newIndSrcId }, prevData) });\r\n    }\r\n    if (T.isModifyChartDataAction(action)) {\r\n        var _c = action.params, dataId = _c.dataId, newDatasets = _c.newDatasets;\r\n        return updateChartDataAndDeps(current, dataId, newDatasets);\r\n    }\r\n    if (T.isSetToolPropAction(action)) {\r\n        var _d = action.params, newValue = _d.newValue, prop = _d.prop, subchartIdx = _d.subchartIdx, yaxisIdx = _d.yaxisIdx, toolIdx = _d.toolIdx, toolParamIdx = _d.toolParamIdx;\r\n        var tool = current.subCharts[subchartIdx].yaxis[yaxisIdx].tools[toolIdx];\r\n        return prop === \"strokeColor\" || prop === \"anchorColor\"\r\n            ? setStateProp(current, [\"subCharts\", subchartIdx, \"yaxis\", yaxisIdx, \"tools\", toolIdx, \"style\", prop], newValue)\r\n            : prop === \"hLineYlevel\"\r\n                ? setStateProp(current, [\"subCharts\", subchartIdx, \"yaxis\", yaxisIdx, \"tools\", toolIdx, \"xy\"], [[tool.xy[0][0], newValue]])\r\n                : prop === \"toolParam\" && !isNullish(toolParamIdx)\r\n                    ? setStateProp(current, [\"subCharts\", subchartIdx, \"yaxis\", yaxisIdx, \"tools\", toolIdx, \"params\", toolParamIdx, \"val\"], newValue)\r\n                    : current;\r\n    }\r\n    else if (T.isSetGraphPropAction(action)) {\r\n        var _e = action.params, newValue = _e.newValue, prop = _e.prop, subchartIdx = _e.subchartIdx, yaxisIdx = _e.yaxisIdx, graphIdx = _e.graphIdx;\r\n        return [\"strokeColor\", \"candleDownColor\", \"candleUpColor\", \"candleStrokeColor\", \"candleWickStrokeColor\"].includes(prop)\r\n            ? setStateProp(current, [\"subCharts\", subchartIdx, \"yaxis\", yaxisIdx, \"graphs\", graphIdx, \"style\", prop], newValue)\r\n            : prop === \"chartType\" && (newValue === \"line\" || newValue === \"candles\")\r\n                ? setStateProp(current, [\"subCharts\", subchartIdx, \"yaxis\", yaxisIdx, \"graphs\", graphIdx, \"chartType\"], newValue)\r\n                : prop === \"dataId\"\r\n                    ? setStateProp(current, [\"subCharts\", subchartIdx, \"yaxis\", yaxisIdx, \"graphs\", graphIdx, \"dataId\"], newValue)\r\n                    : current;\r\n    }\r\n    else if (T.isSetGeneralPropAction(action)) {\r\n        var _f = action.params, newValueIn = _f.newValue, prop_1 = _f.prop;\r\n        var gprop = generalProps === null || generalProps === void 0 ? void 0 : generalProps.find(function (gprop) { return gprop.prop === prop_1; });\r\n        if (!gprop)\r\n            return current;\r\n        var path = gprop.path, toggle = gprop.toggle;\r\n        var newValue = toggle ? !getStateProp(current, path) : newValueIn;\r\n        return setStateProp(current, path, newValue);\r\n    }\r\n    else if (T.isAddDataAction(action)) {\r\n        return addInitialData(current, action.params);\r\n    }\r\n    else if (T.isAddSubchartAction(action)) {\r\n        return addSubchart(current, action.params);\r\n    }\r\n    else if (T.isRemoveSubchartAction(action)) {\r\n        return removeSubchart(current, action.params);\r\n    }\r\n    else if (T.isAddGraphAction(action)) {\r\n        return addGraph(current, action.params);\r\n    }\r\n    else if (T.isRemoveGraphAction(action)) {\r\n        return removeGraph(current, action.params);\r\n    }\r\n    else if (T.isSwapSubchartsAction(action)) {\r\n        return swapSubcharts(current, action.params);\r\n    }\r\n    else if (T.isRemoveToolAction(action)) {\r\n        var _g = action.params, subchartIdx = _g.subchartIdx, yaxisIdx = _g.yaxisIdx, toolIdx = _g.toolIdx;\r\n        return removeStateProp(current, [\"subCharts\", subchartIdx, \"yaxis\", yaxisIdx, \"tools\", toolIdx]);\r\n    }\r\n    else if (T.isClearChartAction(action)) {\r\n        return clearChart(current, action.params);\r\n    }\r\n    else if (T.isSetThemeAction(action)) {\r\n        var theme = action.params.theme;\r\n        var name_1 = theme.name, style = __rest(theme, [\"name\"]);\r\n        var baseTheme = style.isDarkMode ? defaults.defaultDarkTheme : defaults.defaultLightTheme;\r\n        return __assign(__assign({}, current), { style: __assign(__assign(__assign({}, baseTheme), style), { crosshair: __assign(__assign({}, baseTheme.crosshair), style.crosshair), draw: __assign(__assign({}, baseTheme.draw), style.draw), grid: __assign(__assign({}, baseTheme.grid), style.grid), xaxis: __assign(__assign({}, baseTheme.xaxis), style.xaxis), yaxis: __assign(__assign({}, baseTheme.yaxis), style.yaxis) }) });\r\n    }\r\n    else if (T.isDrawAction(action)) {\r\n        var xy = action.params.xy;\r\n        var nPoints = (_a = defaultTools.find(function (tool) { return tool.type === action.params.type; })) === null || _a === void 0 ? void 0 : _a.nPoints;\r\n        if (!nPoints || !action.params.type) {\r\n            return __assign(__assign({}, current), { draw: defaults.defaultDrawState });\r\n        }\r\n        // init draw command -> switch to draw mode\r\n        else if (!xy && !!action.params.type) {\r\n            return __assign(__assign({}, current), { draw: __assign(__assign({}, current.draw), { isDrawing: true, xy: [], type: action.params.type }) });\r\n        }\r\n        return current;\r\n    }\r\n    else if (T.isUpdateInteractionState(action)) {\r\n        var xaxis = !deepEqual(current.calc.xaxis, action.params.newState.calc.xaxis)\r\n            ? { xaxis: __assign(__assign({}, current.calc.xaxis), action.params.newState.calc.xaxis) }\r\n            : {};\r\n        var subCharts = !deepEqual(current.subCharts, action.params.newState.subCharts)\r\n            ? { subCharts: action.params.newState.subCharts }\r\n            : {};\r\n        var containerSize = !deepEqual(current.containerSize, action.params.newState.containerSize)\r\n            ? { containerSize: action.params.newState.containerSize }\r\n            : {};\r\n        return __assign(__assign(__assign(__assign({}, current), containerSize), subCharts), { pointer: action.params.newState.pointer, draw: action.params.newState.draw, calc: __assign(__assign(__assign({}, current.calc), action.params.newState.calc), xaxis) });\r\n    }\r\n    return current;\r\n};\r\n//# sourceMappingURL=Reducer.js.map","export var isSetGeneralPropAction = function (action) {\r\n    return action.task === \"setGeneralProp\";\r\n};\r\nexport var isSetGraphPropAction = function (action) {\r\n    return action.task === \"setGraphProp\";\r\n};\r\nexport var isSetToolPropAction = function (action) {\r\n    return action.task === \"setToolProp\";\r\n};\r\nexport var isAddSubchartAction = function (action) {\r\n    return action.task === \"addSubchart\";\r\n};\r\nexport var isAddGraphAction = function (action) {\r\n    return action.task === \"addGraph\";\r\n};\r\nexport var isDrawAction = function (action) { return action.task === \"draw\"; };\r\nexport var isRemoveSubchartAction = function (action) {\r\n    return action.task === \"removeSubchart\";\r\n};\r\nexport var isRemoveGraphAction = function (action) {\r\n    return action.task === \"removeGraph\";\r\n};\r\nexport var isRemoveToolAction = function (action) {\r\n    return action.task === \"removeTool\";\r\n};\r\nexport var isUpdateInteractionState = function (action) {\r\n    return action.task === \"updateInteractionState\";\r\n};\r\nexport var isClearChartAction = function (action) {\r\n    return action.task === \"clearChart\";\r\n};\r\nexport var isSwapSubchartsAction = function (action) {\r\n    return action.task === \"swapSubcharts\";\r\n};\r\nexport var isAddDataAction = function (action) { return action.task === \"addData\"; };\r\nexport var isModifyChartDataAction = function (action) {\r\n    return action.task === \"modifyChartData\";\r\n};\r\nexport var isModifyIndicatorDataAction = function (action) {\r\n    return action.task === \"modifyIndicatorData\";\r\n};\r\n// export const isToggleDarkModeAction = (action: ReducerAction): action is ReducerAction<\"toggleDarkMode\"> =>\r\n//   action.task === \"toggleDarkMode\";\r\nexport var isSetThemeAction = function (action) {\r\n    return action.task === \"setTheme\";\r\n};\r\n//# sourceMappingURL=ChartStateReducer.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { getDataSeriesMaxY, getDataSeriesMinY, purePixToY, pureYToPix } from \"../utils/Utils\";\r\nimport * as T from \"../../Types\";\r\nvar GetMetricYintervalStep = function (yMax, yMin, decimals, targetSteps) {\r\n    var minIntervalStep = 1 / Math.pow(10, decimals); //smallest possible number acc. to decimals\r\n    var optIntervalStepPts = (yMax - yMin) / minIntervalStep / targetSteps; // in Pts -> in minInterval-steps\r\n    var startExponent = Math.floor(Math.log10(optIntervalStepPts)) || 0;\r\n    var nIterations = 2;\r\n    var minimizationFunction = function (steps) { return Math.abs((yMax - yMin) / steps - targetSteps); };\r\n    return parseFloat(Array(nIterations * 3)\r\n        .fill(0)\r\n        .map(function (x, idx) {\r\n        var intervalStep = minIntervalStep *\r\n            Math.pow(10, startExponent + Math.floor(idx / 3)) *\r\n            (idx % 3 === 0 ? 1.0 : idx % 3 === 1 ? 2.5 : idx % 3 === 2 ? 5.0 : 0);\r\n        var optimum = minimizationFunction(intervalStep);\r\n        return {\r\n            intervalStep: intervalStep,\r\n            optimum: optimum,\r\n        };\r\n    })\r\n        .reduce(function (prev, cur) {\r\n        if (cur.optimum < (prev === null || prev === void 0 ? void 0 : prev.optimum))\r\n            return cur;\r\n        else\r\n            return prev;\r\n    })\r\n        .intervalStep.toFixed(decimals));\r\n};\r\nvar calculateGraphs = function (data, subcharts, subchartIdx, yaxisIdx, xaxis) {\r\n    var xStart = xaxis.xStart, xEnd = xaxis.xEnd, pixXEnd = xaxis.pixXEnd;\r\n    var _a = subcharts[subchartIdx], top = _a.top, bottom = _a.bottom;\r\n    var intervalsTarget = Math.max(Math.round((bottom - top) / 75), 3);\r\n    return subcharts[subchartIdx].yaxis[yaxisIdx].graphs.map(function (graph) {\r\n        var _a, _b, _c, _d, _e;\r\n        var graphData = data.find(function (val) { return val.id === graph.dataId; });\r\n        if (!(graphData === null || graphData === void 0 ? void 0 : graphData.data))\r\n            return null;\r\n        var graphDataSeries = (_a = graphData === null || graphData === void 0 ? void 0 : graphData.data) !== null && _a !== void 0 ? _a : [];\r\n        var graphIndicator = (_b = graphData) === null || _b === void 0 ? void 0 : _b.indicator;\r\n        var curData = graphDataSeries.slice(xStart, xEnd + 1); //.filter((val, idx) => idx >= xStart && idx <= xEnd) as T.DataSeries;\r\n        var yMaxExact = getDataSeriesMaxY(curData, (_c = graphIndicator === null || graphIndicator === void 0 ? void 0 : graphIndicator.default) === null || _c === void 0 ? void 0 : _c.fixedYScale, graphIndicator === null || graphIndicator === void 0 ? void 0 : graphIndicator.graphTypes);\r\n        var yMinExact = getDataSeriesMinY(curData, (_d = graphIndicator === null || graphIndicator === void 0 ? void 0 : graphIndicator.default) === null || _d === void 0 ? void 0 : _d.fixedYScale, graphIndicator === null || graphIndicator === void 0 ? void 0 : graphIndicator.graphTypes);\r\n        var gDecimals = (_e = graphData === null || graphData === void 0 ? void 0 : graphData.decimals) !== null && _e !== void 0 ? _e : 0;\r\n        var gOptIntervalY = GetMetricYintervalStep(yMaxExact, yMinExact, gDecimals, intervalsTarget);\r\n        return {\r\n            lastDataset: {\r\n                data: graphDataSeries[xEnd],\r\n                x: xEnd,\r\n                pixX: pixXEnd,\r\n                dateString: \"\",\r\n            },\r\n            curData: curData,\r\n            yMaxExact: yMaxExact,\r\n            yMax: Math.ceil(yMaxExact / gOptIntervalY) * gOptIntervalY,\r\n            yMinExact: yMinExact,\r\n            yMin: Math.floor(yMinExact / gOptIntervalY) * gOptIntervalY,\r\n        };\r\n    });\r\n};\r\n// only post calculation !\r\nexport var calculatePixYDataset = function (dataset, dataId, data, subcharts, yToPix) {\r\n    var _a, _b;\r\n    var paths = subcharts\r\n        .map(function (subchart, sIdx) {\r\n        return subchart.yaxis\r\n            .map(function (yaxis, yIdx) {\r\n            return yaxis.graphs.map(function (graph, gIdx) {\r\n                return graph.dataId === dataId ? { subchartIdx: sIdx, yaxisIdx: yIdx, graphIdx: gIdx } : null;\r\n            });\r\n        })\r\n            .flat();\r\n    })\r\n        .flat()\r\n        .filter(function (val) { return val !== null; });\r\n    var path = paths === null || paths === void 0 ? void 0 : paths[0];\r\n    if (!path || !yToPix)\r\n        return null;\r\n    var yToPixSpec = function (price) { return yToPix(price, path.subchartIdx, path.yaxisIdx); };\r\n    var graphTypes = (_b = (_a = data.find(function (dat) { return dat.id === dataId && dat.type === \"indicator\"; })) === null || _a === void 0 ? void 0 : _a.indicator) === null || _b === void 0 ? void 0 : _b.graphTypes;\r\n    // const yToPix = (price: number) => pureYToPix(price, bottom, decimals, translatedY, heightPerPt);\r\n    var pixY = T.isIndicatorDataset(dataset)\r\n        ? {\r\n            pixPrices: dataset.prices.map(function (price, pIdx) { var _a, _b; return price && [\"line\", \"bars\"].includes((_b = (_a = graphTypes === null || graphTypes === void 0 ? void 0 : graphTypes[pIdx]) === null || _a === void 0 ? void 0 : _a.type) !== null && _b !== void 0 ? _b : \"\") ? yToPixSpec(price) : null; }),\r\n        }\r\n        : T.isCandleChartDataset(dataset)\r\n            ? {\r\n                pixOpen: yToPixSpec(dataset.open),\r\n                pixHigh: yToPixSpec(dataset.high),\r\n                pixLow: yToPixSpec(dataset.low),\r\n                pixClose: yToPixSpec(dataset.close),\r\n            }\r\n            : T.isLineChartDataset(dataset)\r\n                ? { pixClose: yToPixSpec(dataset.close) }\r\n                : null;\r\n    return pixY;\r\n};\r\nexport var calculateSubcharts = function (subcharts, xaxis, data, rtData) {\r\n    if (!subcharts || !xaxis || !data)\r\n        return null;\r\n    if (subcharts.length === 0 || data.length === 0)\r\n        return null;\r\n    return subcharts.map(function (subchart, sIdx) {\r\n        var bottom = subchart.bottom;\r\n        var top = subchart.top;\r\n        var intervalsTarget = Math.max(Math.round((bottom - top) / 75), 3);\r\n        return {\r\n            yaxis: subchart.yaxis.map(function (oneYaxis, yIdx) {\r\n                var _a, _b, _c, _d, _e, _f, _g;\r\n                var calculatedGraphs = calculateGraphs(data, subcharts, sIdx, yIdx, xaxis);\r\n                var yMaxExact = (_c = Math.max.apply(Math, __spreadArray(__spreadArray([], calculatedGraphs.map(function (g) { var _a; return (_a = g === null || g === void 0 ? void 0 : g.yMaxExact) !== null && _a !== void 0 ? _a : null; }).filter(function (g) { return g !== null; }), false), ((_b = (_a = rtData === null || rtData === void 0 ? void 0 : rtData.filter) === null || _a === void 0 ? void 0 : _a.call(rtData, function (val) { return oneYaxis.graphs.map(function (g, gIdx) { return g.dataId; }).includes(val.dataId); }).map(function (rtDat) {\r\n                    return rtDat.data.map(function (dat) { var _a; return (T.isCandleChartDataset(dat) ? (_a = dat.high) !== null && _a !== void 0 ? _a : dat.close : dat.close); });\r\n                }).flat()) !== null && _b !== void 0 ? _b : []), false))) !== null && _c !== void 0 ? _c : 0;\r\n                var yMinExact = (_f = Math.min.apply(Math, __spreadArray(__spreadArray([], calculatedGraphs.map(function (g) { var _a; return (_a = g === null || g === void 0 ? void 0 : g.yMinExact) !== null && _a !== void 0 ? _a : null; }).filter(function (g) { return g !== null; }), false), ((_e = (_d = rtData === null || rtData === void 0 ? void 0 : rtData.filter) === null || _d === void 0 ? void 0 : _d.call(rtData, function (val) { return oneYaxis.graphs.map(function (g, gIdx) { return g.dataId; }).includes(val.dataId); }).map(function (rtDat) { return rtDat.data.map(function (dat) { var _a; return (T.isCandleChartDataset(dat) ? (_a = dat.low) !== null && _a !== void 0 ? _a : dat.close : dat.close); }); }).flat()) !== null && _e !== void 0 ? _e : []), false))) !== null && _f !== void 0 ? _f : 0;\r\n                var decimals = (_g = Math.max.apply(Math, oneYaxis.graphs.map(function (g) { var _a, _b; return (_b = (_a = data.find(function (val) { return val.id === g.dataId; })) === null || _a === void 0 ? void 0 : _a.decimals) !== null && _b !== void 0 ? _b : 0; }))) !== null && _g !== void 0 ? _g : 0;\r\n                var optIntervalY = GetMetricYintervalStep(yMaxExact, yMinExact, decimals, intervalsTarget);\r\n                // optIntervalY cant be fetched by graphs since max and min may concern different graphs\r\n                var yMax = Math.ceil(yMaxExact / optIntervalY) * optIntervalY;\r\n                // Math.max(\r\n                //   ...(calculatedGraphs\r\n                //     .map((g) => (g ? Math.ceil(g.yMaxExact / optIntervalY) * optIntervalY : null))\r\n                //     .filter((g) => g !== null) as number[])\r\n                // ) ?? 0;\r\n                var yMin = Math.floor(yMinExact / optIntervalY) * optIntervalY;\r\n                // Math.min(\r\n                //   ...(calculatedGraphs\r\n                //     .map((g) => (g ? Math.floor(g.yMinExact / optIntervalY) * optIntervalY : null))\r\n                //     .filter((g) => g !== null) as number[])\r\n                // ) ?? 0;\r\n                var heightPerPt = (bottom - top) / ((yMax || 0) - (yMin || 0)) / Math.pow(10, decimals);\r\n                var translatedY = -pureYToPix(yMin || 0, bottom, decimals, 0, heightPerPt) + bottom;\r\n                var yToPix = function (price) { return pureYToPix(price, bottom, decimals, translatedY, heightPerPt); };\r\n                var yBottom = purePixToY(bottom, bottom, decimals, translatedY, heightPerPt);\r\n                var pixYBottomCeiled = yToPix(Math.ceil(yBottom / optIntervalY) * optIntervalY);\r\n                var intervalStep = (heightPerPt * optIntervalY) / Math.pow(10, -decimals);\r\n                var nintervalSteps = Math.floor((pixYBottomCeiled - 10 - top - 10) / intervalStep);\r\n                var drawTicks = !nintervalSteps || nintervalSteps < 0\r\n                    ? []\r\n                    : Array(nintervalSteps)\r\n                        .fill(0)\r\n                        .map(function (x, idx) {\r\n                        var pixY = pixYBottomCeiled - (idx + 1) * intervalStep;\r\n                        var yi = purePixToY(pixY, bottom, decimals, translatedY, heightPerPt);\r\n                        var label = (Math.round(yi * Math.pow(10, decimals)) / Math.pow(10, decimals)).toString();\r\n                        return { pixY: pixY, label: label };\r\n                    });\r\n                var finalGraphs = calculatedGraphs &&\r\n                    calculatedGraphs.map(function (graph, gIdx) {\r\n                        if (!(graph === null || graph === void 0 ? void 0 : graph.curData))\r\n                            return graph;\r\n                        var curTicks = graph.curData.map(function (dataset, dIdx) {\r\n                            var _a, _b;\r\n                            var graphTypes = (_b = (_a = data.find(function (dat) { var _a; return dat.id === ((_a = oneYaxis.graphs) === null || _a === void 0 ? void 0 : _a[gIdx].dataId) && dat.type === \"indicator\"; })) === null || _a === void 0 ? void 0 : _a.indicator) === null || _b === void 0 ? void 0 : _b.graphTypes;\r\n                            var pixY = T.isIndicatorDataset(dataset)\r\n                                ? {\r\n                                    pixPrices: dataset.prices.map(function (price, pIdx) { var _a, _b; return price && [\"line\", \"bars\"].includes((_b = (_a = graphTypes === null || graphTypes === void 0 ? void 0 : graphTypes[pIdx]) === null || _a === void 0 ? void 0 : _a.type) !== null && _b !== void 0 ? _b : \"\") ? yToPix(price) : null; }),\r\n                                }\r\n                                : T.isCandleChartDataset(dataset)\r\n                                    ? {\r\n                                        pixOpen: yToPix(dataset.open),\r\n                                        pixHigh: yToPix(dataset.high),\r\n                                        pixLow: yToPix(dataset.low),\r\n                                        pixClose: yToPix(dataset.close),\r\n                                    }\r\n                                    : T.isLineChartDataset(dataset)\r\n                                        ? { pixClose: yToPix(dataset.close) }\r\n                                        : null;\r\n                            return { pixX: xaxis.scaledWidthPerTick * dIdx, pixY: pixY };\r\n                        });\r\n                        return __assign(__assign({}, graph), { curTicks: curTicks });\r\n                    });\r\n                return {\r\n                    pixY0: yToPix(0),\r\n                    yMaxExact: yMaxExact,\r\n                    yMinExact: yMinExact,\r\n                    yMax: yMax,\r\n                    yMin: yMin,\r\n                    heightPerPt: heightPerPt,\r\n                    decimals: decimals,\r\n                    optIntervalY: optIntervalY,\r\n                    translatedY: translatedY,\r\n                    graphs: finalGraphs,\r\n                    drawTicks: drawTicks,\r\n                };\r\n            }),\r\n        };\r\n    });\r\n};\r\nexport var getYaxisMethods = function (subcharts, calcSubcharts) {\r\n    return {\r\n        yToPix: function (y, subchartIdx, yaxisIdx, translatedY) {\r\n            var _a, _b;\r\n            if (!((_b = (_a = subcharts === null || subcharts === void 0 ? void 0 : subcharts[subchartIdx]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[yaxisIdx]))\r\n                return 0;\r\n            var _c = calcSubcharts[subchartIdx].yaxis[yaxisIdx], heightPerPt = _c.heightPerPt, decimals = _c.decimals, stateTranslatedY = _c.translatedY;\r\n            var translatedYint = translatedY !== undefined ? translatedY : stateTranslatedY;\r\n            return subcharts[subchartIdx].bottom - y * Math.pow(10, decimals) * heightPerPt + translatedYint;\r\n        },\r\n        pixToY: function (pixY, subchartIdx, yaxisIdx, translatedY) {\r\n            var _a, _b;\r\n            if (!((_b = (_a = subcharts === null || subcharts === void 0 ? void 0 : subcharts[subchartIdx]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[yaxisIdx]))\r\n                return 0;\r\n            var _c = calcSubcharts[subchartIdx].yaxis[yaxisIdx], heightPerPt = _c.heightPerPt, decimals = _c.decimals, stateTranslatedY = _c.translatedY;\r\n            var translatedYint = translatedY !== undefined ? translatedY : stateTranslatedY;\r\n            return ((subcharts[subchartIdx].bottom + translatedYint - pixY) / heightPerPt) * Math.pow(10, -decimals);\r\n        },\r\n    };\r\n};\r\n//# sourceMappingURL=CalcSubcharts.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { setStateProp, addStateProp } from \"../utils/React\";\r\nimport { defaultTools } from \"../Tools/DefaultTools\";\r\nimport { getSubchartIdxByPixXy, purePixToX, purePixToY } from \"./utils/Utils\";\r\nimport { defaultDrawState } from \"./Defaults\";\r\nimport { isNullish } from \"../utils/Basics\";\r\nexport var editToolPosition = function (PreState, subcharts, action) {\r\n    var _a, _b, _c;\r\n    var pointer = PreState.pointer;\r\n    var calc = PreState.calc;\r\n    var calcPointer = calc.pointer;\r\n    if (((_a = action === null || action === void 0 ? void 0 : action.drag) === null || _a === void 0 ? void 0 : _a.type) !== \"editTool\")\r\n        return subcharts;\r\n    var actionDrag = action === null || action === void 0 ? void 0 : action.drag;\r\n    var subchartIdx = actionDrag.subchartIdx, yaxisIdx = actionDrag.yaxisIdx;\r\n    var subchart = subcharts[subchartIdx];\r\n    var calcYaxis = calc.subcharts[subchartIdx].yaxis[yaxisIdx];\r\n    var hasSnappedY = calcPointer.move.snapDatasets.length > 0 && !!calcPointer.move.snapDatasets[0].ySnap;\r\n    var newX = (_b = calcPointer.move.x) !== null && _b !== void 0 ? _b : calcPointer.move.xUnlimited;\r\n    var newY = hasSnappedY\r\n        ? parseFloat((_c = calcPointer.move.snapDatasets[0].ySnap) !== null && _c !== void 0 ? _c : \"\")\r\n        : purePixToY(pointer.drag.xy[1], subchart.bottom, calcYaxis.decimals, calcYaxis.translatedY, calcYaxis.heightPerPt);\r\n    var toolIdx = actionDrag.toolIdx, toolPtIdx = actionDrag.toolPtIdx;\r\n    return setStateProp(subcharts, [subchartIdx, \"yaxis\", yaxisIdx, \"tools\", toolIdx, \"xy\", toolPtIdx], [newX, newY]);\r\n};\r\nvar addToolAnchor = function (drawToolType, draw, xy) {\r\n    // const curPixX = !!calcPointer.move.pixXSnap ? calcPointer.move.pixXSnap : pointer.drag.xy[0];\r\n    // const curPixY =\r\n    //   calcPointer.move.snapDatasets.length > 0 && !!calcPointer.move.snapDatasets[0].pixYSnap\r\n    //     ? calcPointer.move.snapDatasets[0].pixYSnap\r\n    //     : pointer.drag.xy[1];\r\n    // const dragpixXy: [number, number] = [curPixX, curPixY];\r\n    if (!drawToolType || !draw || !xy)\r\n        return defaultDrawState;\r\n    return __assign(__assign({}, draw), { xy: __spreadArray(__spreadArray([], draw.xy, true), [xy], false) });\r\n};\r\nvar addTool = function (subcharts, subchartIdx, draw, style) {\r\n    // const xaxis = PreState.calc.xaxis;\r\n    // const drag = PreState.pointer.drag;\r\n    // const calc = PreState.calc;\r\n    var _a, _b;\r\n    // const subchartIdx = getSubchartIdxByPixXy(drag.initial, subcharts);\r\n    // if (subchartIdx === null || !xaxis || !draw || !drag || !draw.type) return subcharts;\r\n    var xy = draw.xy;\r\n    // const pixXyArr = draw.xy;\r\n    // const xyArr = pixXyArr.map((pixXy, pixXyIdx) => [\r\n    //   purePixToX(pixXy[0], xaxis.totalTranslatedX, xaxis.scaledWidthPerTick),\r\n    //   purePixToY(\r\n    //     pixXy[1],\r\n    //     subcharts[subchartIdx].bottom,\r\n    //     calc.subcharts[subchartIdx].yaxis[0].decimals,\r\n    //     calc.subcharts[subchartIdx].yaxis[0].translatedY,\r\n    //     calc.subcharts[subchartIdx].yaxis[0].heightPerPt\r\n    //   ),\r\n    // ]);\r\n    var params = (_b = (_a = defaultTools.find(function (val) { return val.type === draw.type; })) === null || _a === void 0 ? void 0 : _a.params) !== null && _b !== void 0 ? _b : [];\r\n    return addStateProp(subcharts, [subchartIdx, \"yaxis\", 0, \"tools\"], {\r\n        xy: xy,\r\n        type: draw.type,\r\n        style: style.draw,\r\n        params: params,\r\n    });\r\n};\r\nexport var drawTool = function (PreState, subcharts, draw, style) {\r\n    var _a, _b, _c;\r\n    var DragEndState = PreState.pointer.dragPointerUp;\r\n    if (!DragEndState.isDragPointerUp)\r\n        return { subcharts: subcharts, draw: draw };\r\n    var calc = PreState.calc;\r\n    var calcPointer = calc.pointer, xaxis = calc.xaxis;\r\n    var pointer = PreState.pointer;\r\n    var drawElementType = draw.type;\r\n    var nPoints = (_a = defaultTools.find(function (tool) { return tool.type === drawElementType; })) === null || _a === void 0 ? void 0 : _a.nPoints;\r\n    var subchartIdx = getSubchartIdxByPixXy(pointer.drag.initial, subcharts);\r\n    if (!drawElementType || !nPoints || isNullish(subchartIdx))\r\n        return { draw: defaultDrawState, subcharts: subcharts };\r\n    var subchart = (_b = calc.subcharts) === null || _b === void 0 ? void 0 : _b[subchartIdx];\r\n    var yaxis = (_c = subchart === null || subchart === void 0 ? void 0 : subchart.yaxis) === null || _c === void 0 ? void 0 : _c[0];\r\n    if (!subchart || !yaxis)\r\n        return { draw: defaultDrawState, subcharts: subcharts };\r\n    var pixX = calcPointer.move.pixXSnap ? calcPointer.move.pixXSnap : pointer.drag.xy[0];\r\n    var pixY = calcPointer.move.snapDatasets.length > 0 && !!calcPointer.move.snapDatasets[0].pixYSnap\r\n        ? calcPointer.move.snapDatasets[0].pixYSnap\r\n        : pointer.drag.xy[1]; //not better move?\r\n    var x = purePixToX(pixX, xaxis.totalTranslatedX, xaxis.scaledWidthPerTick);\r\n    var decimals = yaxis.decimals, translatedY = yaxis.translatedY, heightPerPt = yaxis.heightPerPt;\r\n    var y = purePixToY(pixY, subcharts[subchartIdx].bottom, decimals, translatedY, heightPerPt);\r\n    var nDrawnPoint = draw.xy.length;\r\n    return nDrawnPoint < nPoints - 1\r\n        ? { draw: addToolAnchor(draw.type, draw, [x, y]), subcharts: subcharts }\r\n        : {\r\n            draw: defaultDrawState,\r\n            subcharts: addTool(subcharts, subchartIdx, addToolAnchor(draw.type, draw, [x, y]), style),\r\n        };\r\n};\r\n//# sourceMappingURL=ToolInteractions.js.map","import { chartPeriods, getDateUnits } from \"../utils/DateTime\";\r\nimport { isNullish } from \"../../utils/Basics\";\r\nexport var getTickPeriod = function (date, dateStat, chartPeriod, optPeriod) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5;\r\n    if (!chartPeriod || !optPeriod || !dateStat)\r\n        return null;\r\n    var optPeriodName = optPeriod.name, optMultiply = optPeriod.multiply;\r\n    var numericDate = getDateUnits(date);\r\n    var minute = numericDate.minute, hour = numericDate.hour, day = numericDate.day, week = numericDate.week, month = numericDate.month, year = numericDate.year;\r\n    var yearIdx = dateStat.years.findIndex(function (val) { return val.year === year; });\r\n    var monthIdx = (_c = (_b = (_a = dateStat.years) === null || _a === void 0 ? void 0 : _a[yearIdx]) === null || _b === void 0 ? void 0 : _b.months) === null || _c === void 0 ? void 0 : _c.findIndex(function (val) { return val.month === month; });\r\n    var weekIdx = (_h = (_g = (_f = (_e = (_d = dateStat.years) === null || _d === void 0 ? void 0 : _d[yearIdx]) === null || _e === void 0 ? void 0 : _e.months) === null || _f === void 0 ? void 0 : _f[monthIdx]) === null || _g === void 0 ? void 0 : _g.weeks) === null || _h === void 0 ? void 0 : _h.findIndex(function (val) { return val.week === week; });\r\n    var dayIdx = (_q = (_p = (_o = (_m = (_l = (_k = (_j = dateStat.years) === null || _j === void 0 ? void 0 : _j[yearIdx]) === null || _k === void 0 ? void 0 : _k.months) === null || _l === void 0 ? void 0 : _l[monthIdx]) === null || _m === void 0 ? void 0 : _m.weeks) === null || _o === void 0 ? void 0 : _o[weekIdx]) === null || _p === void 0 ? void 0 : _p.days) === null || _q === void 0 ? void 0 : _q.findIndex(function (v) { return v.day === day; });\r\n    var dayStat = (_x = (_w = (_v = (_u = (_t = (_s = (_r = dateStat.years) === null || _r === void 0 ? void 0 : _r[yearIdx]) === null || _s === void 0 ? void 0 : _s.months) === null || _t === void 0 ? void 0 : _t[monthIdx]) === null || _u === void 0 ? void 0 : _u.weeks) === null || _v === void 0 ? void 0 : _v[weekIdx]) === null || _w === void 0 ? void 0 : _w.days) === null || _x === void 0 ? void 0 : _x[dayIdx];\r\n    if (yearIdx === -1 || monthIdx === -1 || weekIdx === -1 || dayIdx === -1 || !dayStat)\r\n        return null;\r\n    var isIntradayData = chartPeriod.period < ((_z = (_y = chartPeriods === null || chartPeriods === void 0 ? void 0 : chartPeriods[2]) === null || _y === void 0 ? void 0 : _y.range) === null || _z === void 0 ? void 0 : _z[0]);\r\n    var isIntraHourData = chartPeriod.period < ((_1 = (_0 = chartPeriods === null || chartPeriods === void 0 ? void 0 : chartPeriods[1]) === null || _0 === void 0 ? void 0 : _0.range) === null || _1 === void 0 ? void 0 : _1[0]);\r\n    var hourIdx = isIntradayData ? dayStat === null || dayStat === void 0 ? void 0 : dayStat.hours.findIndex(function (val) { return val.hour === hour; }) : undefined;\r\n    var minuteIdx = isIntradayData &&\r\n        !isNullish(hourIdx) &&\r\n        ((_3 = (_2 = dayStat === null || dayStat === void 0 ? void 0 : dayStat.hours) === null || _2 === void 0 ? void 0 : _2[hourIdx]) === null || _3 === void 0 ? void 0 : _3.minutes.findIndex(function (val) { return val.minute === minute; })) !== -1\r\n        ? (_5 = (_4 = dayStat === null || dayStat === void 0 ? void 0 : dayStat.hours) === null || _4 === void 0 ? void 0 : _4[hourIdx]) === null || _5 === void 0 ? void 0 : _5.minutes.findIndex(function (val) { return val.minute === minute; })\r\n        : undefined;\r\n    if ((isIntradayData && isNullish(hourIdx)) || (isIntraHourData && isNullish(minuteIdx)))\r\n        return null;\r\n    // chartperiod (period of chartdata) is optimal period @multiply=1 -> every tick is a new period on xaxis\r\n    if (chartPeriod.name === optPeriodName && optMultiply === 1)\r\n        return optPeriodName;\r\n    var statIdxs = { yearIdx: yearIdx, monthIdx: monthIdx, weekIdx: weekIdx, dayIdx: dayIdx, hourIdx: hourIdx, minuteIdx: minuteIdx };\r\n    var isNewIntraday = !hourIdx && !minuteIdx; // hourIdx, minuteIdx === 0 or undefined\r\n    var monthMultiplys = optPeriodName === \"months\" ? optMultiply : 1;\r\n    var weekMultiplys = optPeriodName === \"weeks\" ? optMultiply : 1;\r\n    var dayMultiplys = optPeriodName === \"days\" ? optMultiply : 1;\r\n    var hourMultiplys = optPeriodName === \"hours\" ? optMultiply : 1;\r\n    return isNewYear(numericDate, dateStat, statIdxs) && !hourIdx && !minuteIdx\r\n        ? \"years\"\r\n        : optPeriodName !== \"years\" && isNewMonth(numericDate, dateStat, statIdxs, monthMultiplys) && isNewIntraday\r\n            ? \"months\"\r\n            : ![\"years\", \"months\"].includes(optPeriodName) &&\r\n                isNewIsoWeek(numericDate, dateStat, statIdxs, weekMultiplys) &&\r\n                isNewIntraday\r\n                ? \"weeks\"\r\n                : ![\"years\", \"months\", \"weeks\"].includes(optPeriodName) &&\r\n                    isNewDay(numericDate, dateStat, statIdxs, dayMultiplys) &&\r\n                    isNewIntraday\r\n                    ? \"days\"\r\n                    : ![\"years\", \"months\", \"weeks\", \"days\"].includes(optPeriodName) &&\r\n                        isNewHour(numericDate, dateStat, statIdxs, hourMultiplys) &&\r\n                        !minuteIdx\r\n                        ? \"hours\"\r\n                        : optPeriodName === \"minutes\" && isNewMinute(numericDate, dateStat, statIdxs, optMultiply)\r\n                            ? \"minutes\"\r\n                            : null;\r\n};\r\nvar isNewYear = function (numericDate, dateStat, statIdxs\r\n//periodMultiply: 1 = 1\r\n) {\r\n    var _a, _b, _c;\r\n    var day = numericDate.day, week = numericDate.week, month = numericDate.month;\r\n    var yearIdx = statIdxs.yearIdx;\r\n    if (!dateStat)\r\n        return false;\r\n    var firstMonthStat = (_c = (_b = (_a = dateStat.years) === null || _a === void 0 ? void 0 : _a[yearIdx]) === null || _b === void 0 ? void 0 : _b.months) === null || _c === void 0 ? void 0 : _c[0];\r\n    if (firstMonthStat.weeks[0].days[0].day === day &&\r\n        firstMonthStat.weeks[0].week === week &&\r\n        firstMonthStat.month === month)\r\n        return true;\r\n    return false;\r\n};\r\nvar isNewMonth = function (numericDate, dateStat, statIdxs, periodMultiply) {\r\n    if (periodMultiply === void 0) { periodMultiply = 1; }\r\n    var day = numericDate.day, week = numericDate.week;\r\n    var yearIdx = statIdxs.yearIdx, monthIdx = statIdxs.monthIdx;\r\n    if ((monthIdx + 1) % periodMultiply !== 0 || yearIdx === -1 || monthIdx === -1 || !dateStat)\r\n        return false;\r\n    if (dateStat.years[yearIdx].months[monthIdx].weeks[0].days[0].day === day &&\r\n        dateStat.years[yearIdx].months[monthIdx].weeks[0].week === week)\r\n        return true;\r\n    return false;\r\n};\r\nvar isNewIsoWeek = function (numericDate, dateStat, statIdxs, periodMultiply) {\r\n    if (periodMultiply === void 0) { periodMultiply = 1; }\r\n    var day = numericDate.day, week = numericDate.week;\r\n    var yearIdx = statIdxs.yearIdx, monthIdx = statIdxs.monthIdx, weekIdx = statIdxs.weekIdx;\r\n    if (!dateStat)\r\n        return false;\r\n    if (dateStat.years[yearIdx].months[monthIdx].weeks[weekIdx].days[0].day === day &&\r\n        dateStat.years[yearIdx].months[monthIdx].weeks[weekIdx].week === week) {\r\n        if (periodMultiply === 2) {\r\n            var daysInMonth_1 = 0;\r\n            dateStat.years[yearIdx].months[monthIdx].weeks.forEach(function (val) { return (daysInMonth_1 += val.days.length); });\r\n            var curDays = 0;\r\n            var opt = 0;\r\n            var optWeekIdx = 0;\r\n            var optimalDaysTarget = Math.round(daysInMonth_1 / 2);\r\n            for (var i = 0; i < dateStat.years[yearIdx].months[monthIdx].weeks.length; i++) {\r\n                var weekInMonth = dateStat.years[yearIdx].months[monthIdx].weeks[i];\r\n                if (Math.abs(curDays + weekInMonth.days.length - optimalDaysTarget) < Math.abs(opt - optimalDaysTarget)) {\r\n                    opt = curDays + weekInMonth.days.length;\r\n                    optWeekIdx = i + 1;\r\n                }\r\n                curDays += weekInMonth.days.length;\r\n            }\r\n            if (weekIdx === optWeekIdx)\r\n                return true;\r\n            return false;\r\n        }\r\n        else if (periodMultiply === 1) {\r\n            if (weekIdx === 1 && dateStat.years[yearIdx].months[monthIdx].weeks[0].days.length < 3)\r\n                return false;\r\n            if (weekIdx === dateStat.years[yearIdx].months[monthIdx].weeks.length - 1 &&\r\n                dateStat.years[yearIdx].months[monthIdx].weeks[weekIdx].days.length < 3)\r\n                return false;\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\nvar isNewDay = function (numericDate, dateStat, statIdxs, periodMultiply) {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    if (periodMultiply === void 0) { periodMultiply = 1; }\r\n    var day = numericDate.day;\r\n    var yearIdx = statIdxs.yearIdx, monthIdx = statIdxs.monthIdx, weekIdx = statIdxs.weekIdx, dayIdx = statIdxs.dayIdx;\r\n    if (!dateStat)\r\n        return false;\r\n    var dayStat = (_g = (_f = (_e = (_d = (_c = (_b = (_a = dateStat.years) === null || _a === void 0 ? void 0 : _a[yearIdx]) === null || _b === void 0 ? void 0 : _b.months) === null || _c === void 0 ? void 0 : _c[monthIdx]) === null || _d === void 0 ? void 0 : _d.weeks) === null || _e === void 0 ? void 0 : _e[weekIdx]) === null || _f === void 0 ? void 0 : _f.days) === null || _g === void 0 ? void 0 : _g[dayIdx];\r\n    if (dayIdx === -1 || weekIdx === -1 || monthIdx === -1 || yearIdx === -1 || !dayStat)\r\n        return false;\r\n    // const { multiply: optPeriodMultiply, name: optPeriodName } = optPeriod;\r\n    if (dayStat.day === day && periodMultiply === 1) {\r\n        return true;\r\n    }\r\n    if (dayStat.day === day && periodMultiply === 2) {\r\n        if (dateStat.years[yearIdx].months[monthIdx].weeks[weekIdx].days.length <= 3)\r\n            return false; // weeks with up to 3 days are not diveded\r\n        if ((dateStat.years[yearIdx].months[monthIdx].weeks[weekIdx].days.length === 4 && (dayIdx === 0 || dayIdx === 2)) ||\r\n            (dateStat.years[yearIdx].months[monthIdx].weeks[weekIdx].days.length === 5 && (dayIdx === 0 || dayIdx === 2)) ||\r\n            (dateStat.years[yearIdx].months[monthIdx].weeks[weekIdx].days.length === 6 &&\r\n                (dayIdx === 0 || dayIdx === 2 || dayIdx === 4)) ||\r\n            (dateStat.years[yearIdx].months[monthIdx].weeks[weekIdx].days.length === 7 &&\r\n                (dayIdx === 0 || dayIdx === 2 || dayIdx === 5)))\r\n            return true;\r\n    }\r\n    return false;\r\n};\r\nvar isNewHour = function (numericDate, dateStat, statIdxs, periodMultiply) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h;\r\n    if (periodMultiply === void 0) { periodMultiply = 1; }\r\n    var hour = numericDate.hour;\r\n    var yearIdx = statIdxs.yearIdx, monthIdx = statIdxs.monthIdx, weekIdx = statIdxs.weekIdx, dayIdx = statIdxs.dayIdx, hourIdx = statIdxs.hourIdx;\r\n    if (!dateStat)\r\n        return false;\r\n    var dayStat = (_g = (_f = (_e = (_d = (_c = (_b = (_a = dateStat.years) === null || _a === void 0 ? void 0 : _a[yearIdx]) === null || _b === void 0 ? void 0 : _b.months) === null || _c === void 0 ? void 0 : _c[monthIdx]) === null || _d === void 0 ? void 0 : _d.weeks) === null || _e === void 0 ? void 0 : _e[weekIdx]) === null || _f === void 0 ? void 0 : _f.days) === null || _g === void 0 ? void 0 : _g[dayIdx];\r\n    var hourStat = isNullish(hourIdx) ? null : (_h = dayStat === null || dayStat === void 0 ? void 0 : dayStat.hours) === null || _h === void 0 ? void 0 : _h[hourIdx];\r\n    if (dayIdx === -1 ||\r\n        weekIdx === -1 ||\r\n        monthIdx === -1 ||\r\n        yearIdx === -1 ||\r\n        hourIdx === -1 ||\r\n        !hourStat ||\r\n        isNullish(hourIdx))\r\n        return false;\r\n    if (hourIdx % periodMultiply !== 0)\r\n        return false;\r\n    if (hourStat.hour === hour)\r\n        return true; //\r\n    return false;\r\n};\r\nvar isNewMinute = function (numericDate, dateStat, statIdxs, periodMultiply) {\r\n    if (periodMultiply === void 0) { periodMultiply = 1; }\r\n    var minute = numericDate.minute;\r\n    var yearIdx = statIdxs.yearIdx, monthIdx = statIdxs.monthIdx, weekIdx = statIdxs.weekIdx, dayIdx = statIdxs.dayIdx, hourIdx = statIdxs.hourIdx, minuteIdx = statIdxs.minuteIdx;\r\n    if (!dateStat)\r\n        return false;\r\n    var dayStat = dateStat.years[yearIdx].months[monthIdx].weeks[weekIdx].days[dayIdx];\r\n    if (yearIdx === -1 || monthIdx === -1 || weekIdx === -1 || dayIdx === -1)\r\n        return false;\r\n    if (isNullish(hourIdx) || hourIdx === -1 || isNullish(minuteIdx) || minuteIdx === -1)\r\n        return false;\r\n    var minuteStat = dayStat.hours[hourIdx].minutes[minuteIdx];\r\n    if (minuteIdx % periodMultiply !== 0)\r\n        return false;\r\n    if (minuteStat.minute === minute)\r\n        return true;\r\n    return false;\r\n};\r\n//# sourceMappingURL=PeriodUtils.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { getDateString, chartPeriods } from \"../utils/DateTime\";\r\nimport { getTickPeriod } from \"./PeriodUtils\";\r\nimport { isNullish } from \"../../utils/Basics\";\r\nimport { purePixToX, pureXToPix } from \"../utils/Utils\";\r\n// scaledWidthPerTick -> scaledWidthPerTick after scaling\r\nvar scaleFn2 = function (deltaPixX, scaleInitWidthPerTick, containerWidth) {\r\n    return deltaPixX >= 0\r\n        ? Math.min(scaleInitWidthPerTick *\r\n            (1 + Math.abs(deltaPixX) / (containerWidth / 2)), containerWidth / 3)\r\n        : Math.max(scaleInitWidthPerTick /\r\n            (1 + Math.abs(deltaPixX) / (containerWidth / 2)), 1);\r\n};\r\nvar getOptimalPeriod = function (metaData, dateStat, containerWidth, widthPerTick) {\r\n    if (!metaData.chartPeriod || !dateStat)\r\n        return null;\r\n    var _a = metaData.chartPeriod, chartPeriodName = _a.name, chartPeriodMultiply = _a.multiply;\r\n    var periodsConstIdx = chartPeriods.findIndex(function (periodConst) { return periodConst.name === chartPeriodName; });\r\n    if (periodsConstIdx === -1)\r\n        return null;\r\n    var nCurrentBars = purePixToX(containerWidth, 0, widthPerTick);\r\n    var curAccAmts = __assign({}, dateStat.accAmt);\r\n    Object.entries(curAccAmts).forEach(function (_a) {\r\n        var key = _a[0];\r\n        var pKey = key;\r\n        if (key !== chartPeriodName)\r\n            curAccAmts[pKey] =\r\n                (curAccAmts[pKey] * nCurrentBars) / curAccAmts[chartPeriodName];\r\n        else\r\n            curAccAmts[chartPeriodName] = nCurrentBars;\r\n    });\r\n    var targetIntervals = Math.max(Math.round(containerWidth / 50), 4); //10\r\n    var minimizationFunction = function (amtOfPeriod, multiply) {\r\n        return Math.abs(amtOfPeriod / multiply - targetIntervals);\r\n    };\r\n    var optPeriodRes = chartPeriods\r\n        .slice(periodsConstIdx)\r\n        .map(function (constPeriod, constIdx) {\r\n        var name = constPeriod.name;\r\n        var multiplys = constIdx === 0\r\n            ? __spreadArray([1], constPeriod.scaleMultiplys, true).filter(function (val) { return val >= chartPeriodMultiply; })\r\n                .map(function (val) { return val / chartPeriodMultiply; })\r\n            : __spreadArray([1], constPeriod.scaleMultiplys, true);\r\n        return __spreadArray([1], multiplys, true).map(function (multiply, mIdx) {\r\n            var amt = curAccAmts[name];\r\n            var period = constPeriod.period;\r\n            return { name: name, multiply: multiply, amt: amt, period: period };\r\n        });\r\n    })\r\n        .flat()\r\n        .reduce(function (acc, cur, idx) {\r\n        return minimizationFunction(cur.amt, cur.multiply) <\r\n            minimizationFunction(acc.amt, acc.multiply)\r\n            ? cur\r\n            : acc;\r\n    });\r\n    var amt = optPeriodRes.amt, result = __rest(optPeriodRes, [\"amt\"]);\r\n    return result;\r\n};\r\nvar calcXaxisVals = function (scaledWidthPerTick, translatedPixX, containerWidth, mainGraph, data) {\r\n    var _a, _b;\r\n    var xStartExaxt = !scaledWidthPerTick\r\n        ? 0\r\n        : -translatedPixX / scaledWidthPerTick;\r\n    var xStart = Math.max(Math.ceil(xStartExaxt), 0);\r\n    var pixXStart = xStart * scaledWidthPerTick + translatedPixX;\r\n    var defaultXaxis = {\r\n        xStart: xStart,\r\n        pixXStart: pixXStart,\r\n        xEnd: 0,\r\n        xLast: 0,\r\n        xUnlimited: 0,\r\n        pixXEnd: 0,\r\n        curTicks: [],\r\n        optChartPeriod: null,\r\n    };\r\n    var mainGraphData = data.find(function (val) { return val.id === (mainGraph === null || mainGraph === void 0 ? void 0 : mainGraph.dataId); });\r\n    if (!containerWidth ||\r\n        !mainGraph ||\r\n        !scaledWidthPerTick ||\r\n        !mainGraphData ||\r\n        !mainGraphData.dateStat ||\r\n        ((_a = mainGraphData === null || mainGraphData === void 0 ? void 0 : mainGraphData.data) === null || _a === void 0 ? void 0 : _a.length) === 0)\r\n        return defaultXaxis;\r\n    var nMainData = (_b = mainGraphData.data.length) !== null && _b !== void 0 ? _b : 0;\r\n    var pixXEnd = Math.min(containerWidth, nMainData * scaledWidthPerTick + translatedPixX);\r\n    var pixXEndUnlimited = containerWidth;\r\n    var xUnlimited = Math.floor((pixXEndUnlimited - translatedPixX) / scaledWidthPerTick);\r\n    var xEnd = Math.min(xUnlimited, nMainData - 1);\r\n    var optChartPeriod = getOptimalPeriod(mainGraphData.meta, mainGraphData.dateStat, containerWidth, scaledWidthPerTick);\r\n    var chartPeriod = mainGraphData.meta.chartPeriod;\r\n    var dateStat = mainGraphData === null || mainGraphData === void 0 ? void 0 : mainGraphData.dateStat;\r\n    var curTicks = !optChartPeriod || !chartPeriod || isNullish(dateStat)\r\n        ? []\r\n        : Array(xEnd - xStart + 1)\r\n            .fill(0)\r\n            .map(function (x, idx) {\r\n            var xi = xStart + idx;\r\n            var periodToDraw = getTickPeriod(mainGraphData.data[xi].date, dateStat, chartPeriod, __assign({}, optChartPeriod));\r\n            if (periodToDraw) {\r\n                var dateString = getDateString(mainGraphData.data[xi].date, periodToDraw);\r\n                return { x: pixXStart + scaledWidthPerTick * idx, dateString: dateString };\r\n            }\r\n            return null;\r\n        })\r\n            .filter(function (val) { return val !== null; });\r\n    var xToPix = function (x, translatedX) {\r\n        var translatedXint = translatedX !== null && translatedX !== void 0 ? translatedX : translatedPixX;\r\n        return pureXToPix(x, translatedXint, scaledWidthPerTick);\r\n    };\r\n    var pixToX = function (pixX, translatedX) {\r\n        var translatedXint = translatedX !== null && translatedX !== void 0 ? translatedX : translatedPixX;\r\n        return purePixToX(pixX, translatedXint, scaledWidthPerTick);\r\n    };\r\n    return {\r\n        xLast: nMainData - 1,\r\n        xStart: xStart,\r\n        pixXStart: pixXStart,\r\n        xEnd: xEnd,\r\n        xUnlimited: xUnlimited,\r\n        pixXEnd: pixXEnd,\r\n        curTicks: curTicks,\r\n        optChartPeriod: optChartPeriod,\r\n        xToPix: xToPix,\r\n        pixToX: pixToX,\r\n    };\r\n};\r\nexport var calculateXaxis = function (PreState, action, mainGraph, data) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n    var xaxis = PreState.calc.xaxis;\r\n    var pointer = PreState.pointer;\r\n    var canvasWidth = PreState.containerSize.width - 1;\r\n    var wheelDeltaY = (_a = pointer.wheel) === null || _a === void 0 ? void 0 : _a.delta[1];\r\n    var isWheeling = !!action.wheel;\r\n    var isPinching = !!action.pinch;\r\n    var initWheelMousePos = (_b = pointer.move) === null || _b === void 0 ? void 0 : _b.xy;\r\n    var doDragAction = (_c = action === null || action === void 0 ? void 0 : action.drag) === null || _c === void 0 ? void 0 : _c.shallUpdate;\r\n    var doTranslate = ((_d = action === null || action === void 0 ? void 0 : action.drag) === null || _d === void 0 ? void 0 : _d.type) === \"translate\" && doDragAction;\r\n    var doScale = ((_e = action === null || action === void 0 ? void 0 : action.drag) === null || _e === void 0 ? void 0 : _e.type) === \"scale\" && doDragAction;\r\n    var mainGraphData = data.find(function (val) { return val.id === (mainGraph === null || mainGraph === void 0 ? void 0 : mainGraph.dataId); });\r\n    var dragInit = (_f = pointer.drag) === null || _f === void 0 ? void 0 : _f.initial;\r\n    if (!mainGraphData ||\r\n        (!((_g = action.drag) === null || _g === void 0 ? void 0 : _g.shallUpdate) &&\r\n            !action.wheel &&\r\n            !action.deps &&\r\n            !action.containerResize) ||\r\n        (!dragInit && ((_h = action.drag) === null || _h === void 0 ? void 0 : _h.shallUpdate)))\r\n        return xaxis;\r\n    var nMainData = mainGraphData.data.length;\r\n    if (isPinching) {\r\n        var pinchAction = action.pinch;\r\n        var initScaledWidthPerTick = pinchAction.initScaledWidthPerTick, initTranslatedX = pinchAction.initTranslatedX, type = pinchAction.type;\r\n        if (type !== \"pinchScale\" ||\r\n            isNullish(initScaledWidthPerTick) ||\r\n            isNullish(initTranslatedX))\r\n            return xaxis;\r\n        var scaledWidthPerTick = scaleFn2((_j = pointer === null || pointer === void 0 ? void 0 : pointer.pinch) === null || _j === void 0 ? void 0 : _j.movementInitial[0], initScaledWidthPerTick, canvasWidth);\r\n        var translatedXonStart = initTranslatedX;\r\n        var initPixX = dragInit[0];\r\n        var initXexact = (dragInit[0] - translatedXonStart) / initScaledWidthPerTick;\r\n        var newPos = initXexact * scaledWidthPerTick + translatedXonStart;\r\n        var totalTranslatedX = initTranslatedX - newPos + initPixX;\r\n        return __assign(__assign(__assign({}, xaxis), { scaledWidthPerTick: scaledWidthPerTick, totalTranslatedX: totalTranslatedX }), calcXaxisVals(scaledWidthPerTick, totalTranslatedX, canvasWidth, mainGraph, data));\r\n    }\r\n    else if (isWheeling) {\r\n        var scaledWidthPerTick = scaleFn2(wheelDeltaY / 2, xaxis.scaledWidthPerTick, canvasWidth);\r\n        var translatedXonStart = xaxis.totalTranslatedX;\r\n        var initPixX = initWheelMousePos ? initWheelMousePos[0] : 0;\r\n        var initXexact = ((initWheelMousePos ? initWheelMousePos[0] : 0) - translatedXonStart) /\r\n            xaxis.scaledWidthPerTick;\r\n        var newPos = Math.round(initXexact) * scaledWidthPerTick + xaxis.totalTranslatedX;\r\n        var totalTranslatedX = xaxis.totalTranslatedX - newPos + initPixX;\r\n        return __assign(__assign(__assign({}, xaxis), { scaledWidthPerTick: scaledWidthPerTick, totalTranslatedX: totalTranslatedX }), calcXaxisVals(scaledWidthPerTick, totalTranslatedX, canvasWidth, mainGraph, data));\r\n    }\r\n    else if (doTranslate) {\r\n        var totalTranslatedX = Math.max(Math.min(pointer.drag.delta[0] + xaxis.totalTranslatedX, canvasWidth - 2 * xaxis.scaledWidthPerTick), -((nMainData - 3) * xaxis.scaledWidthPerTick));\r\n        return __assign(__assign(__assign({}, xaxis), { totalTranslatedX: totalTranslatedX }), calcXaxisVals(xaxis.scaledWidthPerTick, totalTranslatedX, canvasWidth, mainGraph, data));\r\n    }\r\n    else if (doScale) {\r\n        var dragAction = action.drag;\r\n        var initTranslatedX = dragAction.initTranslatedX, initScaledWidthPerTick = dragAction.initScaledWidthPerTick;\r\n        if (!initScaledWidthPerTick)\r\n            return xaxis;\r\n        var scaledWidthPerTick = scaleFn2((_k = pointer === null || pointer === void 0 ? void 0 : pointer.drag) === null || _k === void 0 ? void 0 : _k.movementInitial[0], initScaledWidthPerTick, canvasWidth);\r\n        var translatedXonStart = initTranslatedX;\r\n        var initPixX = dragInit[0];\r\n        var initXexact = (dragInit[0] - translatedXonStart) / initScaledWidthPerTick;\r\n        var newPos = initXexact * scaledWidthPerTick + translatedXonStart;\r\n        var totalTranslatedX = initTranslatedX - newPos + initPixX;\r\n        return __assign(__assign(__assign({}, xaxis), { scaledWidthPerTick: scaledWidthPerTick, totalTranslatedX: totalTranslatedX }), calcXaxisVals(scaledWidthPerTick, totalTranslatedX, canvasWidth, mainGraph, data));\r\n    }\r\n    else if (action.deps) {\r\n        return __assign(__assign({}, xaxis), calcXaxisVals(xaxis.scaledWidthPerTick, xaxis.totalTranslatedX, canvasWidth, mainGraph, data));\r\n    }\r\n    return xaxis;\r\n};\r\nexport var jumpToXaxisEnd = function (xaxis, mainGraphData, containerWidth) {\r\n    return __assign(__assign({}, xaxis), { totalTranslatedX: -(mainGraphData.length + 10 - containerWidth / xaxis.scaledWidthPerTick) *\r\n            xaxis.scaledWidthPerTick });\r\n};\r\n//# sourceMappingURL=CalcXaxis.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport React from \"react\";\r\nimport { useResizeDetector } from \"react-resize-detector\";\r\nimport { useGesture } from \"react-use-gesture\";\r\nimport { isNullish } from \"../utils/Basics\";\r\nimport { getDefaultChartInteractions } from \"./Defaults\";\r\nexport var useChartInteractions = function (HtmlElementRef, initialState, isContainerInit, width, height, left, top, viewMode, disablePointerEvents, fullscreen) {\r\n    var _a, _b, _c, _d;\r\n    /* shortcuts and default values for settings props */\r\n    var staticWidth = width;\r\n    var staticHeight = height;\r\n    /* T.ChartInteractions ref used to store/accumulate interactive state changes before setting state */\r\n    var ChartInteractionsRef = React.useRef(getDefaultChartInteractions(initialState));\r\n    /* CONTAINER SIZE\r\n    /* init and update container size in static viewMode - not in fullscreen */\r\n    var _e = (_b = (_a = HtmlElementRef === null || HtmlElementRef === void 0 ? void 0 : HtmlElementRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) !== null && _b !== void 0 ? _b : {}, clientTop = _e.top, clientLeft = _e.left;\r\n    React.useEffect(function () {\r\n        var ref = HtmlElementRef;\r\n        if (!(ref === null || ref === void 0 ? void 0 : ref.current) ||\r\n            fullscreen ||\r\n            viewMode !== \"static\" ||\r\n            isNullish(clientTop) ||\r\n            isNullish(clientLeft))\r\n            return;\r\n        var Interactions = ChartInteractionsRef.current;\r\n        // const { top, left } = ref.current.getBoundingClientRect();\r\n        var _a = ref.current, clientWidth = _a.clientWidth, clientHeight = _a.clientHeight;\r\n        var width = viewMode === \"static\" && staticWidth !== undefined\r\n            ? staticWidth\r\n            : clientWidth;\r\n        var height = viewMode === \"static\" && staticHeight !== undefined\r\n            ? staticHeight\r\n            : clientHeight;\r\n        var containerSize = {\r\n            top: clientTop,\r\n            left: clientLeft,\r\n            width: width,\r\n            height: height,\r\n            init: true,\r\n        };\r\n        ref.current.style.position = \"relative\";\r\n        ref.current.style.width =\r\n            viewMode === \"static\" && staticWidth !== undefined\r\n                ? staticWidth + \"px\"\r\n                : \"100%\";\r\n        ref.current.style.height =\r\n            viewMode === \"static\" && staticHeight !== undefined\r\n                ? staticHeight + \"px\"\r\n                : \"100%\";\r\n        ref.current.style.top = \"0px\";\r\n        ref.current.style.left = \"0px\";\r\n        ChartInteractionsRef.current = __assign(__assign({}, Interactions), { stateControl: __assign(__assign({}, Interactions.stateControl), { shallUpdate: __spreadArray(__spreadArray([], Interactions.stateControl.shallUpdate, true), [\r\n                    \"containerResize\",\r\n                ], false) }), containerSize: containerSize });\r\n    }, [\r\n        viewMode,\r\n        HtmlElementRef,\r\n        fullscreen,\r\n        staticWidth,\r\n        staticHeight,\r\n        clientLeft,\r\n        clientTop,\r\n    ]);\r\n    /** init and update container size - if in fullscreen - using window's resize and orientationchange events */\r\n    React.useEffect(function () {\r\n        var ref = HtmlElementRef;\r\n        if (!(ref === null || ref === void 0 ? void 0 : ref.current))\r\n            return;\r\n        if (disablePointerEvents) {\r\n            ref.current.style.pointerEvents = \"none\";\r\n            return;\r\n        }\r\n        ref.current.style.pointerEvents = \"auto\";\r\n        if (!fullscreen)\r\n            return;\r\n        var Interactions = ChartInteractionsRef.current;\r\n        var handleWindowResize = function (e) {\r\n            if (!ref || !ref.current)\r\n                return;\r\n            var width = window.innerWidth, height = window.innerHeight;\r\n            ChartInteractionsRef.current = __assign(__assign({}, Interactions), { stateControl: __assign(__assign({}, Interactions.stateControl), { shallUpdate: __spreadArray(__spreadArray([], Interactions.stateControl.shallUpdate, true), [\r\n                        \"containerResize\",\r\n                    ], false) }), containerSize: { top: 0, left: 0, width: width, height: height, init: true } });\r\n        };\r\n        handleWindowResize();\r\n        window.addEventListener(\"resize\", handleWindowResize);\r\n        window.addEventListener(\"orientationchange\", handleWindowResize);\r\n        return function () {\r\n            window.removeEventListener(\"resize\", handleWindowResize);\r\n            window.removeEventListener(\"orientationchange\", handleWindowResize);\r\n        };\r\n    }, [HtmlElementRef, fullscreen, disablePointerEvents]);\r\n    /* init and update container size if in responsive viewMode -> therefore parent's pos and size is detected (using \"react-resize-detector\") */\r\n    var handleResizeDetected = React.useCallback(function (width, height) {\r\n        var _a;\r\n        if (viewMode !== \"responsive\" ||\r\n            isNullish(width) ||\r\n            isNullish(height) ||\r\n            fullscreen)\r\n            return;\r\n        if (!((_a = HtmlElementRef === null || HtmlElementRef === void 0 ? void 0 : HtmlElementRef.current) === null || _a === void 0 ? void 0 : _a.parentElement))\r\n            return;\r\n        var Interactions = ChartInteractionsRef.current;\r\n        var _b = HtmlElementRef.current.parentElement.getBoundingClientRect(), top = _b.top, left = _b.left;\r\n        console.log(\"VM\", viewMode, top, left, width, height);\r\n        ChartInteractionsRef.current = __assign(__assign({}, Interactions), { stateControl: __assign(__assign({}, Interactions.stateControl), { shallUpdate: __spreadArray(__spreadArray([], Interactions.stateControl.shallUpdate, true), [\r\n                    \"containerResize\",\r\n                ], false) }), containerSize: { top: top, left: left, width: width, height: height, init: true } });\r\n    }, [fullscreen, viewMode, HtmlElementRef]);\r\n    useResizeDetector({\r\n        targetRef: (_d = { current: (_c = HtmlElementRef.current) === null || _c === void 0 ? void 0 : _c.parentElement }) !== null && _d !== void 0 ? _d : undefined,\r\n        onResize: handleResizeDetected,\r\n    });\r\n    /* POINTER EVENTS\r\n    /* pointer event handlers (using \"@use-gesture/react\")  */\r\n    var transformVector = function (xy) { return [\r\n        xy[0] - 0,\r\n        xy[1] - 0,\r\n    ]; };\r\n    useGesture({\r\n        onPinch: function (pinchState) {\r\n            var isPinching = pinchState.active, origin = pinchState.origin, movementInitial = pinchState.movement, first = pinchState.first, offset = pinchState.offset;\r\n            ChartInteractionsRef.current.pointer = __assign(__assign({}, ChartInteractionsRef.current.pointer), { pinch: {\r\n                    isPinching: isPinching,\r\n                    origin: transformVector(origin),\r\n                    movementInitial: movementInitial,\r\n                    first: first,\r\n                } });\r\n            // alert(\"pinch: \" + movementInitial + \"vs:\" + pinchState.offset+ \", origin: \" + transformVector(origin));\r\n            ChartInteractionsRef.current.stateControl.shallUpdate = __spreadArray(__spreadArray([], ChartInteractionsRef.current.stateControl.shallUpdate.filter(function (val) { return val !== \"pointerMove\"; }), true), [\r\n                \"pinch\",\r\n            ], false);\r\n        },\r\n        onDrag: function (dragState) {\r\n            var shallAlreadyUpdate = ChartInteractionsRef.current.stateControl.shallUpdate.includes(\"drag\");\r\n            var prevDelta = ChartInteractionsRef.current.pointer.drag.delta;\r\n            var deltaX = shallAlreadyUpdate && !!prevDelta\r\n                ? prevDelta[0] + dragState.delta[0]\r\n                : dragState.delta[0];\r\n            var deltaY = shallAlreadyUpdate && !!prevDelta\r\n                ? prevDelta[1] + dragState.delta[1]\r\n                : dragState.delta[1];\r\n            var xy = dragState.xy, initial = dragState.initial, movementInitial = dragState.movement, firstIn = dragState.first, lastIn = dragState.last, isDragging = dragState.active, ctrlKey = dragState.ctrlKey;\r\n            var first = shallAlreadyUpdate\r\n                ? ChartInteractionsRef.current.pointer.drag.first || firstIn\r\n                : firstIn;\r\n            var last = shallAlreadyUpdate\r\n                ? ChartInteractionsRef.current.pointer.drag.last || lastIn\r\n                : lastIn;\r\n            if (isDragging && !first && !dragState.delta[0] && !dragState.delta[1])\r\n                return;\r\n            ChartInteractionsRef.current = __assign(__assign({}, ChartInteractionsRef.current), { pointer: __assign(__assign({}, ChartInteractionsRef.current.pointer), { drag: {\r\n                        isDragging: isDragging,\r\n                        xy: transformVector(xy),\r\n                        initial: transformVector(initial),\r\n                        movementInitial: movementInitial,\r\n                        last: last,\r\n                        first: first,\r\n                        delta: [deltaX, deltaY],\r\n                        ctrlKey: ctrlKey,\r\n                    } }), stateControl: __assign(__assign({}, ChartInteractionsRef.current.stateControl), { shallUpdate: __spreadArray(__spreadArray([], ChartInteractionsRef.current.stateControl.shallUpdate, true), [\r\n                        \"drag\",\r\n                    ], false), lastUpdate: ChartInteractionsRef.current.stateControl.lastUpdate }) });\r\n        },\r\n        onMove: function (moveState) {\r\n            var isMoving = moveState.active;\r\n            if (isMoving &&\r\n                !moveState.first &&\r\n                !moveState.delta[0] &&\r\n                !moveState.delta[1])\r\n                return;\r\n            ChartInteractionsRef.current = __assign(__assign({}, ChartInteractionsRef.current), { pointer: __assign(__assign({}, ChartInteractionsRef.current.pointer), { move: {\r\n                        isMoving: moveState.active,\r\n                        xy: transformVector(moveState.xy),\r\n                    } }), stateControl: __assign(__assign({}, ChartInteractionsRef.current.stateControl), { shallUpdate: __spreadArray(__spreadArray([], ChartInteractionsRef.current.stateControl.shallUpdate, true), [\r\n                        \"pointerMove\",\r\n                    ], false) }) });\r\n        },\r\n        onHover: function (hoverState) {\r\n            ChartInteractionsRef.current = __assign(__assign({}, ChartInteractionsRef.current), { pointer: __assign(__assign({}, ChartInteractionsRef.current.pointer), { isHovering: hoverState.active }), stateControl: __assign(__assign({}, ChartInteractionsRef.current.stateControl), { shallUpdate: __spreadArray(__spreadArray([], ChartInteractionsRef.current.stateControl.shallUpdate, true), [\r\n                        \"pointerMove\",\r\n                    ], false) }) });\r\n        },\r\n        onWheel: function (wheelState) {\r\n            var shallAlreadyUpdate = ChartInteractionsRef.current.stateControl.shallUpdate.includes(\"wheel\");\r\n            var prevDelta = ChartInteractionsRef.current.pointer.wheel.delta;\r\n            var deltaX = shallAlreadyUpdate && !!prevDelta\r\n                ? prevDelta[0] + wheelState.delta[0]\r\n                : wheelState.delta[0];\r\n            var deltaY = shallAlreadyUpdate && !!prevDelta\r\n                ? prevDelta[1] + wheelState.delta[1]\r\n                : wheelState.delta[1];\r\n            ChartInteractionsRef.current = __assign(__assign({}, ChartInteractionsRef.current), { pointer: __assign(__assign({}, ChartInteractionsRef.current.pointer), { wheel: { delta: [deltaX, deltaY], isWheeling: wheelState.active } }), stateControl: __assign(__assign({}, ChartInteractionsRef.current.stateControl), { shallUpdate: __spreadArray(__spreadArray([], ChartInteractionsRef.current.stateControl.shallUpdate, true), [\r\n                        \"wheel\",\r\n                    ], false) }) });\r\n        },\r\n        onDragEnd: function (dragState) {\r\n            var xy = dragState.xy, initial = dragState.initial, first = dragState.first, last = dragState.last, movementInitial = dragState.movement;\r\n            ChartInteractionsRef.current = __assign(__assign({}, ChartInteractionsRef.current), { pointer: __assign(__assign({}, ChartInteractionsRef.current.pointer), { dragPointerUp: {\r\n                        isDragPointerUp: true,\r\n                        xy: transformVector(xy),\r\n                        initial: transformVector(xy),\r\n                        movementInitial: movementInitial,\r\n                        last: last,\r\n                        first: first,\r\n                    } }), stateControl: __assign(__assign({}, ChartInteractionsRef.current.stateControl), { shallUpdate: __spreadArray(__spreadArray([], ChartInteractionsRef.current.stateControl.shallUpdate, true), [\r\n                        \"dragEnd\",\r\n                    ], false) }) });\r\n        },\r\n    }, {\r\n        // move: { pointer: { toucsh: true } },\r\n        domTarget: fullscreen ? document.body : HtmlElementRef,\r\n        // drag: { pointer: { touch: true }, preventScroll: true },\r\n        transform: function (_a) {\r\n            var x = _a[0], y = _a[1];\r\n            return [x - (clientLeft !== null && clientLeft !== void 0 ? clientLeft : 0), y - (clientTop !== null && clientTop !== void 0 ? clientTop : 0)];\r\n        },\r\n        drag: { experimental_preventWindowScrollY: true, useTouch: true },\r\n        enabled: !disablePointerEvents &&\r\n            ChartInteractionsRef.current.containerSize.init,\r\n        eventOptions: { passive: false, capture: false },\r\n        pinch: { transform: function (_a) {\r\n                var x = _a[0], y = _a[1];\r\n                return [x, y];\r\n            } },\r\n        wheel: { transform: function (_a) {\r\n                var x = _a[0], y = _a[1];\r\n                return [x, y];\r\n            } },\r\n    });\r\n    return ChartInteractionsRef;\r\n};\r\n//# sourceMappingURL=useChartInteractions.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { getTickPeriod } from \"./PeriodUtils\";\r\nimport { getDateString } from \"../utils/DateTime\";\r\nimport { getSubchartIdxByPixXy, purePixToX, purePixToY, pureXToPix, snapPixYToDataset, } from \"../utils/Utils\";\r\nimport * as T from \"../../Types\";\r\nimport { defaultCalcPointer } from \"../Defaults\";\r\nvar calculatePointerXvals = function (xaxis, mainGraph, data, onMove) {\r\n    if ((mainGraph === null || mainGraph === void 0 ? void 0 : mainGraph.type) !== \"chart\" || !onMove)\r\n        return null;\r\n    var mainData = data.find(function (val) { return val.id === mainGraph.dataId; });\r\n    if ((mainData === null || mainData === void 0 ? void 0 : mainData.type) !== \"chart\")\r\n        return null;\r\n    var mainGraphMeta = mainData.meta, mainGraphDateStat = mainData.dateStat;\r\n    var widthPerTick = xaxis.scaledWidthPerTick, translatedPixX = xaxis.totalTranslatedX;\r\n    var xUnlimited = Math.round(purePixToX(onMove === null || onMove === void 0 ? void 0 : onMove.xy[0], translatedPixX, widthPerTick));\r\n    var pixXUnlimSnap = pureXToPix(xUnlimited, translatedPixX, widthPerTick);\r\n    if (xUnlimited < 0 ||\r\n        xUnlimited > mainData.data.length - 1 ||\r\n        !mainGraphDateStat)\r\n        return { xUnlimited: xUnlimited, pixXUnlimSnap: pixXUnlimSnap };\r\n    var x = Math.abs(Math.round(xUnlimited));\r\n    var optChartPeriod = xaxis.optChartPeriod;\r\n    if (!optChartPeriod || !mainGraphMeta.chartPeriod || !mainGraphDateStat)\r\n        return { xUnlimited: xUnlimited, pixXUnlimSnap: pixXUnlimSnap };\r\n    var periodToDraw = getTickPeriod(mainData.data[x].date, mainGraphDateStat, mainGraphMeta.chartPeriod, __assign({}, optChartPeriod));\r\n    var pixXSnap = pureXToPix(x, translatedPixX, widthPerTick);\r\n    var xDateString = getDateString(mainData.data[x].date, periodToDraw ? periodToDraw : mainGraphMeta.chartPeriod.name);\r\n    return {\r\n        x: x,\r\n        xDateString: xDateString,\r\n        pixXSnap: pixXSnap,\r\n        xUnlimited: xUnlimited,\r\n        pixXUnlimSnap: pixXUnlimSnap,\r\n    };\r\n};\r\nexport var calculateCurrentPointerDataset = function (pointer, calc, subcharts, data) {\r\n    var _a, _b, _c, _d;\r\n    var move = pointer.move, dragEnd = pointer.dragPointerUp, isHovering = pointer.isHovering;\r\n    var xaxis = calc.xaxis;\r\n    var mainGraph = !!((_d = (_c = (_b = (_a = subcharts === null || subcharts === void 0 ? void 0 : subcharts[0]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c.graphs) === null || _d === void 0 ? void 0 : _d[0]) &&\r\n        T.isChartGraph(subcharts[0].yaxis[0].graphs[0])\r\n        ? subcharts[0].yaxis[0].graphs[0]\r\n        : null;\r\n    var xy = move === null || move === void 0 ? void 0 : move.xy;\r\n    if (!mainGraph || !move || !subcharts || !xy)\r\n        return null;\r\n    var subchartIdx = getSubchartIdxByPixXy(xy, subcharts);\r\n    if (subchartIdx === null)\r\n        return defaultCalcPointer;\r\n    var getDefaultChartPointer = function (xUnlimited, pixXUnlimSnap, subchartIdx) { return ({\r\n        isHovering: isHovering,\r\n        move: {\r\n            pixX: xy[0],\r\n            pixXUnlimSnap: pixXUnlimSnap,\r\n            pixXSnap: 0,\r\n            pixY: xy[1],\r\n            x: null,\r\n            xUnlimited: xUnlimited,\r\n            subchartIdx: subchartIdx,\r\n            snapDatasets: [],\r\n            xDateString: \"\",\r\n        },\r\n        click: {\r\n            clickedSubchartIdx: null,\r\n        },\r\n    }); };\r\n    var pointerXvals = calculatePointerXvals(xaxis, mainGraph, data, move);\r\n    if (!pointerXvals)\r\n        return null;\r\n    if (!(\"x\" in pointerXvals))\r\n        return getDefaultChartPointer(pointerXvals.xUnlimited, pointerXvals.pixXUnlimSnap, subchartIdx);\r\n    var xUnlimited = pointerXvals.xUnlimited, x = pointerXvals.x, xDateString = pointerXvals.xDateString, pixXSnap = pointerXvals.pixXSnap, pixXUnlimSnap = pointerXvals.pixXUnlimSnap;\r\n    var clickedSubchartIdx = !!dragEnd && !!dragEnd.xy\r\n        ? getSubchartIdxByPixXy(dragEnd.xy, subcharts)\r\n        : null;\r\n    var snapDatasets = subcharts[subchartIdx].yaxis\r\n        .map(function (yaxis, yaxisIdx) {\r\n        return yaxis.graphs.map(function (graph, graphIdx) {\r\n            var _a;\r\n            var graphDataSeries = (_a = data.find(function (val) { return val.id === (graph === null || graph === void 0 ? void 0 : graph.dataId); })) === null || _a === void 0 ? void 0 : _a.data;\r\n            var snapPriceRes = graphDataSeries\r\n                ? snapPixYToDataset(xy[1], graphDataSeries[x], subcharts, subchartIdx, yaxisIdx, calc.subcharts)\r\n                : null;\r\n            var pixYSnap = snapPriceRes && snapPriceRes.length > 0 ? snapPriceRes[0].pixY : null;\r\n            var ySnap = snapPriceRes && snapPriceRes.length > 0 ? snapPriceRes[0].y : null;\r\n            var _b = calc.subcharts[subchartIdx].yaxis[yaxisIdx], decimals = _b.decimals, translatedY = _b.translatedY, heightPerPt = _b.heightPerPt;\r\n            return {\r\n                yaxisIdx: yaxisIdx,\r\n                graphIdx: graphIdx,\r\n                data: graphDataSeries === null || graphDataSeries === void 0 ? void 0 : graphDataSeries[x],\r\n                y: purePixToY(xy[1], subcharts[subchartIdx].bottom, decimals, translatedY, heightPerPt),\r\n                ySnap: ySnap,\r\n                pixYSnap: pixYSnap,\r\n                dateString: xDateString,\r\n            };\r\n        });\r\n    })\r\n        .flat()\r\n        .sort(function (a, b) {\r\n        return a.ySnap === null && b.ySnap === null\r\n            ? 0\r\n            : (a.ySnap === null && b.ySnap !== null) ||\r\n                (a.ySnap !== null &&\r\n                    b.ySnap !== null &&\r\n                    Math.abs(parseFloat(a.ySnap) - a.y) >\r\n                        Math.abs(parseFloat(b.ySnap) - b.y))\r\n                ? 1\r\n                : (a.ySnap !== null && b.ySnap === null) ||\r\n                    (a.ySnap !== null &&\r\n                        b.ySnap !== null &&\r\n                        Math.abs(parseFloat(a.ySnap) - a.y) <\r\n                            Math.abs(parseFloat(b.ySnap) - b.y))\r\n                    ? -1\r\n                    : 0;\r\n    });\r\n    return {\r\n        isHovering: isHovering,\r\n        move: {\r\n            pixX: xy[0],\r\n            pixXSnap: pixXSnap,\r\n            pixXUnlimSnap: pixXUnlimSnap,\r\n            pixY: xy[1],\r\n            x: x,\r\n            xUnlimited: xUnlimited,\r\n            subchartIdx: subchartIdx,\r\n            snapDatasets: snapDatasets,\r\n            xDateString: xDateString,\r\n        },\r\n        click: {\r\n            clickedSubchartIdx: clickedSubchartIdx,\r\n        },\r\n    };\r\n};\r\n//# sourceMappingURL=CalcPointer.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport React from \"react\";\r\nimport useFullscreen from \"react-use/lib/useFullscreen\";\r\nimport { chartStateReducer } from \"./Reducer/Reducer\";\r\nimport { calculateSubcharts, getYaxisMethods } from \"./Calc/CalcSubcharts\";\r\nimport { resizeContainer, resizeSubchart, getAction } from \"./Interactions\";\r\nimport { drawTool, editToolPosition } from \"./ToolInteractions\";\r\nimport { getInitState } from \"./Defaults\";\r\nimport { calculateXaxis, jumpToXaxisEnd } from \"./Calc/CalcXaxis\";\r\nimport deepEqual from \"lodash/isEqual\";\r\nimport { useChartInteractions } from \"./useChartInteractions\";\r\nimport { calculateCurrentPointerDataset } from \"./Calc/CalcPointer\";\r\nimport * as T from \"../Types\";\r\nimport { getRtTicks } from \"./Calc/CalcRtData\";\r\nexport var useChartState = function (params) {\r\n    var ContainerRef = params.ContainerRef, data = params.data, rtData = params.rtData, width = params.width, height = params.height, settings = params.settings;\r\n    /* initial ChartState using initialState or browser/agent (see prefersDarkMode)*/\r\n    // settings are frozen\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    var initialState = React.useMemo(function () { return getInitState(settings.initialState, settings.initWidthPerTick); }, []);\r\n    /* shortcuts and default values for settings props */\r\n    var maxUpdatesPerSecInt = settings.maxUpdatesPerSec ? settings.maxUpdatesPerSec : 15;\r\n    // const initWidthPerTickInt = !!settings.initWidthPerTick ? settings.initWidthPerTick : 10;\r\n    var disablePointerEventsInt = settings.disablePointerEvents;\r\n    var viewModeInt = settings.containerMode === \"static\" && (!height || !width)\r\n        ? \"responsive\"\r\n        : settings.containerMode\r\n            ? settings.containerMode\r\n            : \"responsive\";\r\n    var staticWidth = width;\r\n    var staticHeight = height;\r\n    var _a = React.useReducer(chartStateReducer, initialState), ChartState = _a[0], Dispatch = _a[1];\r\n    // collects pointer, containerResize, calc and  stateControl data in mutable reference\r\n    var ChartInteractionsRef = useChartInteractions(ContainerRef, initialState, true, staticWidth, staticHeight, ChartState.containerSize.left, ChartState.containerSize.top, viewModeInt, disablePointerEventsInt, ChartState.fullscreen);\r\n    if (rtData)\r\n        ChartInteractionsRef.current.rtData = rtData;\r\n    useFullscreen(ContainerRef, ChartState.fullscreen, {\r\n        onClose: function () { return Dispatch({ task: \"setGeneralProp\", params: { prop: \"toggleFullscreen\" } }); },\r\n    });\r\n    // Custom Effect\r\n    var _b = ChartState.draw, xy = _b.xy, CustomEffectDrawState = __rest(_b, [\"xy\"]);\r\n    var CustomEffectChartState = {\r\n        subcharts: ChartState.subCharts.map(function (subchart) { return ({\r\n            yaxis: subchart.yaxis,\r\n        }); }),\r\n        draw: __assign(__assign({}, CustomEffectDrawState), { nPixXy: xy.length }),\r\n    };\r\n    if (!deepEqual(ChartInteractionsRef.current.stateControl.customEffectChartState, CustomEffectChartState)) {\r\n        ChartInteractionsRef.current.stateControl.customEffectChartState = CustomEffectChartState;\r\n    }\r\n    React.useEffect(function () {\r\n        var onTimer = function () {\r\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\r\n            // shortcuts\r\n            var PreState = ChartInteractionsRef.current;\r\n            var stateControl = PreState.stateControl;\r\n            if (disablePointerEventsInt) {\r\n                PreState.pointer.drag = __assign(__assign({}, PreState.pointer.drag), { delta: [0, 0], movementInitial: [0, 0] });\r\n                return;\r\n            }\r\n            var subcharts = ChartState.subCharts;\r\n            var isRtDataOutOfRange = false;\r\n            PreState.rtData &&\r\n                PreState.rtData.length > 0 &&\r\n                subcharts.length === PreState.calc.subcharts.length &&\r\n                PreState.calc.xaxis.xUnlimited > PreState.calc.xaxis.xLast && // and not rtData.length\r\n                PreState.calc.subcharts.forEach(function (calcSubchart, sIdx) {\r\n                    var _a, _b;\r\n                    // const calcSubchart = PreState.calc.subcharts[sIdx];\r\n                    var subchart = subcharts[sIdx];\r\n                    var filteredRtData = (_b = (_a = PreState.rtData) === null || _a === void 0 ? void 0 : _a.filter(function (rtDat) {\r\n                        return subchart.yaxis\r\n                            .map(function (y) { return y.graphs.map(function (g) { return g.dataId; }); })\r\n                            .flat()\r\n                            .includes(rtDat.dataId);\r\n                    }).map(function (rtDat) { return (__assign(__assign({}, rtDat), { data: rtDat.data.slice(1, PreState.calc.xaxis.xUnlimited - PreState.calc.xaxis.xLast + 1) })); })) !== null && _b !== void 0 ? _b : [];\r\n                    // console.log(\"FRT DATA\", filteredRtData);\r\n                    var curMax = Math.max.apply(Math, calcSubchart.yaxis.map(function (cyaxis) { return cyaxis.yMaxExact; }));\r\n                    var rtMax = !filteredRtData || filteredRtData.length === 0\r\n                        ? 0\r\n                        : Math.max.apply(Math, filteredRtData\r\n                            .map(function (rtDat) {\r\n                            return rtDat.data.map(function (dat) { var _a; return (T.isCandleChartDataset(dat) ? (_a = dat.high) !== null && _a !== void 0 ? _a : dat.close : dat.close); });\r\n                        })\r\n                            .flat());\r\n                    var curMin = Math.min.apply(Math, calcSubchart.yaxis.map(function (cyaxis) { return cyaxis.yMinExact; }));\r\n                    var rtMin = !filteredRtData || filteredRtData.length === 0\r\n                        ? rtMax\r\n                        : Math.min.apply(Math, filteredRtData\r\n                            .map(function (rtDat) {\r\n                            return rtDat.data.map(function (dat) { var _a; return (T.isCandleChartDataset(dat) ? (_a = dat.low) !== null && _a !== void 0 ? _a : dat.close : dat.close); });\r\n                        })\r\n                            .flat());\r\n                    // console.log(\r\n                    //   \"RT-DATA OUT OF Y-RANGE! -> rtMax:\",\r\n                    //   rtMax,\r\n                    //   \", rtMin:\",\r\n                    //   rtMin,\r\n                    //   \", curMax:\",\r\n                    //   curMax,\r\n                    //   \", curMin:\",\r\n                    //   curMin\r\n                    // );\r\n                    if (filteredRtData && (rtMax > curMax || rtMin < curMin)) {\r\n                        isRtDataOutOfRange = true;\r\n                        console.log(\"RT-DATA OUT OF Y-RANGE! -> rtMax:\", PreState.rtData, rtMax, \", rtMin:\", rtMin, \", curMax:\", curMax, \", curMin:\", curMin);\r\n                    }\r\n                });\r\n            if (stateControl.shallUpdate.length > 0 || isRtDataOutOfRange) {\r\n                if (!stateControl.shallUpdate.includes(\"dragEnd\"))\r\n                    PreState.pointer.dragPointerUp.isDragPointerUp = false;\r\n                // const DragEndState = PreState.pointer.dragPointerUp;\r\n                var heightXaxis = ChartState.style.xaxis.heightXAxis;\r\n                var containerWidth = PreState.containerSize.width - 1;\r\n                var mainGraph_1 = !!((_d = (_c = (_b = (_a = subcharts === null || subcharts === void 0 ? void 0 : subcharts[0]) === null || _a === void 0 ? void 0 : _a.yaxis) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c.graphs) === null || _d === void 0 ? void 0 : _d[0]) && T.isChartGraph(subcharts[0].yaxis[0].graphs[0])\r\n                    ? subcharts[0].yaxis[0].graphs[0]\r\n                    : null;\r\n                var mainGraphData = ChartState.data.find(function (val) { return val.id === (mainGraph_1 === null || mainGraph_1 === void 0 ? void 0 : mainGraph_1.dataId); });\r\n                var isDrawing = ChartState.draw.isDrawing;\r\n                var _m = getAction(PreState, subcharts, isDrawing, heightXaxis), action = _m.action, updatedStateControl = _m.stateControl;\r\n                stateControl = __assign(__assign({}, updatedStateControl), { prevAction: !action ? null : __assign({}, action) });\r\n                ChartInteractionsRef.current.stateControl = updatedStateControl;\r\n                var containerSizeUpdatedSubcharts = action.containerResize\r\n                    ? resizeContainer(PreState.containerSize.height, subcharts, ChartState.style)\r\n                    : subcharts;\r\n                var containerUpdatedSubcharts = ((_e = action === null || action === void 0 ? void 0 : action.drag) === null || _e === void 0 ? void 0 : _e.type) === \"resizeSubchart\" //&& action?.drag?.shallUpdate\r\n                    ? resizeSubchart(action, containerSizeUpdatedSubcharts, PreState.pointer.drag)\r\n                    : containerSizeUpdatedSubcharts;\r\n                // if new chart is added or replacing current chart or chart is reset/cleared -> initial translatedX to end of chart is calculated in reducer\r\n                if ((_f = stateControl.lastMainChartData !== (mainGraphData === null || mainGraphData === void 0 ? void 0 : mainGraphData.data)) !== null && _f !== void 0 ? _f : null) {\r\n                    if ((mainGraphData === null || mainGraphData === void 0 ? void 0 : mainGraphData.type) === \"chart\")\r\n                        PreState.calc.xaxis = jumpToXaxisEnd(PreState.calc.xaxis, mainGraphData.data, containerWidth);\r\n                }\r\n                var calcXaxis = action.shallUpdateXaxis\r\n                    ? calculateXaxis(PreState, action, mainGraph_1, ChartState.data)\r\n                    : PreState.calc.xaxis;\r\n                PreState.calc.xaxis = calcXaxis;\r\n                var calcSubcharts = action.shallUpdateCalcSubcharts || isRtDataOutOfRange\r\n                    ? calculateSubcharts(containerUpdatedSubcharts, PreState.calc.xaxis, ChartState.data, isRtDataOutOfRange ? PreState.rtData : undefined)\r\n                    : null;\r\n                if (calcSubcharts)\r\n                    PreState.calc.subcharts = calcSubcharts;\r\n                // const a = calcSubcharts[0].yaxis[0].yMax;\r\n                var calcPointer = stateControl.shallUpdate.includes(\"pointerMove\")\r\n                    ? calculateCurrentPointerDataset(PreState.pointer, PreState.calc, subcharts, ChartState.data)\r\n                    : null;\r\n                if (calcPointer)\r\n                    PreState.calc.pointer = calcPointer;\r\n                // const calc = { calcSubcharts, calcPointer, calcXaxis };\r\n                var toolUpdatedSubcharts = ((_g = action === null || action === void 0 ? void 0 : action.drag) === null || _g === void 0 ? void 0 : _g.type) === \"editTool\" && ((_h = action === null || action === void 0 ? void 0 : action.drag) === null || _h === void 0 ? void 0 : _h.shallUpdate)\r\n                    ? editToolPosition(PreState, containerUpdatedSubcharts, action)\r\n                    : containerUpdatedSubcharts;\r\n                var _o = ((_j = action === null || action === void 0 ? void 0 : action.drag) === null || _j === void 0 ? void 0 : _j.type) === \"drawTool\" //&& action?.drag?.shallUpdate\r\n                    ? drawTool(PreState, toolUpdatedSubcharts, ChartState.draw, ChartState.style)\r\n                    : { subcharts: toolUpdatedSubcharts, draw: ChartState.draw }, toolDrawnSubcharts = _o.subcharts, draw = _o.draw;\r\n                var finalizedSubcharts = toolDrawnSubcharts;\r\n                var sOut = PreState.stateControl, state = __rest(PreState, [\"stateControl\"]);\r\n                var addCalcSubcharts = calcSubcharts\r\n                    ? __assign({ subcharts: calcSubcharts }, getYaxisMethods(finalizedSubcharts, calcSubcharts)) : null;\r\n                var addCalcPointer = calcPointer ? { pointer: calcPointer } : null;\r\n                Dispatch({\r\n                    task: \"updateInteractionState\",\r\n                    params: {\r\n                        newState: __assign(__assign({}, state), { calc: __assign(__assign({ xaxis: calcXaxis }, addCalcPointer), addCalcSubcharts), subCharts: finalizedSubcharts, draw: draw }),\r\n                    },\r\n                });\r\n                var graphDataSeries = (_k = ChartState.data.find(function (val) { var _a; return val.id === ((_a = ChartState.subCharts) === null || _a === void 0 ? void 0 : _a[0].yaxis[0].graphs[0].dataId); })) === null || _k === void 0 ? void 0 : _k.data;\r\n                ChartInteractionsRef.current = __assign(__assign({}, ChartInteractionsRef.current), { stateControl: __assign(__assign({}, ChartInteractionsRef.current.stateControl), { lastUpdate: new Date(), shallUpdate: [], lastMainChartData: (_l = graphDataSeries) !== null && _l !== void 0 ? _l : null }) });\r\n            }\r\n        };\r\n        ChartInteractionsRef.current.stateControl.shallUpdate.push(\"deps\");\r\n        onTimer(); // exec immmediately\r\n        console.log(\"updated Timer\");\r\n        var handleTimer = window.setInterval(onTimer, Math.round(1000 / maxUpdatesPerSecInt));\r\n        return function () {\r\n            window.clearInterval(handleTimer);\r\n        };\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [\r\n        ChartInteractionsRef.current.stateControl.customEffectChartState,\r\n        maxUpdatesPerSecInt,\r\n        // initWidthPerTickInt,\r\n        disablePointerEventsInt,\r\n        ChartState.style,\r\n        ChartState.data,\r\n    ]);\r\n    var rtTicks = getRtTicks(rtData, ChartState.data, ChartState.subCharts, ChartState.calc);\r\n    React.useEffect(function () {\r\n        var _a, _b, _c, _d;\r\n        if (!ChartState.containerSize.init)\r\n            return;\r\n        var mainchartIn = data === null || data === void 0 ? void 0 : data[0];\r\n        if ((mainchartIn === null || mainchartIn === void 0 ? void 0 : mainchartIn.type) !== \"chart\" || !((_a = mainchartIn === null || mainchartIn === void 0 ? void 0 : mainchartIn.data) === null || _a === void 0 ? void 0 : _a.length))\r\n            return;\r\n        var dataMainchart = (_b = ChartState.data) === null || _b === void 0 ? void 0 : _b[0];\r\n        if (ChartState.data.length === 0) {\r\n            console.log(\"Chart is initialized.\");\r\n            Dispatch({ task: \"addData\", params: { datas: data } });\r\n            return;\r\n        }\r\n        if (dataMainchart.id === mainchartIn.id && dataMainchart.type === \"chart\") {\r\n            if (mainchartIn.data.length === dataMainchart.data.length) {\r\n                return;\r\n            }\r\n            else if (mainchartIn.data.length > dataMainchart.data.length) {\r\n                console.log(\"Chart is updated\");\r\n                Dispatch({\r\n                    task: \"modifyChartData\",\r\n                    params: { dataId: dataMainchart.id, newDatasets: (_d = (_c = rtTicks === null || rtTicks === void 0 ? void 0 : rtTicks[0]) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.slice(1, -1) },\r\n                });\r\n            }\r\n            else if (mainchartIn.data.length < dataMainchart.data.length) {\r\n                console.log(\"HERE THERE SHOULD BE LOADED A NEW GRAPH\");\r\n            }\r\n        }\r\n        // we don't need to update effect whenever rtTicks changes, sufficient to update when data changes/subcharts changes\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [data, ChartState.containerSize.init, ChartState.data, ChartState.subCharts]);\r\n    // const depInfo = useReactiveInfo2([ChartState, settings]);\r\n    // console.log(depInfo?.[0]);\r\n    // console.log(ChartState);\r\n    return [ChartState, Dispatch, rtTicks];\r\n};\r\n//# sourceMappingURL=useChartState.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { getIndicatorsDependantIndicatorDatas } from \"../Reducer/DataFactory\";\r\nimport { calculatePixYDataset } from \"./CalcSubcharts\";\r\nexport var getRtTicks = function (rtData, data, subcharts, calc) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\r\n    if (!rtData || !calc.yToPix)\r\n        return [];\r\n    var lastTick = (_g = (_f = (_e = (_d = (_c = (_b = (_a = calc.subcharts) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.yaxis) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? void 0 : _d.graphs) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.curTicks) === null || _g === void 0 ? void 0 : _g[((_o = (_m = (_l = (_k = (_j = (_h = calc.subcharts) === null || _h === void 0 ? void 0 : _h[0]) === null || _j === void 0 ? void 0 : _j.yaxis) === null || _k === void 0 ? void 0 : _k[0]) === null || _l === void 0 ? void 0 : _l.graphs) === null || _m === void 0 ? void 0 : _m[0]) === null || _o === void 0 ? void 0 : _o.curTicks.length) - 1];\r\n    var rtChartTicks = (_p = (calc.yToPix &&\r\n        rtData &&\r\n        lastTick &&\r\n        rtData.reduce(function (acc, cur, idx) {\r\n            var _a;\r\n            return __spreadArray(__spreadArray([], acc, true), [\r\n                {\r\n                    data: (cur === null || cur === void 0 ? void 0 : cur.data) ? cur === null || cur === void 0 ? void 0 : cur.data.map(function (dat, dIdx) { return (__assign(__assign({}, dat), { x: calc.xaxis.xLast + dIdx })); }) : [],\r\n                    dataId: (_a = data === null || data === void 0 ? void 0 : data[cur === null || cur === void 0 ? void 0 : cur.dataIdx]) === null || _a === void 0 ? void 0 : _a.id,\r\n                    ticks: cur.data.map(function (dat, dIdx) {\r\n                        var _a;\r\n                        return ({\r\n                            pixX: lastTick.pixX + (dIdx + 0) * calc.xaxis.scaledWidthPerTick,\r\n                            pixY: calculatePixYDataset(dat, (_a = data === null || data === void 0 ? void 0 : data[cur === null || cur === void 0 ? void 0 : cur.dataIdx]) === null || _a === void 0 ? void 0 : _a.id, data, subcharts, calc.yToPix),\r\n                        });\r\n                    }),\r\n                },\r\n            ], false);\r\n        }, []))) !== null && _p !== void 0 ? _p : [];\r\n    var dependantIndicatorIds = rtChartTicks\r\n        .map(function (rtChart) { return getIndicatorsDependantIndicatorDatas(data, rtChart.dataId); })\r\n        .flat();\r\n    var rtTicks = dependantIndicatorIds.reduce(function (acc, curId, idx) {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        var indicatorData = data.find(function (d) { return d.id === curId && d.type === \"indicator\"; });\r\n        if (!indicatorData || (indicatorData === null || indicatorData === void 0 ? void 0 : indicatorData.type) !== \"indicator\")\r\n            return acc;\r\n        var iFn = indicatorData.indicator.indicatorFn;\r\n        var indSrcId = indicatorData.indSrcId;\r\n        var params = indicatorData.indicator.params;\r\n        var complSrcDataseries = __spreadArray(__spreadArray([], ((_b = (_a = data.find(function (dat) { return dat.id === indSrcId; })) === null || _a === void 0 ? void 0 : _a.data) !== null && _b !== void 0 ? _b : []), true), ((_f = (_e = (_d = (_c = acc.find) === null || _c === void 0 ? void 0 : _c.call(acc, function (rtTick) { return (rtTick === null || rtTick === void 0 ? void 0 : rtTick.dataId) === indSrcId; })) === null || _d === void 0 ? void 0 : _d.data) === null || _e === void 0 ? void 0 : _e.slice(1)) !== null && _f !== void 0 ? _f : []), true);\r\n        var completePrevData = __spreadArray([], ((_g = indicatorData.data) !== null && _g !== void 0 ? _g : []), true);\r\n        if (!iFn || !(complSrcDataseries === null || complSrcDataseries === void 0 ? void 0 : complSrcDataseries.length) || !lastTick)\r\n            return acc;\r\n        var newDataseries = iFn(__assign({ chartData: complSrcDataseries, prevData: completePrevData }, params.reduce(function (accObj, curParam) {\r\n            var _a;\r\n            return (__assign(__assign({}, accObj), (_a = {}, _a[curParam.name] = curParam.val, _a)));\r\n        }, {}))).slice(indicatorData.data.length - 1);\r\n        var newRtDataTick = {\r\n            data: newDataseries.map(function (dataset, dIdx) { return (__assign(__assign({}, dataset), { x: completePrevData.length - 1 + dIdx })); }),\r\n            dataId: curId,\r\n            ticks: newDataseries.map(function (dataset, dIdx) { return ({\r\n                pixX: lastTick.pixX + dIdx * calc.xaxis.scaledWidthPerTick,\r\n                pixY: calculatePixYDataset(dataset, curId, data, subcharts, calc.yToPix),\r\n            }); }),\r\n        };\r\n        return __spreadArray(__spreadArray([], acc, true), [newRtDataTick], false);\r\n    }, rtChartTicks);\r\n    return rtTicks;\r\n};\r\n//# sourceMappingURL=CalcRtData.js.map","import { mdiThemeLightDark, mdiGithub, mdiMenu } from \"@mdi/js\";\r\nimport { Toolbar, Typography, Button, IconButton, useTheme, Box, Stack } from \"@mui/material\";\r\nimport { Icon } from \"@mdi/react\";\r\nimport React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nexport const MenuIconButton = styled(IconButton)(({ theme }) => ({\r\n  color: theme.palette.primary.main,\r\n}));\r\n\r\nexport type LayoutProps = { setDarkMode: (current: any) => any };\r\nexport const Layout: React.FC<LayoutProps> = (props) => {\r\n  const { setDarkMode } = props;\r\n  const theme = useTheme();\r\n  return (\r\n    <Stack id=\"layoutRoot\" sx={{ height: \"100%\" }}>\r\n      <Box sx={{ height: 64, bgcolor: theme.palette.background.paper, boxShadow: \"10px 10px\" }}>\r\n        <Toolbar sx={{ pr: 1 }}>\r\n          <Typography variant=\"h6\" sx={{ flexGrow: 1 }} color=\"primary\">\r\n            <a href=\"/\">react-tech-chart</a>\r\n          </Typography>\r\n          <Button sx={{ color: theme.palette.primary.main }}>\r\n            <Typography>Docs</Typography>\r\n          </Button>\r\n          <MenuIconButton\r\n            //   sx={{ color: theme.palette.primary.main }}\r\n            aria-label=\"menu\"\r\n            onClick={() => setDarkMode((current: any) => !current)}\r\n          >\r\n            <Icon path={mdiThemeLightDark} size={1.2} />\r\n          </MenuIconButton>\r\n          <MenuIconButton edge=\"start\" aria-label=\"menu\">\r\n            <Icon path={mdiGithub} size={1.2} />\r\n          </MenuIconButton>\r\n          <MenuIconButton edge=\"start\" aria-label=\"menu\">\r\n            <Icon path={mdiMenu} size={1.2} />\r\n          </MenuIconButton>\r\n        </Toolbar>\r\n      </Box>\r\n      {props.children}\r\n    </Stack>\r\n  );\r\n};\r\n","import React from \"react\";\nimport { ThemeProvider } from \"@mui/material\";\nimport { Site } from \"./Site/Site\";\nimport {\n  CChart,\n  useChartState,\n  iEMA,\n  iKAMA,\n  createIRSI,\n  Types as T,\n  muiTheme,\n  muiDarkTheme,\n  defaultDarkTheme,\n  defaultLightTheme,\n} from \"react-tech-chart\";\nimport { fbExampleData } from \"./dataseriesFb2021\";\nimport { Layout } from \"./Site/Layout\";\n\nexport type Price = {\n  date: string;\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n  volume: number;\n};\n\nconst ExampleChartData = {\n  name: \"Meta Platforms\",\n  data: fbExampleData.map((dataset) => ({ ...dataset, date: new Date(dataset.date) })),\n  RtData: undefined,\n  type: \"chart\" as const,\n  id: \"mainchart-fb2021\",\n};\n\nconst Data: T.InputData[] = [\n  ExampleChartData,\n  {\n    id: \"kama_01\",\n    type: \"indicator\",\n    indicator: iKAMA,\n    graphProps: {\n      style: {\n        strokeColor: [\"#0693E3\"],\n      },\n    },\n  },\n\n  { type: \"indicator\", indicator: createIRSI({ period: 5 }), id: \"rsi_01\" },\n  {\n    id: \"ema_rsi_01\",\n    type: \"indicator\",\n    indSrcId: \"rsi_01\",\n    indicator: iEMA,\n    graphProps: {\n      style: {\n        strokeColor: [\"#0693E3\"],\n      },\n    },\n  },\n];\n\nconst settings: T.CChartProps[\"settings\"] = {\n  // disablePointerEvents: true,\n  disableTheme: false,\n  // initialState: defaultDarkTheme,\n  initWidthPerTick: 8,\n  // additionalIndicators: [iBuyStop, iSellStop],\n};\n\nfunction App() {\n  const ContainerRef = React.useRef(null);\n  const [DarkMode, setDarkMode] = React.useState(true);\n  if (process.env.NODE_ENV === \"production\") {\n    console.log(\"production mode\");\n    console.log = function () {};\n  }\n\n  const [ChartState, Dispatch, rtTicks] = useChartState({\n    ContainerRef,\n    data: Data,\n    settings,\n  });\n\n  const toggleDark = React.useCallback(() => {\n    Dispatch({ task: \"setTheme\", params: { theme: DarkMode ? defaultLightTheme : defaultDarkTheme } });\n    setDarkMode((current) => !current);\n  }, [Dispatch, DarkMode]);\n\n  return (\n    <React.Fragment>\n      {/* <div style={{ position: \"relative\", top: 0, height: \"100%\" }}>\n        <CChart chartData={[{ data: Data, name: \"coolChart\" }]} viewMode=\"fullscreen\" style=\"TODO\" />\n      </div> */}\n      <ThemeProvider theme={true ? muiDarkTheme : muiTheme}>\n        \n          <Layout setDarkMode={toggleDark}>\n            <Site setDarkMode={toggleDark}>\n              \n                {/* <Test/> */}\n                <CChart\n                  ref={ContainerRef}\n                  ChartState={ChartState}\n                  Dispatch={Dispatch}\n                  rtTicks={rtTicks}\n                  settings={settings}\n                  // darkMode={false}\n                />\n              \n            </Site>\n          </Layout>\n       \n      </ThemeProvider>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","export const fbExampleData = [\r\n    {\r\n        \"date\": \"2021-01-05T00:00:00.000Z\",\r\n        \"open\": 268.290009,\r\n        \"high\": 272.399994,\r\n        \"low\": 268.209991,\r\n        \"close\": 270.970001,\r\n        \"volume\": 9871600\r\n    },\r\n    {\r\n        \"date\": \"2021-01-06T00:00:00.000Z\",\r\n        \"open\": 262,\r\n        \"high\": 267.75,\r\n        \"low\": 260.01001,\r\n        \"close\": 263.309998,\r\n        \"volume\": 24354100\r\n    },\r\n    {\r\n        \"date\": \"2021-01-07T00:00:00.000Z\",\r\n        \"open\": 265.899994,\r\n        \"high\": 271.609985,\r\n        \"low\": 264.779999,\r\n        \"close\": 268.73999,\r\n        \"volume\": 15789800\r\n    },\r\n    {\r\n        \"date\": \"2021-01-08T00:00:00.000Z\",\r\n        \"open\": 268.309998,\r\n        \"high\": 268.950012,\r\n        \"low\": 263.179993,\r\n        \"close\": 267.570007,\r\n        \"volume\": 18528300\r\n    },\r\n    {\r\n        \"date\": \"2021-01-11T00:00:00.000Z\",\r\n        \"open\": 260.480011,\r\n        \"high\": 263.470001,\r\n        \"low\": 255.899994,\r\n        \"close\": 256.839996,\r\n        \"volume\": 30412300\r\n    },\r\n    {\r\n        \"date\": \"2021-01-12T00:00:00.000Z\",\r\n        \"open\": 256.630005,\r\n        \"high\": 259.720001,\r\n        \"low\": 250.300003,\r\n        \"close\": 251.089996,\r\n        \"volume\": 26383500\r\n    },\r\n    {\r\n        \"date\": \"2021-01-13T00:00:00.000Z\",\r\n        \"open\": 251.550003,\r\n        \"high\": 253.949997,\r\n        \"low\": 249.199997,\r\n        \"close\": 251.639999,\r\n        \"volume\": 19528900\r\n    },\r\n    {\r\n        \"date\": \"2021-01-14T00:00:00.000Z\",\r\n        \"open\": 253.399994,\r\n        \"high\": 255.029999,\r\n        \"low\": 244.610001,\r\n        \"close\": 245.639999,\r\n        \"volume\": 29739400\r\n    },\r\n    {\r\n        \"date\": \"2021-01-15T00:00:00.000Z\",\r\n        \"open\": 247.899994,\r\n        \"high\": 253.860001,\r\n        \"low\": 247.160004,\r\n        \"close\": 251.360001,\r\n        \"volume\": 24942900\r\n    },\r\n    {\r\n        \"date\": \"2021-01-19T00:00:00.000Z\",\r\n        \"open\": 256.899994,\r\n        \"high\": 262.200012,\r\n        \"low\": 252.720001,\r\n        \"close\": 261.100006,\r\n        \"volume\": 28028500\r\n    },\r\n    {\r\n        \"date\": \"2021-01-20T00:00:00.000Z\",\r\n        \"open\": 268.929993,\r\n        \"high\": 270.320007,\r\n        \"low\": 263.600006,\r\n        \"close\": 267.480011,\r\n        \"volume\": 25199900\r\n    },\r\n    {\r\n        \"date\": \"2021-01-21T00:00:00.000Z\",\r\n        \"open\": 269.26001,\r\n        \"high\": 273.600006,\r\n        \"low\": 267.48999,\r\n        \"close\": 272.869995,\r\n        \"volume\": 20838700\r\n    },\r\n    {\r\n        \"date\": \"2021-01-22T00:00:00.000Z\",\r\n        \"open\": 272.01001,\r\n        \"high\": 278.470001,\r\n        \"low\": 272,\r\n        \"close\": 274.5,\r\n        \"volume\": 21954000\r\n    },\r\n    {\r\n        \"date\": \"2021-01-25T00:00:00.000Z\",\r\n        \"open\": 278.140015,\r\n        \"high\": 280.100006,\r\n        \"low\": 271.51001,\r\n        \"close\": 278.01001,\r\n        \"volume\": 19087000\r\n    },\r\n    {\r\n        \"date\": \"2021-01-26T00:00:00.000Z\",\r\n        \"open\": 278.140015,\r\n        \"high\": 285.390015,\r\n        \"low\": 277.809998,\r\n        \"close\": 282.049988,\r\n        \"volume\": 19373600\r\n    },\r\n    {\r\n        \"date\": \"2021-01-27T00:00:00.000Z\",\r\n        \"open\": 282.529999,\r\n        \"high\": 283.450012,\r\n        \"low\": 268.119995,\r\n        \"close\": 272.140015,\r\n        \"volume\": 35346200\r\n    },\r\n    {\r\n        \"date\": \"2021-01-28T00:00:00.000Z\",\r\n        \"open\": 277.179993,\r\n        \"high\": 286.790009,\r\n        \"low\": 264.700012,\r\n        \"close\": 265,\r\n        \"volume\": 37758800\r\n    },\r\n    {\r\n        \"date\": \"2021-01-29T00:00:00.000Z\",\r\n        \"open\": 265.299988,\r\n        \"high\": 266.559998,\r\n        \"low\": 254.850006,\r\n        \"close\": 258.329987,\r\n        \"volume\": 30389500\r\n    },\r\n    {\r\n        \"date\": \"2021-02-01T00:00:00.000Z\",\r\n        \"open\": 259.519989,\r\n        \"high\": 264.170013,\r\n        \"low\": 254.910004,\r\n        \"close\": 262.01001,\r\n        \"volume\": 22914300\r\n    },\r\n    {\r\n        \"date\": \"2021-02-02T00:00:00.000Z\",\r\n        \"open\": 264,\r\n        \"high\": 268.850006,\r\n        \"low\": 263.269989,\r\n        \"close\": 267.079987,\r\n        \"volume\": 17320800\r\n    },\r\n    {\r\n        \"date\": \"2021-02-03T00:00:00.000Z\",\r\n        \"open\": 265.619995,\r\n        \"high\": 269.200012,\r\n        \"low\": 263.839996,\r\n        \"close\": 266.649994,\r\n        \"volume\": 14223400\r\n    },\r\n    {\r\n        \"date\": \"2021-02-04T00:00:00.000Z\",\r\n        \"open\": 267.01001,\r\n        \"high\": 268.160004,\r\n        \"low\": 264,\r\n        \"close\": 266.48999,\r\n        \"volume\": 16060000\r\n    },\r\n    {\r\n        \"date\": \"2021-02-05T00:00:00.000Z\",\r\n        \"open\": 266.799988,\r\n        \"high\": 269.170013,\r\n        \"low\": 265.670013,\r\n        \"close\": 268.100006,\r\n        \"volume\": 12454400\r\n    },\r\n    {\r\n        \"date\": \"2021-02-08T00:00:00.000Z\",\r\n        \"open\": 268.75,\r\n        \"high\": 269.859985,\r\n        \"low\": 265,\r\n        \"close\": 266.579987,\r\n        \"volume\": 13755200\r\n    },\r\n    {\r\n        \"date\": \"2021-02-09T00:00:00.000Z\",\r\n        \"open\": 266.440002,\r\n        \"high\": 273.390015,\r\n        \"low\": 265.75,\r\n        \"close\": 269.450012,\r\n        \"volume\": 14613400\r\n    },\r\n    {\r\n        \"date\": \"2021-02-10T00:00:00.000Z\",\r\n        \"open\": 272.450012,\r\n        \"high\": 273.799988,\r\n        \"low\": 267.720001,\r\n        \"close\": 271.869995,\r\n        \"volume\": 14687200\r\n    },\r\n    {\r\n        \"date\": \"2021-02-11T00:00:00.000Z\",\r\n        \"open\": 271.890015,\r\n        \"high\": 273.579987,\r\n        \"low\": 268.48999,\r\n        \"close\": 270.390015,\r\n        \"volume\": 12828600\r\n    },\r\n    {\r\n        \"date\": \"2021-02-12T00:00:00.000Z\",\r\n        \"open\": 270.519989,\r\n        \"high\": 271.179993,\r\n        \"low\": 268.339996,\r\n        \"close\": 270.5,\r\n        \"volume\": 9097600\r\n    },\r\n    {\r\n        \"date\": \"2021-02-16T00:00:00.000Z\",\r\n        \"open\": 270.799988,\r\n        \"high\": 276.600006,\r\n        \"low\": 270.049988,\r\n        \"close\": 273.970001,\r\n        \"volume\": 15417200\r\n    },\r\n    {\r\n        \"date\": \"2021-02-17T00:00:00.000Z\",\r\n        \"open\": 271.23999,\r\n        \"high\": 273.970001,\r\n        \"low\": 269.579987,\r\n        \"close\": 273.570007,\r\n        \"volume\": 12763200\r\n    },\r\n    {\r\n        \"date\": \"2021-02-18T00:00:00.000Z\",\r\n        \"open\": 269.570007,\r\n        \"high\": 271.950012,\r\n        \"low\": 266.029999,\r\n        \"close\": 269.390015,\r\n        \"volume\": 15249100\r\n    },\r\n    {\r\n        \"date\": \"2021-02-19T00:00:00.000Z\",\r\n        \"open\": 269.859985,\r\n        \"high\": 270.269989,\r\n        \"low\": 260.149994,\r\n        \"close\": 261.559998,\r\n        \"volume\": 25622600\r\n    },\r\n    {\r\n        \"date\": \"2021-02-22T00:00:00.000Z\",\r\n        \"open\": 257.950012,\r\n        \"high\": 263.070007,\r\n        \"low\": 257.529999,\r\n        \"close\": 260.329987,\r\n        \"volume\": 17434900\r\n    },\r\n    {\r\n        \"date\": \"2021-02-23T00:00:00.000Z\",\r\n        \"open\": 259.5,\r\n        \"high\": 267.459991,\r\n        \"low\": 254.960007,\r\n        \"close\": 265.859985,\r\n        \"volume\": 21924600\r\n    },\r\n    {\r\n        \"date\": \"2021-02-24T00:00:00.000Z\",\r\n        \"open\": 262.329987,\r\n        \"high\": 266.380005,\r\n        \"low\": 258.390015,\r\n        \"close\": 264.309998,\r\n        \"volume\": 15736100\r\n    },\r\n    {\r\n        \"date\": \"2021-02-25T00:00:00.000Z\",\r\n        \"open\": 262.299988,\r\n        \"high\": 266.940002,\r\n        \"low\": 254.039993,\r\n        \"close\": 254.690002,\r\n        \"volume\": 19053100\r\n    },\r\n    {\r\n        \"date\": \"2021-02-26T00:00:00.000Z\",\r\n        \"open\": 256.470001,\r\n        \"high\": 265.549988,\r\n        \"low\": 256.470001,\r\n        \"close\": 257.619995,\r\n        \"volume\": 26619500\r\n    },\r\n    {\r\n        \"date\": \"2021-03-01T00:00:00.000Z\",\r\n        \"open\": 260.820007,\r\n        \"high\": 266.649994,\r\n        \"low\": 257.899994,\r\n        \"close\": 264.910004,\r\n        \"volume\": 22157300\r\n    },\r\n    {\r\n        \"date\": \"2021-03-02T00:00:00.000Z\",\r\n        \"open\": 265.779999,\r\n        \"high\": 266.709991,\r\n        \"low\": 258.649994,\r\n        \"close\": 259,\r\n        \"volume\": 15191700\r\n    },\r\n    {\r\n        \"date\": \"2021-03-03T00:00:00.000Z\",\r\n        \"open\": 260.290009,\r\n        \"high\": 260.98999,\r\n        \"low\": 255.100006,\r\n        \"close\": 255.410004,\r\n        \"volume\": 15513500\r\n    },\r\n    {\r\n        \"date\": \"2021-03-04T00:00:00.000Z\",\r\n        \"open\": 256.470001,\r\n        \"high\": 266.48999,\r\n        \"low\": 253.5,\r\n        \"close\": 257.640015,\r\n        \"volume\": 31626500\r\n    },\r\n    {\r\n        \"date\": \"2021-03-05T00:00:00.000Z\",\r\n        \"open\": 260.670013,\r\n        \"high\": 265.450012,\r\n        \"low\": 255.610001,\r\n        \"close\": 264.279999,\r\n        \"volume\": 26820100\r\n    },\r\n    {\r\n        \"date\": \"2021-03-08T00:00:00.000Z\",\r\n        \"open\": 265.549988,\r\n        \"high\": 265.579987,\r\n        \"low\": 255.050003,\r\n        \"close\": 255.309998,\r\n        \"volume\": 18391800\r\n    },\r\n    {\r\n        \"date\": \"2021-03-09T00:00:00.000Z\",\r\n        \"open\": 261.179993,\r\n        \"high\": 268.529999,\r\n        \"low\": 259.809998,\r\n        \"close\": 265.73999,\r\n        \"volume\": 22039700\r\n    },\r\n    {\r\n        \"date\": \"2021-03-10T00:00:00.000Z\",\r\n        \"open\": 268.640015,\r\n        \"high\": 268.970001,\r\n        \"low\": 262.869995,\r\n        \"close\": 264.899994,\r\n        \"volume\": 14210300\r\n    },\r\n    {\r\n        \"date\": \"2021-03-11T00:00:00.000Z\",\r\n        \"open\": 268.109985,\r\n        \"high\": 277.899994,\r\n        \"low\": 267.820007,\r\n        \"close\": 273.880005,\r\n        \"volume\": 21834000\r\n    },\r\n    {\r\n        \"date\": \"2021-03-12T00:00:00.000Z\",\r\n        \"open\": 269.140015,\r\n        \"high\": 269.73999,\r\n        \"low\": 264.019989,\r\n        \"close\": 268.399994,\r\n        \"volume\": 20600200\r\n    },\r\n    {\r\n        \"date\": \"2021-03-15T00:00:00.000Z\",\r\n        \"open\": 269.079987,\r\n        \"high\": 275.959991,\r\n        \"low\": 268.5,\r\n        \"close\": 273.75,\r\n        \"volume\": 16844800\r\n    },\r\n    {\r\n        \"date\": \"2021-03-16T00:00:00.000Z\",\r\n        \"open\": 276.079987,\r\n        \"high\": 282.140015,\r\n        \"low\": 274.799988,\r\n        \"close\": 279.279999,\r\n        \"volume\": 22437700\r\n    },\r\n    {\r\n        \"date\": \"2021-03-17T00:00:00.000Z\",\r\n        \"open\": 275.709991,\r\n        \"high\": 286.230011,\r\n        \"low\": 275.410004,\r\n        \"close\": 284.01001,\r\n        \"volume\": 21315000\r\n    },\r\n    {\r\n        \"date\": \"2021-03-18T00:00:00.000Z\",\r\n        \"open\": 279.869995,\r\n        \"high\": 285.190002,\r\n        \"low\": 278.279999,\r\n        \"close\": 278.619995,\r\n        \"volume\": 18728300\r\n    },\r\n    {\r\n        \"date\": \"2021-03-19T00:00:00.000Z\",\r\n        \"open\": 281.220001,\r\n        \"high\": 292.799988,\r\n        \"low\": 281.200012,\r\n        \"close\": 290.109985,\r\n        \"volume\": 38930500\r\n    },\r\n    {\r\n        \"date\": \"2021-03-22T00:00:00.000Z\",\r\n        \"open\": 290.450012,\r\n        \"high\": 299.709991,\r\n        \"low\": 286.75,\r\n        \"close\": 293.540009,\r\n        \"volume\": 28273100\r\n    },\r\n    {\r\n        \"date\": \"2021-03-23T00:00:00.000Z\",\r\n        \"open\": 293.149994,\r\n        \"high\": 298,\r\n        \"low\": 289.809998,\r\n        \"close\": 290.630005,\r\n        \"volume\": 23000900\r\n    },\r\n    {\r\n        \"date\": \"2021-03-24T00:00:00.000Z\",\r\n        \"open\": 291,\r\n        \"high\": 291.720001,\r\n        \"low\": 281.160004,\r\n        \"close\": 282.140015,\r\n        \"volume\": 18675000\r\n    },\r\n    {\r\n        \"date\": \"2021-03-25T00:00:00.000Z\",\r\n        \"open\": 280.980011,\r\n        \"high\": 288.059998,\r\n        \"low\": 277.75,\r\n        \"close\": 278.73999,\r\n        \"volume\": 24505600\r\n    },\r\n    {\r\n        \"date\": \"2021-03-26T00:00:00.000Z\",\r\n        \"open\": 278.299988,\r\n        \"high\": 284.5,\r\n        \"low\": 277.769989,\r\n        \"close\": 283.019989,\r\n        \"volume\": 17629200\r\n    },\r\n    {\r\n        \"date\": \"2021-03-29T00:00:00.000Z\",\r\n        \"open\": 285.769989,\r\n        \"high\": 293.179993,\r\n        \"low\": 284.700012,\r\n        \"close\": 290.820007,\r\n        \"volume\": 21718800\r\n    },\r\n    {\r\n        \"date\": \"2021-03-30T00:00:00.000Z\",\r\n        \"open\": 289.829987,\r\n        \"high\": 292.470001,\r\n        \"low\": 286.700012,\r\n        \"close\": 288,\r\n        \"volume\": 17474500\r\n    },\r\n    {\r\n        \"date\": \"2021-03-31T00:00:00.000Z\",\r\n        \"open\": 289.98999,\r\n        \"high\": 296.5,\r\n        \"low\": 288.609985,\r\n        \"close\": 294.529999,\r\n        \"volume\": 19498200\r\n    },\r\n    {\r\n        \"date\": \"2021-04-01T00:00:00.000Z\",\r\n        \"open\": 298.399994,\r\n        \"high\": 302.399994,\r\n        \"low\": 296.600006,\r\n        \"close\": 298.660004,\r\n        \"volume\": 17616000\r\n    },\r\n    {\r\n        \"date\": \"2021-04-05T00:00:00.000Z\",\r\n        \"open\": 300.890015,\r\n        \"high\": 310.769989,\r\n        \"low\": 300.679993,\r\n        \"close\": 308.910004,\r\n        \"volume\": 28237000\r\n    },\r\n    {\r\n        \"date\": \"2021-04-06T00:00:00.000Z\",\r\n        \"open\": 308.839996,\r\n        \"high\": 311.350006,\r\n        \"low\": 305.25,\r\n        \"close\": 306.26001,\r\n        \"volume\": 17335200\r\n    },\r\n    {\r\n        \"date\": \"2021-04-07T00:00:00.000Z\",\r\n        \"open\": 306.339996,\r\n        \"high\": 314.25,\r\n        \"low\": 305.5,\r\n        \"close\": 313.089996,\r\n        \"volume\": 22855200\r\n    },\r\n    {\r\n        \"date\": \"2021-04-08T00:00:00.000Z\",\r\n        \"open\": 314.850006,\r\n        \"high\": 315.880005,\r\n        \"low\": 310.049988,\r\n        \"close\": 313.019989,\r\n        \"volume\": 20894100\r\n    },\r\n    {\r\n        \"date\": \"2021-04-09T00:00:00.000Z\",\r\n        \"open\": 311.399994,\r\n        \"high\": 314.73999,\r\n        \"low\": 310.329987,\r\n        \"close\": 312.459991,\r\n        \"volume\": 15988600\r\n    },\r\n    {\r\n        \"date\": \"2021-04-12T00:00:00.000Z\",\r\n        \"open\": 311.049988,\r\n        \"high\": 312.149994,\r\n        \"low\": 307.929993,\r\n        \"close\": 311.540009,\r\n        \"volume\": 10881900\r\n    },\r\n    {\r\n        \"date\": \"2021-04-13T00:00:00.000Z\",\r\n        \"open\": 312.209991,\r\n        \"high\": 314.429993,\r\n        \"low\": 309.320007,\r\n        \"close\": 309.76001,\r\n        \"volume\": 14036900\r\n    },\r\n    {\r\n        \"date\": \"2021-04-14T00:00:00.000Z\",\r\n        \"open\": 307.299988,\r\n        \"high\": 308.029999,\r\n        \"low\": 301.950012,\r\n        \"close\": 302.820007,\r\n        \"volume\": 17421400\r\n    },\r\n    {\r\n        \"date\": \"2021-04-15T00:00:00.000Z\",\r\n        \"open\": 306.339996,\r\n        \"high\": 310.140015,\r\n        \"low\": 304.100006,\r\n        \"close\": 307.820007,\r\n        \"volume\": 14558300\r\n    },\r\n    {\r\n        \"date\": \"2021-04-16T00:00:00.000Z\",\r\n        \"open\": 308.170013,\r\n        \"high\": 308.950012,\r\n        \"low\": 304.609985,\r\n        \"close\": 306.179993,\r\n        \"volume\": 13059200\r\n    },\r\n    {\r\n        \"date\": \"2021-04-19T00:00:00.000Z\",\r\n        \"open\": 305.01001,\r\n        \"high\": 307.700012,\r\n        \"low\": 300.559998,\r\n        \"close\": 302.23999,\r\n        \"volume\": 14553500\r\n    },\r\n    {\r\n        \"date\": \"2021-04-20T00:00:00.000Z\",\r\n        \"open\": 301.98999,\r\n        \"high\": 305.100006,\r\n        \"low\": 297.209991,\r\n        \"close\": 302.649994,\r\n        \"volume\": 16796400\r\n    },\r\n    {\r\n        \"date\": \"2021-04-21T00:00:00.000Z\",\r\n        \"open\": 301.950012,\r\n        \"high\": 301.980011,\r\n        \"low\": 297.390015,\r\n        \"close\": 301.470001,\r\n        \"volume\": 14863500\r\n    },\r\n    {\r\n        \"date\": \"2021-04-22T00:00:00.000Z\",\r\n        \"open\": 301.329987,\r\n        \"high\": 302.920013,\r\n        \"low\": 296.040009,\r\n        \"close\": 296.519989,\r\n        \"volume\": 16375400\r\n    },\r\n    {\r\n        \"date\": \"2021-04-23T00:00:00.000Z\",\r\n        \"open\": 298.76001,\r\n        \"high\": 302.589996,\r\n        \"low\": 297.149994,\r\n        \"close\": 301.130005,\r\n        \"volume\": 17536800\r\n    },\r\n    {\r\n        \"date\": \"2021-04-26T00:00:00.000Z\",\r\n        \"open\": 303.339996,\r\n        \"high\": 305.799988,\r\n        \"low\": 301.559998,\r\n        \"close\": 303.040009,\r\n        \"volume\": 16172600\r\n    },\r\n    {\r\n        \"date\": \"2021-04-27T00:00:00.000Z\",\r\n        \"open\": 304.279999,\r\n        \"high\": 305.339996,\r\n        \"low\": 301.109985,\r\n        \"close\": 303.570007,\r\n        \"volume\": 15309300\r\n    },\r\n    {\r\n        \"date\": \"2021-04-28T00:00:00.000Z\",\r\n        \"open\": 307.359985,\r\n        \"high\": 310.920013,\r\n        \"low\": 305.369995,\r\n        \"close\": 307.100006,\r\n        \"volume\": 33907200\r\n    },\r\n    {\r\n        \"date\": \"2021-04-29T00:00:00.000Z\",\r\n        \"open\": 330.119995,\r\n        \"high\": 331.809998,\r\n        \"low\": 321.609985,\r\n        \"close\": 329.51001,\r\n        \"volume\": 56526800\r\n    },\r\n    {\r\n        \"date\": \"2021-04-30T00:00:00.000Z\",\r\n        \"open\": 326.140015,\r\n        \"high\": 329.820007,\r\n        \"low\": 324.5,\r\n        \"close\": 325.079987,\r\n        \"volume\": 26332400\r\n    },\r\n    {\r\n        \"date\": \"2021-05-03T00:00:00.000Z\",\r\n        \"open\": 326.170013,\r\n        \"high\": 328.549988,\r\n        \"low\": 321.839996,\r\n        \"close\": 322.579987,\r\n        \"volume\": 18719500\r\n    },\r\n    {\r\n        \"date\": \"2021-05-04T00:00:00.000Z\",\r\n        \"open\": 320.019989,\r\n        \"high\": 322.190002,\r\n        \"low\": 313.119995,\r\n        \"close\": 318.359985,\r\n        \"volume\": 24032600\r\n    },\r\n    {\r\n        \"date\": \"2021-05-05T00:00:00.000Z\",\r\n        \"open\": 318.190002,\r\n        \"high\": 321.059998,\r\n        \"low\": 314.48999,\r\n        \"close\": 315.019989,\r\n        \"volume\": 15577600\r\n    },\r\n    {\r\n        \"date\": \"2021-05-06T00:00:00.000Z\",\r\n        \"open\": 314.519989,\r\n        \"high\": 320.23999,\r\n        \"low\": 313.269989,\r\n        \"close\": 320.019989,\r\n        \"volume\": 19012200\r\n    },\r\n    {\r\n        \"date\": \"2021-05-07T00:00:00.000Z\",\r\n        \"open\": 322.380005,\r\n        \"high\": 322.940002,\r\n        \"low\": 318.75,\r\n        \"close\": 319.079987,\r\n        \"volume\": 15916700\r\n    },\r\n    {\r\n        \"date\": \"2021-05-10T00:00:00.000Z\",\r\n        \"open\": 314.350006,\r\n        \"high\": 314.579987,\r\n        \"low\": 304.829987,\r\n        \"close\": 305.970001,\r\n        \"volume\": 24239200\r\n    },\r\n    {\r\n        \"date\": \"2021-05-11T00:00:00.000Z\",\r\n        \"open\": 300.75,\r\n        \"high\": 306.839996,\r\n        \"low\": 299.690002,\r\n        \"close\": 306.529999,\r\n        \"volume\": 18920100\r\n    },\r\n    {\r\n        \"date\": \"2021-05-12T00:00:00.000Z\",\r\n        \"open\": 301.130005,\r\n        \"high\": 304.959991,\r\n        \"low\": 298.190002,\r\n        \"close\": 302.549988,\r\n        \"volume\": 24645500\r\n    },\r\n    {\r\n        \"date\": \"2021-05-13T00:00:00.000Z\",\r\n        \"open\": 306.079987,\r\n        \"high\": 308.859985,\r\n        \"low\": 302.769989,\r\n        \"close\": 305.26001,\r\n        \"volume\": 18079200\r\n    },\r\n    {\r\n        \"date\": \"2021-05-14T00:00:00.000Z\",\r\n        \"open\": 309.540009,\r\n        \"high\": 316.850006,\r\n        \"low\": 309.079987,\r\n        \"close\": 315.940002,\r\n        \"volume\": 19245700\r\n    },\r\n    {\r\n        \"date\": \"2021-05-17T00:00:00.000Z\",\r\n        \"open\": 313.549988,\r\n        \"high\": 315.679993,\r\n        \"low\": 311.579987,\r\n        \"close\": 315.459991,\r\n        \"volume\": 15401300\r\n    },\r\n    {\r\n        \"date\": \"2021-05-18T00:00:00.000Z\",\r\n        \"open\": 315.589996,\r\n        \"high\": 316.5,\r\n        \"low\": 309.809998,\r\n        \"close\": 309.959991,\r\n        \"volume\": 14522400\r\n    },\r\n    {\r\n        \"date\": \"2021-05-19T00:00:00.000Z\",\r\n        \"open\": 304.190002,\r\n        \"high\": 314.660004,\r\n        \"low\": 303.570007,\r\n        \"close\": 313.589996,\r\n        \"volume\": 19106200\r\n    },\r\n    {\r\n        \"date\": \"2021-05-20T00:00:00.000Z\",\r\n        \"open\": 313.579987,\r\n        \"high\": 319.25,\r\n        \"low\": 313.160004,\r\n        \"close\": 318.609985,\r\n        \"volume\": 17320200\r\n    },\r\n    {\r\n        \"date\": \"2021-05-21T00:00:00.000Z\",\r\n        \"open\": 319.290009,\r\n        \"high\": 319.929993,\r\n        \"low\": 315.809998,\r\n        \"close\": 316.230011,\r\n        \"volume\": 13600900\r\n    },\r\n    {\r\n        \"date\": \"2021-05-24T00:00:00.000Z\",\r\n        \"open\": 318.209991,\r\n        \"high\": 325.950012,\r\n        \"low\": 318.029999,\r\n        \"close\": 324.630005,\r\n        \"volume\": 16445400\r\n    },\r\n    {\r\n        \"date\": \"2021-05-25T00:00:00.000Z\",\r\n        \"open\": 327.079987,\r\n        \"high\": 329.179993,\r\n        \"low\": 324.799988,\r\n        \"close\": 327.790009,\r\n        \"volume\": 16437000\r\n    },\r\n    {\r\n        \"date\": \"2021-05-26T00:00:00.000Z\",\r\n        \"open\": 328.350006,\r\n        \"high\": 329.829987,\r\n        \"low\": 325.820007,\r\n        \"close\": 327.660004,\r\n        \"volume\": 9686900\r\n    },\r\n    {\r\n        \"date\": \"2021-05-27T00:00:00.000Z\",\r\n        \"open\": 328,\r\n        \"high\": 333.779999,\r\n        \"low\": 326.76001,\r\n        \"close\": 332.75,\r\n        \"volume\": 20477700\r\n    },\r\n    {\r\n        \"date\": \"2021-05-28T00:00:00.000Z\",\r\n        \"open\": 331,\r\n        \"high\": 332.869995,\r\n        \"low\": 328.329987,\r\n        \"close\": 328.730011,\r\n        \"volume\": 12037400\r\n    },\r\n    {\r\n        \"date\": \"2021-06-01T00:00:00.000Z\",\r\n        \"open\": 330.149994,\r\n        \"high\": 331.420013,\r\n        \"low\": 326.640015,\r\n        \"close\": 329.130005,\r\n        \"volume\": 11765900\r\n    },\r\n    {\r\n        \"date\": \"2021-06-02T00:00:00.000Z\",\r\n        \"open\": 330.380005,\r\n        \"high\": 331.869995,\r\n        \"low\": 327.119995,\r\n        \"close\": 329.149994,\r\n        \"volume\": 11654300\r\n    },\r\n    {\r\n        \"date\": \"2021-06-03T00:00:00.000Z\",\r\n        \"open\": 325.779999,\r\n        \"high\": 327.380005,\r\n        \"low\": 323.480011,\r\n        \"close\": 326.040009,\r\n        \"volume\": 12610800\r\n    },\r\n    {\r\n        \"date\": \"2021-06-04T00:00:00.000Z\",\r\n        \"open\": 325.899994,\r\n        \"high\": 332.459991,\r\n        \"low\": 325.179993,\r\n        \"close\": 330.350006,\r\n        \"volume\": 13289400\r\n    },\r\n    {\r\n        \"date\": \"2021-06-07T00:00:00.000Z\",\r\n        \"open\": 329.480011,\r\n        \"high\": 337.690002,\r\n        \"low\": 328.929993,\r\n        \"close\": 336.579987,\r\n        \"volume\": 20136700\r\n    },\r\n    {\r\n        \"date\": \"2021-06-08T00:00:00.000Z\",\r\n        \"open\": 336.700012,\r\n        \"high\": 338.299988,\r\n        \"low\": 332.23999,\r\n        \"close\": 333.679993,\r\n        \"volume\": 14580500\r\n    },\r\n    {\r\n        \"date\": \"2021-06-09T00:00:00.000Z\",\r\n        \"open\": 335.73999,\r\n        \"high\": 336.799988,\r\n        \"low\": 330,\r\n        \"close\": 330.25,\r\n        \"volume\": 13727900\r\n    },\r\n    {\r\n        \"date\": \"2021-06-10T00:00:00.000Z\",\r\n        \"open\": 330.790009,\r\n        \"high\": 333.940002,\r\n        \"low\": 328.549988,\r\n        \"close\": 332.459991,\r\n        \"volume\": 13240200\r\n    },\r\n    {\r\n        \"date\": \"2021-06-11T00:00:00.000Z\",\r\n        \"open\": 332.579987,\r\n        \"high\": 332.829987,\r\n        \"low\": 328.929993,\r\n        \"close\": 331.26001,\r\n        \"volume\": 13587900\r\n    },\r\n    {\r\n        \"date\": \"2021-06-14T00:00:00.000Z\",\r\n        \"open\": 331.899994,\r\n        \"high\": 336.820007,\r\n        \"low\": 329.809998,\r\n        \"close\": 336.769989,\r\n        \"volume\": 12250800\r\n    },\r\n    {\r\n        \"date\": \"2021-06-15T00:00:00.000Z\",\r\n        \"open\": 336.98999,\r\n        \"high\": 339.920013,\r\n        \"low\": 335.029999,\r\n        \"close\": 336.75,\r\n        \"volume\": 15795200\r\n    },\r\n    {\r\n        \"date\": \"2021-06-16T00:00:00.000Z\",\r\n        \"open\": 336.700012,\r\n        \"high\": 337.549988,\r\n        \"low\": 328.720001,\r\n        \"close\": 331.079987,\r\n        \"volume\": 17232200\r\n    },\r\n    {\r\n        \"date\": \"2021-06-17T00:00:00.000Z\",\r\n        \"open\": 330.48999,\r\n        \"high\": 337.980011,\r\n        \"low\": 330.149994,\r\n        \"close\": 336.51001,\r\n        \"volume\": 17794100\r\n    },\r\n    {\r\n        \"date\": \"2021-06-18T00:00:00.000Z\",\r\n        \"open\": 334.529999,\r\n        \"high\": 336.149994,\r\n        \"low\": 329,\r\n        \"close\": 329.660004,\r\n        \"volume\": 23039500\r\n    },\r\n    {\r\n        \"date\": \"2021-06-21T00:00:00.000Z\",\r\n        \"open\": 331.089996,\r\n        \"high\": 332.920013,\r\n        \"low\": 327.649994,\r\n        \"close\": 332.290009,\r\n        \"volume\": 11337500\r\n    },\r\n    {\r\n        \"date\": \"2021-06-22T00:00:00.000Z\",\r\n        \"open\": 332.690002,\r\n        \"high\": 339.920013,\r\n        \"low\": 332.600006,\r\n        \"close\": 339.029999,\r\n        \"volume\": 15345300\r\n    },\r\n    {\r\n        \"date\": \"2021-06-23T00:00:00.000Z\",\r\n        \"open\": 339.350006,\r\n        \"high\": 343.420013,\r\n        \"low\": 338.200012,\r\n        \"close\": 340.589996,\r\n        \"volume\": 14817800\r\n    },\r\n    {\r\n        \"date\": \"2021-06-24T00:00:00.000Z\",\r\n        \"open\": 341.850006,\r\n        \"high\": 344.899994,\r\n        \"low\": 341.790009,\r\n        \"close\": 343.179993,\r\n        \"volume\": 12329100\r\n    },\r\n    {\r\n        \"date\": \"2021-06-25T00:00:00.000Z\",\r\n        \"open\": 342.589996,\r\n        \"high\": 344.119995,\r\n        \"low\": 339.679993,\r\n        \"close\": 341.369995,\r\n        \"volume\": 14594400\r\n    },\r\n    {\r\n        \"date\": \"2021-06-28T00:00:00.000Z\",\r\n        \"open\": 342.459991,\r\n        \"high\": 358.140015,\r\n        \"low\": 341.769989,\r\n        \"close\": 355.640015,\r\n        \"volume\": 29156100\r\n    },\r\n    {\r\n        \"date\": \"2021-06-29T00:00:00.000Z\",\r\n        \"open\": 356.269989,\r\n        \"high\": 356.73999,\r\n        \"low\": 349.049988,\r\n        \"close\": 351.890015,\r\n        \"volume\": 21417300\r\n    },\r\n    {\r\n        \"date\": \"2021-06-30T00:00:00.000Z\",\r\n        \"open\": 352.170013,\r\n        \"high\": 352.920013,\r\n        \"low\": 347.170013,\r\n        \"close\": 347.709991,\r\n        \"volume\": 15107500\r\n    },\r\n    {\r\n        \"date\": \"2021-07-01T00:00:00.000Z\",\r\n        \"open\": 346.820007,\r\n        \"high\": 354.670013,\r\n        \"low\": 346.5,\r\n        \"close\": 354.390015,\r\n        \"volume\": 17137000\r\n    },\r\n    {\r\n        \"date\": \"2021-07-02T00:00:00.000Z\",\r\n        \"open\": 355.100006,\r\n        \"high\": 356.440002,\r\n        \"low\": 352.619995,\r\n        \"close\": 354.700012,\r\n        \"volume\": 11521300\r\n    },\r\n    {\r\n        \"date\": \"2021-07-06T00:00:00.000Z\",\r\n        \"open\": 356.5,\r\n        \"high\": 358.790009,\r\n        \"low\": 349.179993,\r\n        \"close\": 352.779999,\r\n        \"volume\": 13488500\r\n    },\r\n    {\r\n        \"date\": \"2021-07-07T00:00:00.000Z\",\r\n        \"open\": 355.26001,\r\n        \"high\": 356.48999,\r\n        \"low\": 350,\r\n        \"close\": 350.48999,\r\n        \"volume\": 14218900\r\n    },\r\n    {\r\n        \"date\": \"2021-07-08T00:00:00.000Z\",\r\n        \"open\": 345.730011,\r\n        \"high\": 348.329987,\r\n        \"low\": 342.559998,\r\n        \"close\": 345.649994,\r\n        \"volume\": 14406500\r\n    },\r\n    {\r\n        \"date\": \"2021-07-09T00:00:00.000Z\",\r\n        \"open\": 345.320007,\r\n        \"high\": 350.709991,\r\n        \"low\": 345.269989,\r\n        \"close\": 350.420013,\r\n        \"volume\": 13018700\r\n    },\r\n    {\r\n        \"date\": \"2021-07-12T00:00:00.000Z\",\r\n        \"open\": 351.230011,\r\n        \"high\": 354.190002,\r\n        \"low\": 349.640015,\r\n        \"close\": 353.160004,\r\n        \"volume\": 10018600\r\n    },\r\n    {\r\n        \"date\": \"2021-07-13T00:00:00.000Z\",\r\n        \"open\": 351.5,\r\n        \"high\": 358.48999,\r\n        \"low\": 348.799988,\r\n        \"close\": 352.089996,\r\n        \"volume\": 11456000\r\n    },\r\n    {\r\n        \"date\": \"2021-07-14T00:00:00.000Z\",\r\n        \"open\": 354.559998,\r\n        \"high\": 355.200012,\r\n        \"low\": 346.730011,\r\n        \"close\": 347.630005,\r\n        \"volume\": 13894200\r\n    },\r\n    {\r\n        \"date\": \"2021-07-15T00:00:00.000Z\",\r\n        \"open\": 349.230011,\r\n        \"high\": 349.230011,\r\n        \"low\": 340.220001,\r\n        \"close\": 344.459991,\r\n        \"volume\": 14781600\r\n    },\r\n    {\r\n        \"date\": \"2021-07-16T00:00:00.000Z\",\r\n        \"open\": 344.910004,\r\n        \"high\": 345.98999,\r\n        \"low\": 340.140015,\r\n        \"close\": 341.160004,\r\n        \"volume\": 11026100\r\n    },\r\n    {\r\n        \"date\": \"2021-07-19T00:00:00.000Z\",\r\n        \"open\": 337.570007,\r\n        \"high\": 339.790009,\r\n        \"low\": 334.540009,\r\n        \"close\": 336.950012,\r\n        \"volume\": 14372300\r\n    },\r\n    {\r\n        \"date\": \"2021-07-20T00:00:00.000Z\",\r\n        \"open\": 338.799988,\r\n        \"high\": 343.450012,\r\n        \"low\": 334.5,\r\n        \"close\": 341.660004,\r\n        \"volume\": 11024300\r\n    },\r\n    {\r\n        \"date\": \"2021-07-21T00:00:00.000Z\",\r\n        \"open\": 341.5,\r\n        \"high\": 346.519989,\r\n        \"low\": 341.25,\r\n        \"close\": 346.230011,\r\n        \"volume\": 9279700\r\n    },\r\n    {\r\n        \"date\": \"2021-07-22T00:00:00.000Z\",\r\n        \"open\": 346.679993,\r\n        \"high\": 351.540009,\r\n        \"low\": 345.209991,\r\n        \"close\": 351.190002,\r\n        \"volume\": 12385400\r\n    },\r\n    {\r\n        \"date\": \"2021-07-23T00:00:00.000Z\",\r\n        \"open\": 360.910004,\r\n        \"high\": 375.329987,\r\n        \"low\": 357.190002,\r\n        \"close\": 369.790009,\r\n        \"volume\": 33694300\r\n    },\r\n    {\r\n        \"date\": \"2021-07-26T00:00:00.000Z\",\r\n        \"open\": 369.579987,\r\n        \"high\": 374.440002,\r\n        \"low\": 368.220001,\r\n        \"close\": 372.459991,\r\n        \"volume\": 14925200\r\n    },\r\n    {\r\n        \"date\": \"2021-07-27T00:00:00.000Z\",\r\n        \"open\": 371.910004,\r\n        \"high\": 373.149994,\r\n        \"low\": 364.549988,\r\n        \"close\": 367.809998,\r\n        \"volume\": 15705400\r\n    },\r\n    {\r\n        \"date\": \"2021-07-28T00:00:00.000Z\",\r\n        \"open\": 374.559998,\r\n        \"high\": 377.549988,\r\n        \"low\": 366.929993,\r\n        \"close\": 373.279999,\r\n        \"volume\": 29676900\r\n    },\r\n    {\r\n        \"date\": \"2021-07-29T00:00:00.000Z\",\r\n        \"open\": 361,\r\n        \"high\": 365.519989,\r\n        \"low\": 356.73999,\r\n        \"close\": 358.320007,\r\n        \"volume\": 33413200\r\n    },\r\n    {\r\n        \"date\": \"2021-07-30T00:00:00.000Z\",\r\n        \"open\": 354,\r\n        \"high\": 360.730011,\r\n        \"low\": 352.940002,\r\n        \"close\": 356.299988,\r\n        \"volume\": 15966700\r\n    },\r\n    {\r\n        \"date\": \"2021-08-02T00:00:00.000Z\",\r\n        \"open\": 358.100006,\r\n        \"high\": 359.399994,\r\n        \"low\": 350.73999,\r\n        \"close\": 351.950012,\r\n        \"volume\": 13180400\r\n    },\r\n    {\r\n        \"date\": \"2021-08-03T00:00:00.000Z\",\r\n        \"open\": 352.730011,\r\n        \"high\": 353.769989,\r\n        \"low\": 347.700012,\r\n        \"close\": 351.23999,\r\n        \"volume\": 12406100\r\n    },\r\n    {\r\n        \"date\": \"2021-08-04T00:00:00.000Z\",\r\n        \"open\": 352.420013,\r\n        \"high\": 360.480011,\r\n        \"low\": 351.51001,\r\n        \"close\": 358.920013,\r\n        \"volume\": 14180600\r\n    },\r\n    {\r\n        \"date\": \"2021-08-05T00:00:00.000Z\",\r\n        \"open\": 359.640015,\r\n        \"high\": 363.899994,\r\n        \"low\": 356.899994,\r\n        \"close\": 362.970001,\r\n        \"volume\": 10247200\r\n    },\r\n    {\r\n        \"date\": \"2021-08-06T00:00:00.000Z\",\r\n        \"open\": 361.399994,\r\n        \"high\": 365.149994,\r\n        \"low\": 361.399994,\r\n        \"close\": 363.51001,\r\n        \"volume\": 8918100\r\n    },\r\n    {\r\n        \"date\": \"2021-08-09T00:00:00.000Z\",\r\n        \"open\": 363.76001,\r\n        \"high\": 365.779999,\r\n        \"low\": 360.75,\r\n        \"close\": 361.609985,\r\n        \"volume\": 7798900\r\n    },\r\n    {\r\n        \"date\": \"2021-08-10T00:00:00.000Z\",\r\n        \"open\": 361.829987,\r\n        \"high\": 364.100006,\r\n        \"low\": 359.040009,\r\n        \"close\": 361.130005,\r\n        \"volume\": 7469900\r\n    },\r\n    {\r\n        \"date\": \"2021-08-11T00:00:00.000Z\",\r\n        \"open\": 362.100006,\r\n        \"high\": 362.359985,\r\n        \"low\": 357.809998,\r\n        \"close\": 359.959991,\r\n        \"volume\": 8400300\r\n    },\r\n    {\r\n        \"date\": \"2021-08-12T00:00:00.000Z\",\r\n        \"open\": 358.450012,\r\n        \"high\": 363,\r\n        \"low\": 357.109985,\r\n        \"close\": 362.649994,\r\n        \"volume\": 7170700\r\n    },\r\n    {\r\n        \"date\": \"2021-08-13T00:00:00.000Z\",\r\n        \"open\": 362.970001,\r\n        \"high\": 364.660004,\r\n        \"low\": 361.480011,\r\n        \"close\": 363.179993,\r\n        \"volume\": 7192500\r\n    },\r\n    {\r\n        \"date\": \"2021-08-16T00:00:00.000Z\",\r\n        \"open\": 362.519989,\r\n        \"high\": 366.950012,\r\n        \"low\": 357.380005,\r\n        \"close\": 366.559998,\r\n        \"volume\": 11222100\r\n    },\r\n    {\r\n        \"date\": \"2021-08-17T00:00:00.000Z\",\r\n        \"open\": 362.980011,\r\n        \"high\": 364.670013,\r\n        \"low\": 355.070007,\r\n        \"close\": 358.450012,\r\n        \"volume\": 12328700\r\n    },\r\n    {\r\n        \"date\": \"2021-08-18T00:00:00.000Z\",\r\n        \"open\": 356.25,\r\n        \"high\": 359.859985,\r\n        \"low\": 355.149994,\r\n        \"close\": 355.450012,\r\n        \"volume\": 10042400\r\n    },\r\n    {\r\n        \"date\": \"2021-08-19T00:00:00.000Z\",\r\n        \"open\": 351.350006,\r\n        \"high\": 357.570007,\r\n        \"low\": 351,\r\n        \"close\": 355.119995,\r\n        \"volume\": 12004500\r\n    },\r\n    {\r\n        \"date\": \"2021-08-20T00:00:00.000Z\",\r\n        \"open\": 354.600006,\r\n        \"high\": 359.98999,\r\n        \"low\": 353.309998,\r\n        \"close\": 359.369995,\r\n        \"volume\": 8693500\r\n    },\r\n    {\r\n        \"date\": \"2021-08-23T00:00:00.000Z\",\r\n        \"open\": 359.440002,\r\n        \"high\": 365.690002,\r\n        \"low\": 359.100006,\r\n        \"close\": 363.350006,\r\n        \"volume\": 10942000\r\n    },\r\n    {\r\n        \"date\": \"2021-08-24T00:00:00.000Z\",\r\n        \"open\": 363.660004,\r\n        \"high\": 367.959991,\r\n        \"low\": 361.839996,\r\n        \"close\": 365.51001,\r\n        \"volume\": 9235100\r\n    },\r\n    {\r\n        \"date\": \"2021-08-25T00:00:00.000Z\",\r\n        \"open\": 365.600006,\r\n        \"high\": 370.859985,\r\n        \"low\": 365.399994,\r\n        \"close\": 368.390015,\r\n        \"volume\": 9684500\r\n    },\r\n    {\r\n        \"date\": \"2021-08-26T00:00:00.000Z\",\r\n        \"open\": 368.380005,\r\n        \"high\": 369.440002,\r\n        \"low\": 364.130005,\r\n        \"close\": 364.380005,\r\n        \"volume\": 7888700\r\n    },\r\n    {\r\n        \"date\": \"2021-08-27T00:00:00.000Z\",\r\n        \"open\": 365.100006,\r\n        \"high\": 373.73999,\r\n        \"low\": 364.079987,\r\n        \"close\": 372.630005,\r\n        \"volume\": 11214200\r\n    },\r\n    {\r\n        \"date\": \"2021-08-30T00:00:00.000Z\",\r\n        \"open\": 372.559998,\r\n        \"high\": 381.48999,\r\n        \"low\": 370.519989,\r\n        \"close\": 380.660004,\r\n        \"volume\": 13547300\r\n    },\r\n    {\r\n        \"date\": \"2021-08-31T00:00:00.000Z\",\r\n        \"open\": 379.950012,\r\n        \"high\": 382.76001,\r\n        \"low\": 378.799988,\r\n        \"close\": 379.380005,\r\n        \"volume\": 12345400\r\n    },\r\n    {\r\n        \"date\": \"2021-09-01T00:00:00.000Z\",\r\n        \"open\": 379.589996,\r\n        \"high\": 384.329987,\r\n        \"low\": 378.809998,\r\n        \"close\": 382.049988,\r\n        \"volume\": 11567200\r\n    },\r\n    {\r\n        \"date\": \"2021-09-02T00:00:00.000Z\",\r\n        \"open\": 381.5,\r\n        \"high\": 381.75,\r\n        \"low\": 374.059998,\r\n        \"close\": 375.279999,\r\n        \"volume\": 14832900\r\n    },\r\n    {\r\n        \"date\": \"2021-09-03T00:00:00.000Z\",\r\n        \"open\": 374.75,\r\n        \"high\": 377.160004,\r\n        \"low\": 373.109985,\r\n        \"close\": 376.26001,\r\n        \"volume\": 7509600\r\n    },\r\n    {\r\n        \"date\": \"2021-09-07T00:00:00.000Z\",\r\n        \"open\": 375.880005,\r\n        \"high\": 382.959991,\r\n        \"low\": 373.149994,\r\n        \"close\": 382.179993,\r\n        \"volume\": 10793800\r\n    },\r\n    {\r\n        \"date\": \"2021-09-08T00:00:00.000Z\",\r\n        \"open\": 380.160004,\r\n        \"high\": 380.869995,\r\n        \"low\": 374.790009,\r\n        \"close\": 377.570007,\r\n        \"volume\": 11067200\r\n    },\r\n    {\r\n        \"date\": \"2021-09-09T00:00:00.000Z\",\r\n        \"open\": 377.640015,\r\n        \"high\": 379.829987,\r\n        \"low\": 376.570007,\r\n        \"close\": 378,\r\n        \"volume\": 9098900\r\n    },\r\n    {\r\n        \"date\": \"2021-09-10T00:00:00.000Z\",\r\n        \"open\": 381.359985,\r\n        \"high\": 383.790009,\r\n        \"low\": 378.26001,\r\n        \"close\": 378.690002,\r\n        \"volume\": 11537600\r\n    },\r\n    {\r\n        \"date\": \"2021-09-13T00:00:00.000Z\",\r\n        \"open\": 381.679993,\r\n        \"high\": 381.75,\r\n        \"low\": 374.350006,\r\n        \"close\": 376.51001,\r\n        \"volume\": 13026300\r\n    },\r\n    {\r\n        \"date\": \"2021-09-14T00:00:00.000Z\",\r\n        \"open\": 377.399994,\r\n        \"high\": 378.589996,\r\n        \"low\": 375.109985,\r\n        \"close\": 376.529999,\r\n        \"volume\": 8711600\r\n    },\r\n    {\r\n        \"date\": \"2021-09-15T00:00:00.000Z\",\r\n        \"open\": 377,\r\n        \"high\": 377.559998,\r\n        \"low\": 367.670013,\r\n        \"close\": 373.920013,\r\n        \"volume\": 17940300\r\n    },\r\n    {\r\n        \"date\": \"2021-09-16T00:00:00.000Z\",\r\n        \"open\": 372.790009,\r\n        \"high\": 373.559998,\r\n        \"low\": 369.709991,\r\n        \"close\": 373.059998,\r\n        \"volume\": 11934200\r\n    },\r\n    {\r\n        \"date\": \"2021-09-17T00:00:00.000Z\",\r\n        \"open\": 371.410004,\r\n        \"high\": 371.410004,\r\n        \"low\": 361.589996,\r\n        \"close\": 364.720001,\r\n        \"volume\": 26299000\r\n    },\r\n    {\r\n        \"date\": \"2021-09-20T00:00:00.000Z\",\r\n        \"open\": 359.299988,\r\n        \"high\": 361.029999,\r\n        \"low\": 349.799988,\r\n        \"close\": 355.700012,\r\n        \"volume\": 19822800\r\n    },\r\n    {\r\n        \"date\": \"2021-09-21T00:00:00.000Z\",\r\n        \"open\": 358.5,\r\n        \"high\": 360.040009,\r\n        \"low\": 355.190002,\r\n        \"close\": 357.480011,\r\n        \"volume\": 11751900\r\n    },\r\n    {\r\n        \"date\": \"2021-09-22T00:00:00.000Z\",\r\n        \"open\": 347.230011,\r\n        \"high\": 349.839996,\r\n        \"low\": 340.690002,\r\n        \"close\": 343.209991,\r\n        \"volume\": 43692900\r\n    },\r\n    {\r\n        \"date\": \"2021-09-23T00:00:00.000Z\",\r\n        \"open\": 345.359985,\r\n        \"high\": 349.670013,\r\n        \"low\": 343,\r\n        \"close\": 345.959991,\r\n        \"volume\": 21806300\r\n    },\r\n    {\r\n        \"date\": \"2021-09-24T00:00:00.000Z\",\r\n        \"open\": 343.23999,\r\n        \"high\": 354.350006,\r\n        \"low\": 342.369995,\r\n        \"close\": 352.959991,\r\n        \"volume\": 18801900\r\n    },\r\n    {\r\n        \"date\": \"2021-09-27T00:00:00.000Z\",\r\n        \"open\": 349.809998,\r\n        \"high\": 355.149994,\r\n        \"low\": 347.079987,\r\n        \"close\": 353.579987,\r\n        \"volume\": 15205800\r\n    },\r\n    {\r\n        \"date\": \"2021-09-28T00:00:00.000Z\",\r\n        \"open\": 347.970001,\r\n        \"high\": 349.600006,\r\n        \"low\": 338.920013,\r\n        \"close\": 340.649994,\r\n        \"volume\": 21710300\r\n    },\r\n    {\r\n        \"date\": \"2021-09-29T00:00:00.000Z\",\r\n        \"open\": 343.149994,\r\n        \"high\": 345.230011,\r\n        \"low\": 338.880005,\r\n        \"close\": 339.609985,\r\n        \"volume\": 14452200\r\n    },\r\n    {\r\n        \"date\": \"2021-09-30T00:00:00.000Z\",\r\n        \"open\": 340.450012,\r\n        \"high\": 342.799988,\r\n        \"low\": 338.149994,\r\n        \"close\": 339.390015,\r\n        \"volume\": 16547100\r\n    },\r\n    {\r\n        \"date\": \"2021-10-01T00:00:00.000Z\",\r\n        \"open\": 341.609985,\r\n        \"high\": 345.019989,\r\n        \"low\": 338.640015,\r\n        \"close\": 343.01001,\r\n        \"volume\": 14905300\r\n    },\r\n    {\r\n        \"date\": \"2021-10-04T00:00:00.000Z\",\r\n        \"open\": 335.529999,\r\n        \"high\": 335.940002,\r\n        \"low\": 322.700012,\r\n        \"close\": 326.230011,\r\n        \"volume\": 42885000\r\n    },\r\n    {\r\n        \"date\": \"2021-10-05T00:00:00.000Z\",\r\n        \"open\": 328.579987,\r\n        \"high\": 335.179993,\r\n        \"low\": 326.160004,\r\n        \"close\": 332.959991,\r\n        \"volume\": 35377900\r\n    },\r\n    {\r\n        \"date\": \"2021-10-06T00:00:00.000Z\",\r\n        \"open\": 329.73999,\r\n        \"high\": 334.380005,\r\n        \"low\": 325.799988,\r\n        \"close\": 333.640015,\r\n        \"volume\": 26443000\r\n    },\r\n    {\r\n        \"date\": \"2021-10-07T00:00:00.000Z\",\r\n        \"open\": 337,\r\n        \"high\": 338.839996,\r\n        \"low\": 328.980011,\r\n        \"close\": 329.220001,\r\n        \"volume\": 28307500\r\n    },\r\n    {\r\n        \"date\": \"2021-10-08T00:00:00.000Z\",\r\n        \"open\": 331.51001,\r\n        \"high\": 333.399994,\r\n        \"low\": 328.709991,\r\n        \"close\": 330.049988,\r\n        \"volume\": 15934300\r\n    },\r\n    {\r\n        \"date\": \"2021-10-11T00:00:00.000Z\",\r\n        \"open\": 327.630005,\r\n        \"high\": 330.459991,\r\n        \"low\": 325.309998,\r\n        \"close\": 325.450012,\r\n        \"volume\": 14708200\r\n    },\r\n    {\r\n        \"date\": \"2021-10-12T00:00:00.000Z\",\r\n        \"open\": 323.029999,\r\n        \"high\": 324.380005,\r\n        \"low\": 317.369995,\r\n        \"close\": 323.769989,\r\n        \"volume\": 31658700\r\n    },\r\n    {\r\n        \"date\": \"2021-10-13T00:00:00.000Z\",\r\n        \"open\": 326.970001,\r\n        \"high\": 327,\r\n        \"low\": 322.660004,\r\n        \"close\": 324.540009,\r\n        \"volume\": 14761500\r\n    },\r\n    {\r\n        \"date\": \"2021-10-14T00:00:00.000Z\",\r\n        \"open\": 328.359985,\r\n        \"high\": 330.519989,\r\n        \"low\": 327.100006,\r\n        \"close\": 328.529999,\r\n        \"volume\": 14302200\r\n    },\r\n    {\r\n        \"date\": \"2021-10-15T00:00:00.000Z\",\r\n        \"open\": 328.679993,\r\n        \"high\": 329.070007,\r\n        \"low\": 322.51001,\r\n        \"close\": 324.76001,\r\n        \"volume\": 21575100\r\n    },\r\n    {\r\n        \"date\": \"2021-10-18T00:00:00.000Z\",\r\n        \"open\": 328.950012,\r\n        \"high\": 335.890015,\r\n        \"low\": 327.5,\r\n        \"close\": 335.339996,\r\n        \"volume\": 21585000\r\n    },\r\n    {\r\n        \"date\": \"2021-10-19T00:00:00.000Z\",\r\n        \"open\": 339.649994,\r\n        \"high\": 342.459991,\r\n        \"low\": 337.279999,\r\n        \"close\": 339.98999,\r\n        \"volume\": 18786300\r\n    },\r\n    {\r\n        \"date\": \"2021-10-20T00:00:00.000Z\",\r\n        \"open\": 343.450012,\r\n        \"high\": 343.980011,\r\n        \"low\": 339.450012,\r\n        \"close\": 340.779999,\r\n        \"volume\": 13639500\r\n    },\r\n    {\r\n        \"date\": \"2021-10-21T00:00:00.000Z\",\r\n        \"open\": 340.279999,\r\n        \"high\": 342.309998,\r\n        \"low\": 337.799988,\r\n        \"close\": 341.880005,\r\n        \"volume\": 16354400\r\n    },\r\n    {\r\n        \"date\": \"2021-10-22T00:00:00.000Z\",\r\n        \"open\": 326.350006,\r\n        \"high\": 329.630005,\r\n        \"low\": 321.109985,\r\n        \"close\": 324.609985,\r\n        \"volume\": 35224500\r\n    },\r\n    {\r\n        \"date\": \"2021-10-25T00:00:00.000Z\",\r\n        \"open\": 320.299988,\r\n        \"high\": 329.559998,\r\n        \"low\": 319.720001,\r\n        \"close\": 328.690002,\r\n        \"volume\": 38409000\r\n    },\r\n    {\r\n        \"date\": \"2021-10-26T00:00:00.000Z\",\r\n        \"open\": 328.26001,\r\n        \"high\": 330.209991,\r\n        \"low\": 309.600006,\r\n        \"close\": 315.809998,\r\n        \"volume\": 65654000\r\n    },\r\n    {\r\n        \"date\": \"2021-10-27T00:00:00.000Z\",\r\n        \"open\": 314.190002,\r\n        \"high\": 319.25,\r\n        \"low\": 312.059998,\r\n        \"close\": 312.220001,\r\n        \"volume\": 29971800\r\n    },\r\n    {\r\n        \"date\": \"2021-10-28T00:00:00.000Z\",\r\n        \"open\": 312.98999,\r\n        \"high\": 325.519989,\r\n        \"low\": 308.109985,\r\n        \"close\": 316.920013,\r\n        \"volume\": 50806800\r\n    },\r\n    {\r\n        \"date\": \"2021-10-29T00:00:00.000Z\",\r\n        \"open\": 320.190002,\r\n        \"high\": 326,\r\n        \"low\": 319.600006,\r\n        \"close\": 323.570007,\r\n        \"volume\": 37059400\r\n    },\r\n    {\r\n        \"date\": \"2021-11-01T00:00:00.000Z\",\r\n        \"open\": 326.040009,\r\n        \"high\": 333.450012,\r\n        \"low\": 326,\r\n        \"close\": 329.980011,\r\n        \"volume\": 31518900\r\n    },\r\n    {\r\n        \"date\": \"2021-11-02T00:00:00.000Z\",\r\n        \"open\": 331.380005,\r\n        \"high\": 334.790009,\r\n        \"low\": 323.799988,\r\n        \"close\": 328.079987,\r\n        \"volume\": 28353000\r\n    },\r\n    {\r\n        \"date\": \"2021-11-03T00:00:00.000Z\",\r\n        \"open\": 327.48999,\r\n        \"high\": 332.149994,\r\n        \"low\": 323.200012,\r\n        \"close\": 331.619995,\r\n        \"volume\": 20786500\r\n    },\r\n    {\r\n        \"date\": \"2021-11-04T00:00:00.000Z\",\r\n        \"open\": 334.01001,\r\n        \"high\": 337.269989,\r\n        \"low\": 332.649994,\r\n        \"close\": 335.850006,\r\n        \"volume\": 22495300\r\n    },\r\n    {\r\n        \"date\": \"2021-11-05T00:00:00.000Z\",\r\n        \"open\": 340.309998,\r\n        \"high\": 346.790009,\r\n        \"low\": 339.640015,\r\n        \"close\": 341.130005,\r\n        \"volume\": 26852100\r\n    },\r\n    {\r\n        \"date\": \"2021-11-08T00:00:00.000Z\",\r\n        \"open\": 344.420013,\r\n        \"high\": 344.790009,\r\n        \"low\": 338.339996,\r\n        \"close\": 338.619995,\r\n        \"volume\": 18342500\r\n    },\r\n    {\r\n        \"date\": \"2021-11-09T00:00:00.000Z\",\r\n        \"open\": 340,\r\n        \"high\": 341.309998,\r\n        \"low\": 334.470001,\r\n        \"close\": 335.369995,\r\n        \"volume\": 17556700\r\n    },\r\n    {\r\n        \"date\": \"2021-11-10T00:00:00.000Z\",\r\n        \"open\": 332.48999,\r\n        \"high\": 333.190002,\r\n        \"low\": 325.51001,\r\n        \"close\": 327.640015,\r\n        \"volume\": 21872600\r\n    },\r\n    {\r\n        \"date\": \"2021-11-11T00:00:00.000Z\",\r\n        \"open\": 329.820007,\r\n        \"high\": 332.459991,\r\n        \"low\": 327,\r\n        \"close\": 327.73999,\r\n        \"volume\": 12376600\r\n    },\r\n    {\r\n        \"date\": \"2021-11-12T00:00:00.000Z\",\r\n        \"open\": 330.179993,\r\n        \"high\": 341.859985,\r\n        \"low\": 329.779999,\r\n        \"close\": 340.890015,\r\n        \"volume\": 25387200\r\n    },\r\n    {\r\n        \"date\": \"2021-11-15T00:00:00.000Z\",\r\n        \"open\": 344.339996,\r\n        \"high\": 353.649994,\r\n        \"low\": 343.200012,\r\n        \"close\": 347.559998,\r\n        \"volume\": 25076600\r\n    },\r\n    {\r\n        \"date\": \"2021-11-16T00:00:00.000Z\",\r\n        \"open\": 343.829987,\r\n        \"high\": 346.649994,\r\n        \"low\": 340.869995,\r\n        \"close\": 342.959991,\r\n        \"volume\": 18181100\r\n    },\r\n    {\r\n        \"date\": \"2021-11-17T00:00:00.000Z\",\r\n        \"open\": 344.23999,\r\n        \"high\": 347.299988,\r\n        \"low\": 340.100006,\r\n        \"close\": 340.769989,\r\n        \"volume\": 13602800\r\n    },\r\n    {\r\n        \"date\": \"2021-11-18T00:00:00.000Z\",\r\n        \"open\": 339.720001,\r\n        \"high\": 342.459991,\r\n        \"low\": 335.299988,\r\n        \"close\": 338.690002,\r\n        \"volume\": 17487200\r\n    },\r\n    {\r\n        \"date\": \"2021-11-19T00:00:00.000Z\",\r\n        \"open\": 342.200012,\r\n        \"high\": 352.100006,\r\n        \"low\": 339.899994,\r\n        \"close\": 345.299988,\r\n        \"volume\": 26441000\r\n    },\r\n    {\r\n        \"date\": \"2021-11-22T00:00:00.000Z\",\r\n        \"open\": 349.049988,\r\n        \"high\": 353.829987,\r\n        \"low\": 340.51001,\r\n        \"close\": 341.01001,\r\n        \"volume\": 27116800\r\n    },\r\n    {\r\n        \"date\": \"2021-11-23T00:00:00.000Z\",\r\n        \"open\": 338.929993,\r\n        \"high\": 341.399994,\r\n        \"low\": 333.5,\r\n        \"close\": 337.25,\r\n        \"volume\": 17211500\r\n    }\r\n]","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}