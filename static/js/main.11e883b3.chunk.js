(this["webpackJsonpreact-techchart"]=this["webpackJsonpreact-techchart"]||[]).push([[0],{178:function(t,e,a){},179:function(t,e,a){},284:function(t,e){},286:function(t,e){},295:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(24),i=a.n(o),s=(a(178),a(26)),l=(a(179),a(14)),c=function(t){return"indicator"===t.type},d=function(t){return"chart"===t.type},u=a(157),h=a.n(u),p={type:"array",minItems:1,items:{type:"object",properties:{data:{type:"array",nullable:!1,minItems:2,items:{type:"object",nullable:!1,properties:{date:{type:"object",nullable:!1},open:{type:"number",nullable:!1},high:{type:"number",nullable:!1},low:{type:"number",nullable:!1},close:{type:"number",nullable:!1}},required:["date","close"]}},name:{type:"string",nullable:!1}},required:["data","name"]}},b=a(335),x=a(104),f=a(8),m=a(9),j=a.n(m),y=function(t){return"open"in t&&"high"in t&&"low"in t&&"close"in t},g=function(t){return"close"in t},v=function(t){return"volume"in t},O=function(t){return"prices"in t},C=a(1),k=function(t){var e=t.dataset,a=t.name,r=t.decimals,n=t.onClick,o=t.top;return e?Object(C.jsx)("div",{style:{position:"absolute",top:10+o,left:10},children:Object(C.jsx)(b.a,{style:{textTransform:"none"},onClick:function(){null===n||void 0===n||n(a)},startIcon:Object(C.jsx)(j.a,{path:O(e)?f.h:f.i,size:1,color:"#333"}),children:O(e)?Object(C.jsx)(x.a,{children:"".concat(a,":").concat(e.prices.map((function(t){return null===t||void 0===t?void 0:t.toFixed(r)})).join(", ")||"")}):Object(C.jsx)(x.a,{variant:"body1",children:y(e)?"".concat(a,"\n                O:").concat(e.open.toFixed(r),"\n                H:").concat(e.high.toFixed(r),"\n                L:").concat(e.low.toFixed(r),"\n                C:").concat(e.close.toFixed(r)):"".concat(a,"\n                C:").concat(e.close.toFixed(r))})})}):null},S=function(t){var e,a,r,o,i,s,d,u,h=t.fullState,p=h.containerSize.width-1,b=h.containerSize.height-1,x=h.yaxis.widthYAxis,f=h.xaxis,m=f.heightXAxis,j=f.heightTickMarkLines,y=null,g=null;h.pointer.move&&(y=h.pointer.move.xy[1]);for(var v=0;v<h.subCharts.length;v++)for(var O=h.subCharts[v],k=0;k<O.yaxis[0].graphs.length;k++){var S,T,w,I,P;O.yaxis[0].graphs[k];(null===(S=h.pointer)||void 0===S||null===(T=S.chartPointer)||void 0===T||null===(w=T.move)||void 0===w||null===(I=w.snapDatasets)||void 0===I?void 0:I[0])&&null!==(null===(P=h.pointer.chartPointer.move)||void 0===P?void 0:P.snapDatasets[0].pixYSnap)&&(y=h.pointer.chartPointer.move.snapDatasets[0].pixYSnap,g=h.pointer.chartPointer.move.snapDatasets[0].ySnap)}var M=-1;if(h.pointer.move){var z=h.pointer.move.xy[1];M=h.subCharts.findIndex((function(t){return t.bottom>=z&&t.top<=z}))}if(g||-1===M||(g=h.methods.pixToY(null===(e=h.pointer.move)||void 0===e?void 0:e.xy[1],M,0).toFixed(h.subCharts[M].yaxis[0].decimals)),g&&-1!==M){var D=h.subCharts[M].yaxis[0].graphs[0];c(D)&&D.indicator.default.decimals&&(g=(Math.round(parseFloat(g)*Math.pow(10,D.indicator.default.decimals))/Math.pow(10,D.indicator.default.decimals)).toString())}return h.pointer.move&&y?Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.c,{x:0,y:0,points:[h.methods.xToPix(Math.round(h.methods.pixToX(h.pointer.move.xy[0]))),0,h.methods.xToPix(Math.round(h.methods.pixToX(h.pointer.move.xy[0]))),b-m+j],stroke:"black",strokeWidth:1}),h.pointer.move.xy[1]<=h.subCharts[h.subCharts.length-1].bottom?Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.c,{x:0,y:0,points:[0,y,p-x,y],stroke:"black",strokeWidth:1}),Object(C.jsx)(l.e,{sceneFunc:function(t,e){var a=t._context;if(h.pointer.move){var r=y;a.moveTo(p-x,r),a.lineTo(p-x+10,r+10),a.lineTo(p,r+10),a.lineTo(p,r+1),a.lineTo(p,r-10),a.lineTo(p-x+10,r-10),a.lineTo(p-x,r),t.fillStrokeShape(e)}},stroke:"black",fill:"rgba(199, 0, 57, 1)",strokeWidth:1}),Object(C.jsx)(l.e,{sceneFunc:function(t,e){var a=t._context;if(h.pointer.move){var r=y;a.font=h.yaxis.style.fontSize+"px "+h.yaxis.style.fontName,a.fillStyle=h.yaxis.style.fontColor,a.textAlign="left",a.textBaseline="middle",a.fillText(g,p-x+h.yaxis.widthTickmarkLines+5,r),t.fillStrokeShape(e)}}})]}):null,(null===(a=h.pointer)||void 0===a||null===(r=a.chartPointer)||void 0===r||null===(o=r.move)||void 0===o?void 0:o.xUnlimited)<=h.xaxis.xEnd&&(null===(i=h.pointer)||void 0===i||null===(s=i.chartPointer)||void 0===s||null===(d=s.move)||void 0===d?void 0:d.xUnlimited)>=h.xaxis.xStart?Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.d,{x:h.methods.xToPix(Math.round(h.methods.pixToX(null===(u=h.pointer.move)||void 0===u?void 0:u.xy[0])))-25,y:b-m+j+.5,width:50,height:25,fill:"white",stroke:"black",strokeWidth:1}),Object(C.jsx)(l.e,{sceneFunc:function(t,e){var a,r,n,o,i=t._context;h.pointer.move&&(i.font=h.xaxis.style.fontSize+"px "+h.xaxis.style.fontName,i.fillStyle=h.xaxis.style.fontColor,i.textAlign="center",i.textBaseline="top",i.fillText((null===(a=h.pointer)||void 0===a||null===(r=a.chartPointer)||void 0===r||null===(n=r.move)||void 0===n||null===(o=n.snapDatasets)||void 0===o?void 0:o[0])?h.pointer.chartPointer.move.snapDatasets[0].dateString:Math.round(h.methods.pixToX(h.pointer.move.xy[0])).toString(),h.methods.xToPix(Math.round(h.methods.pixToX(h.pointer.move.xy[0]))),b-m+j+5+.5),t.fillStrokeShape(e))}})]}):null]}):null},T=function(t){var e=t.fullState,a=(e.subCharts[0].yaxis[0],e.subCharts[0].yaxis[0].graphs[0]);if(!d(a)||!a||!a.curData)return null;var r=[],o=0;return 0 in e.subCharts&&0 in e.subCharts[0].yaxis&&0 in e.subCharts[0].yaxis[0].graphs&&((r=a.curData).forEach((function(t,e){return t.idx=e})),o=e.xaxis.widthPerTick<=2?0:Math.floor(.35*(e.xaxis.widthPerTick-1))),Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.e,{sceneFunc:function(t,r){t.beginPath(),a.curData.forEach((function(a,r){var n=e.methods.xToPix(r,0)+e.xaxis.pixXStart,o=Math.round(e.methods.yToPix(a.high,0,0)),i=Math.round(e.methods.yToPix(a.low,0,0)),s=Math.round(e.methods.yToPix(a.close,0,0));t.moveTo(n+.5,i+.5),t.lineTo(n+.5,o+.5),a.close===a.open&&(t.moveTo(n-2,s),t.lineTo(n+2,s))})),t.closePath(),t.fillStrokeShape(r)},stroke:a.style.candleStrokeColor,strokeWidth:1}),Object(C.jsx)(l.e,{sceneFunc:function(t,a){t.beginPath(),r.filter((function(t){return t.close>=t.open})).forEach((function(r,n){var i=e.methods.xToPix(r.idx,0)+e.xaxis.pixXStart,s=Math.round(e.methods.yToPix(r.open,0,0)),l=Math.round(e.methods.yToPix(r.close,0,0));if(r.close!==r.open)if(0!==o){var c=i+o>e.xaxis.pixXEnd?e.xaxis.pixXEnd-i+o:2*o;t.rect(i+.5-o,s+.5,c,l-s)}else 0===o&&(t.moveTo(i+.5,l),t.lineTo(i+.5,s));t.closePath(),t.fillStrokeShape(a)}))},stroke:a.style.candleStrokeColor,fill:a.style.candleUpColor,strokeWidth:1}),Object(C.jsx)(l.e,{sceneFunc:function(t,a){t.beginPath(),r.filter((function(t){return t.close<t.open})).forEach((function(r,n){var i=e.methods.xToPix(r.idx,0)+e.xaxis.pixXStart,s=Math.round(e.methods.yToPix(r.open,0,0)),l=Math.round(e.methods.yToPix(r.close,0,0));if(r.close!==r.open)if(0!==o){var c=i+o>e.xaxis.pixXEnd?e.xaxis.pixXEnd-i+o:2*o;t.rect(i+.5-o,s+.5,c,l-s)}else 0===o&&(t.moveTo(i+.5,l),t.lineTo(i+.5,s));t.closePath(),t.fillStrokeShape(a)}))},stroke:a.style.candleStrokeColor,fill:a.style.candleDownColor,strokeWidth:1})]})},w=a(6),I=function(t){return void 0===t||null===t||!("number"!==typeof t||!isNaN(t))},P=function(t){return Math.floor(t)===t?0:t.toString().split(".")[1].length||0},M=function(t){for(var e=!1,a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return r.forEach((function(a){t.includes(a)&&(e=!0)})),e},z={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},D=function(t){if(!t)return null;t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,a,r){return e+e+a+a+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},A=function(t){var e=t.fullState,a=t.subchartIdx,r=t.yaxisIdx,n=t.graphIdx,o=t.indSeriesIdx,i=I(o)?0:o,s=(e.subCharts[a].yaxis[r],e.subCharts[a].yaxis[r].graphs[n]),d=[];Array.isArray(s.curData)&&s.curData.length>1&&d.push.apply(d,Object(w.a)(s.curData.map((function(t,r){var n;return null===(n=O(t)?t.prices[i]:t.close)?[null,null]:[e.xaxis.widthPerTick*r,e.methods.yToPix(n,a,0,0)]})).flat().filter((function(t){return null!==t}))));var u=d.filter((function(t){return null!==t}));return Object(C.jsx)(l.c,{x:e.xaxis.pixXStart,y:e.methods.yToPix(0,a,0)-e.subCharts[a].bottom,points:Object(w.a)(u),stroke:c(s)?s.style.strokeColor[i]:s.style.strokeColor[0],strokeWidth:1},"sub".concat(a,"_graph").concat(n))},X=function(t){var e=t.fullState,a=t.subchartIdx,r=t.yaxisIdx,n=t.graphIdx,o=e.subCharts[a].yaxis[r].graphs[n];return Object(C.jsx)(l.e,{sceneFunc:function(t,n){t.beginPath(),e.subCharts[0].yaxis[0].graphs[0].curData.forEach((function(n,o){if(n.volume){var i=e.methods.xToPix(o,0)+e.xaxis.pixXStart,s=Math.round(e.methods.yToPix(n.volume,a,r,0)),l=Math.round(e.methods.yToPix(0,a,r,0));t.moveTo(i+.5,l+.5),t.lineTo(i+.5,s+.5)}})),t.closePath(),t.fillStrokeShape(n)},stroke:(c(o),o.style.strokeColor[0]),strokeWidth:1})},R=a(63),E=a(3),W=a(163),F=a(81),U=a(360),Y=a(356),L=a(338),N=a(339),B=a(340),G=a(341),H=a(342),V=function(t,e){switch(e){case"minutes":return Object(Y.a)(t,"mm");case"hours":return Object(Y.a)(t,"HH");case"days":case"weeks":return Object(Y.a)(t,"dd");case"months":return Object(Y.a)(t,"MMM");case"years":return Object(Y.a)(t,"yyyy");default:return"|"}},$=function(t,e){switch(e){case"minutes":return Object(L.a)(t);case"hours":return Object(N.a)(t);case"days":return Object(B.a)(t);case"weeks":return Object(U.a)(t);case"months":return Object(G.a)(t);case"years":return Object(H.a)(t);default:return 0}},q=function(t){return{minute:$(t,"minutes"),hour:$(t,"hours"),day:$(t,"days"),week:$(t,"weeks"),month:$(t,"months"),year:$(t,"years")}},_={minutes:{period:6e4,scaleMultiplys:[2,5,15,30],range:[6e4,6e4]},hours:{period:36e5,scaleMultiplys:[2,4,12],range:[36e5,36e5]},days:{period:864e5,scaleMultiplys:[2],range:[864e5,864e5]},weeks:{period:6048e5,scaleMultiplys:[2],range:[2592e5,9504e5]},months:{period:26784e5,scaleMultiplys:[2,3,6],range:[24192e5,26784e5]},years:{period:31536e6,scaleMultiplys:[],range:[31536e6,316224e5]}},Q=function(t,e,a,r,n,o){if(!r.chartPeriod)return null;var i=r.chartPeriod,s=(i.chartPeriod,i.periodsConstIdx),l=i.chartPeriodName,c=a-e+1,d=Object.assign({},o),u=d.accAmt[l];Object.keys(d.accAmt).forEach((function(t,e){d.accAmt[t]=d.accAmt[t]/u*c}));for(var h=10*(1-n),p=null,b=l,x=1,f=s;f<Object.keys(_).length;f++){var m=Object.keys(_)[f];if(m in d.accAmt)for(var j=0,y=[1].concat(Object(w.a)(_[m].scaleMultiplys));j<y.length;j++){var g=y[j];null!==p?Math.abs(d.accAmt[m]/g-h)<Math.abs(p/x-h)&&(p=d.accAmt[m],x=g,b=m):(p=d.accAmt[m],x=g,b=m)}}return{chartPeriodName:b,multiply:x,chartPeriod:_[b].period,periodsConstIdx:0}},J=function(t,e){if(e.length>1)return!1;var a=q(t),r=a.day,n=a.week,o=a.month,i=(a.year,e[0].months[0]);return i.weeks[0].days[0].day===r&&i.weeks[0].week===n&&i.month===o},K=function(t,e,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e.length>1)return!1;var n=q(t),o=n.day,i=n.week;n.month,n.year;return(a+1)%r===0&&(e[0].months[a].weeks[0].days[0].day===o&&e[0].months[a].weeks[0].week===i)},Z=function(t,e,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(e.length>1)return!1;var o=q(t),i=o.day,s=o.week;o.month,o.year;if(e[0].months[a].weeks[r].days[0].day===i&&e[0].months[a].weeks[r].week===s){if(2===n){var l=0;e[0].months[a].weeks.forEach((function(t){return l+=t.days.length}));for(var c=0,d=0,u=0,h=Math.round(l/2),p=0;p<e[0].months[a].weeks.length;p++){var b=e[0].months[a].weeks[p];Math.abs(c+b.days.length-h)<Math.abs(d-h)&&(d=c+b.days.length,u=p+1),c+=b.days.length}return r===u}if(1===n)return!(1===r&&e[0].months[a].weeks[0].days.length<3)&&!(r===e[0].months[a].weeks.length-1&&e[0].months[a].weeks[r].days.length<3)}return!1},tt=function(t,e,a,r){if(!a||!r||!e)return null;var n=r.chartPeriodName,o=r.multiply,i=$(t,"years"),s=$(t,"months"),l=$(t,"weeks"),c=$(t,"days"),d=e.years.filter((function(t){return t.year===i})),u=d[0].months.filter((function(t){return t.month===s})),h=d[0].months.indexOf(u[0]),p=u[0].weeks.filter((function(t){return t.week===l})),b=d[0].months[h].weeks.indexOf(p[0]),x=p[0].days.filter((function(t){return t.day===c})),f=d[0].months[h].weeks[b].days.indexOf(x[0]);return a.chartPeriodName===n&&1===o?n:"days"===n?J(t,d)?"years":K(t,d,h,1)?"months":Z(t,d,h,b,o)?"weeks":function(t,e,a,r,n){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=$(t,"days");if(e[0].months[a].weeks[r].days[n].day===i&&1===o)return!0;if(e[0].months[a].weeks[r].days[n].day===i&&2===o){if(e[0].months[a].weeks[r].days.length<=3)return!1;if(4===e[0].months[a].weeks[r].days.length&&(0===n||2===n)||5===e[0].months[a].weeks[r].days.length&&(0===n||2===n)||6===e[0].months[a].weeks[r].days.length&&(0===n||2===n||4===n)||7===e[0].months[a].weeks[r].days.length&&(0===n||2===n||5===n))return!0}return!1}(t,d,h,b,f,o)?"days":null:"weeks"===n?J(t,d)?"years":K(t,d,h,1)?"months":Z(t,d,h,b,o)?n:null:"months"===n?u[0].weeks[0].days[0].day===c?n:null:"years"===n&&d[0].months[0].weeks[0].days[0].day===c?n:null},et=function(t){for(var e=t.length,a=function(t,e){return t.date-e.date},r=[{dT:a(t[1],t[0]),amt:1}],n=0,o=$(t[0].date,"weeks"),i=$(t[0].date,"years"),s=0,l=[],c=0;c<e;c++){if(c>=2)for(var d=a(t[c],t[c-1]),u=0;u<r.length;u++){if(r[u].dT===d){r[u].amt++;break}u===r.length-1&&r.push({dT:d,amt:1})}var h=Object(U.a)(t[c].date),p=$(t[c].date,"years");if(h>o||p>i||c===e-1){var b=l.filter((function(t){return t.amtDays===s}));if(b.length>0){b.length>1&&console.log("warning - internal error determing GraphMetaData");var x=l.indexOf(b[0]);l[x].occ++}else 0===b.length&&l.push({amtDays:s,occ:1});o=h,s=1,i=p}else s++;t[c].close||console.log("hier ist was falsch",c);var f=[P(t[c].close)],m=t[c];y(m)&&(f.push(P(m.open)),f.push(P(m.high)),f.push(P(m.low)));var j=Math.max.apply(Math,f);j>n&&(n=j)}var g=r.map((function(t){return t.dT})),v=r.map((function(t){return t.amt})),O=v.reduce((function(t,e,a,r){return e>r[t]?a:t}),0),C=l.map((function(t){return t.occ})),k=0;l.forEach((function(t){return k+=t.occ}));var S=C.reduce((function(t,e,a,r){return e>r[t]?a:t}),0),T=l[S].amtDays,w=l[S].occ/k,I=g[O]<0;console.log(g[O]);var M=Math.abs(g[O]);return{nData:e,dataPeriod:M,chartPeriod:function(t){for(var e=Object.keys(_),a=0;a<e.length;a++){var r=e[a],n=_[r].period,o=_[r].range;if("number"===typeof n&&(t===n||t>=o[0]&&t<=o[1]))return{chartPeriodName:r,periodsConstIdx:a,chartPeriod:n,multiply:1}}return null}(M),periodGuessConfidence:v[O]/e,tradingDaysPerWeek:T,tradingDaysPerWeekGuessConfidence:w,type:"candlechart",decimals:n,isDescending:I}},at=function(t,e,a,r,n,o){return{yaxis:[rt(a,r,n,o)],top:t,bottom:e}},rt=function(t,e,a,r){var n=r?ot(t,e,r,a):nt(t,e,a);return{graphs:[Object(E.a)({},n)],decimals:n.decimals,tools:[],translatedY:0,optIntervalY:0,heightPerPt:0,drawTicks:[]}},nt=function(t,e,a){var r=et(t),n=r.decimals,o=r.isDescending,i=Object(R.a)(r,["decimals","isDescending"]);o&&t.reverse();var s=function(t,e,a){for(var r={years:[],accAmt:{years:0,months:0,weeks:0,days:0,hours:0,minutes:0}},n=function(t){return{day:t,hours:[]}},o=function(t,e){return{week:t,days:[n(e)]}},i=function(t,e,a){return{month:t,weeks:[o(e,a)]}},s=function(t,e,a,r){return{year:t,months:[i(e,a,r)]}},l=function(t){"years"===t&&r.accAmt.years++,["years","months"].includes(t)&&r.accAmt.months++,["years","months","weeks"].includes(t)&&r.accAmt.weeks++,["years","months","weeks","days"].includes(t)&&r.accAmt.days++},c=function(e){var a=$(t[e].date,"years"),c=$(t[e].date,"months"),d=$(t[e].date,"weeks"),u=$(t[e].date,"days"),h=function(t,e){"years"===t&&r.years.push(s(a,c,d,u)),"months"===t&&r.years[e[0]].months.push(i(c,d,u)),"weeks"===t&&r.years[e[0]].months[e[1]].weeks.push(o(d,u)),"days"===t&&r.years[e[0]].months[e[1]].weeks[e[2]].days.push(n(u))};!function t(e,p){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],x=null,f=-1;if("years"===e)0 in(x=p.years.filter((function(t){return t.year===a})))&&(f=r.years.indexOf(x[0]));else if("months"===e){if(b.length<1)return null;0 in(x=p.years[b[0]].months.filter((function(t){return t.month===c})))&&(f=r.years[b[0]].months.indexOf(x[0]))}else if("weeks"===e){if(b.length<2)return null;0 in(x=p.years[b[0]].months[b[1]].weeks.filter((function(t){return t.week===d})))&&(f=r.years[b[0]].months[b[1]].weeks.indexOf(x[0]))}else if("days"===e){if(b.length<3)return null;0 in(x=p.years[b[0]].months[b[1]].weeks[b[2]].days.filter((function(t){return t.day===u})))&&(f=r.years[b[0]].months[b[1]].weeks[b[2]].days.indexOf(x[0]))}if(!x)return null;if(0===x.length)return l(e),("years"===e?s(a,c,d,u):"months"===e?i(c,d,u):"weeks"===e?o(d,u):"days"===e?n(u):null)?(h(e,b),!0):null;var m="years"===e?"months":"months"===e?"weeks":"weeks"===e?"days":null;return m?-1===f?null:t(m,p,[].concat(Object(w.a)(b),[f])):null}("years",r)},d=e;d<=a;d++)c(d);return r}(t,0,t.length-1);return{data:t,meta:i,style:Object(E.a)({strokeColor:["#000"],candleStrokeColor:"#666",candleDownColor:"rgb(199, 0, 57)",candleUpColor:"#009688"},a),yMax:0,yMaxExact:0,yMin:0,yMinExact:0,datasets:{first:null,last:null},dateStat:s,type:"chart",name:e,decimals:n}},ot=function(t,e,a,r){var n,o=null===(n=a.indicatorFn)||void 0===n?void 0:n.call.apply(n,[a,t,e].concat(Object(w.a)(a.params.map((function(t){return t.val}))))),i=et(t),s=i.decimals,l=(Object(R.a)(i,["decimals"]),a.default.decimals?a.default.decimals:s);return{data:o,type:"indicator",name:a.name,decimals:l,style:Object(E.a)(Object(E.a)({},r),{},{strokeColor:(null===r||void 0===r?void 0:r.strokeColor)||["#00ffff"]}),yMax:0,yMaxExact:0,yMin:0,yMinExact:0,datasets:{first:null,last:null},indicator:a}},it=["#666","#0693E3","#f50057","#00D084","#FF6900","#bd10e0","#bbb"],st=function(t,e){return t[e%t.length]},lt=function(t){return"setCandleChartUpColor"===t.task},ct=function(t){return"setCandleChartDownColor"===t.task},dt=function(t){return"setCandleChartStrokeColor"===t.task},ut=function(t){return"setToolStrokeColor"===t.task},ht=function(t){return"setToolAnchorColor"===t.task},pt=function(t,e){if(function(t){return"addSubchart"===t.task}(e)){var a=e.params.chartSeries,r=e.params.chartName,n=e.params.indicator,o=e.params.reset,i=e.params.containerHeight-t.xaxis.heightXAxis,s=250,l=Math.min(150,(i-s)/(t.subCharts.length-1+1)),d=0===t.subCharts.length||o?0:i-Math.round(l),u=n?{strokeColor:[st(it,0)]}:{strokeColor:st(it,0)};if(0===t.subCharts.length||o)return console.log(a.length),Object(E.a)(Object(E.a)({},t),{},{xaxis:Object(E.a)(Object(E.a)({},t.xaxis),{},{totalTranslatedX:-(a.length+5-(t.containerSize.width-1)/t.xaxis.scaledWidthPerTick)*t.xaxis.scaledWidthPerTick}),subCharts:[at(d,i,a,r,u)]});var h=t.subCharts[0].bottom-t.subCharts[0].top-l<s?(i-s-l)/(t.subCharts.length-1):null,p=at(d,i,a,r,u,n),b=p.yaxis[0].graphs[0];return c(b)&&b.data[b.data.length-1].prices.length>1&&(b.style.strokeColor=b.data[b.data.length-1].prices.map((function(t,e){return st(it,e)}))),Object(E.a)(Object(E.a)({},t),{},{subCharts:[].concat(Object(w.a)(t.subCharts.map((function(e,a){return 0===a?(e.bottom=Math.max(e.bottom-l,s),e.top=0):a===t.subCharts.length-1?(e.top=t.subCharts[a-1].bottom,e.bottom=d):(e.top=t.subCharts[a-1].bottom,e.bottom=h?Math.round(e.top+h):e.bottom-l),e}))),[p])})}if(function(t){return"removeSubchart"===t.task}(e)){var x=e.params.subchartIdx,f=t.subCharts[x].bottom-t.subCharts[x].top,m=Math.floor(f/(t.subCharts.length-1)),j=f%(t.subCharts.length-1);return Object(E.a)(Object(E.a)({},t),{},{subCharts:[].concat(Object(w.a)(t.subCharts.slice(0,x).map((function(t,e){return Object(E.a)(Object(E.a)({},t),{},{top:0===t.top?0:t.top+j+(x-2)*m,bottom:0===e?t.bottom+m+j:t.bottom+m+j+(x-1)*m})}))),Object(w.a)(t.subCharts.slice(x+1).map((function(e,a){return Object(E.a)(Object(E.a)({},e),{},{top:e.top-(a+1)*m,bottom:a===t.subCharts.slice(x+1).length-1?e.bottom:e.bottom-(a+1)*m})}))))})}if(function(t){return"removeGraph"===t.task}(e)){var y=e.params,g=y.subchartIdx,v=y.yaxisIdx,O=y.graphIdx;if(0===O&&1===t.subCharts[g].yaxis[v].graphs.length){var C=t.subCharts[g].bottom-t.subCharts[g].top,k=Math.floor(C/(t.subCharts.length-1)),S=C%(t.subCharts.length-1);return Object(E.a)(Object(E.a)({},t),{},{subCharts:[].concat(Object(w.a)(t.subCharts.slice(0,g).map((function(t,e){return Object(E.a)(Object(E.a)({},t),{},{top:0===t.top?0:t.top+S+(g-2)*k,bottom:0===e?t.bottom+k+S:t.bottom+k+S+(g-1)*k})}))),Object(w.a)(t.subCharts.slice(g+1).map((function(e,a){return Object(E.a)(Object(E.a)({},e),{},{top:e.top-(a+1)*k,bottom:a===t.subCharts.slice(g+1).length-1?e.bottom:e.bottom-(a+1)*k})}))))})}return Object(E.a)(Object(E.a)({},t),{},{subCharts:[].concat(Object(w.a)(t.subCharts.slice(0,g)),[Object(E.a)(Object(E.a)({},t.subCharts[g]),{},{yaxis:[].concat(Object(w.a)(t.subCharts[g].yaxis.slice(0,v)),[Object(E.a)(Object(E.a)({},t.subCharts[g].yaxis[v]),{},{graphs:[].concat(Object(w.a)(t.subCharts[g].yaxis[v].graphs.slice(0,O)),Object(w.a)(t.subCharts[g].yaxis[v].graphs.slice(O+1)))})],Object(w.a)(t.subCharts[g].yaxis.slice(v+1)))})],Object(w.a)(t.subCharts.slice(g+1)))})}if(function(t){return"clearChart"===t.task}(e)){var T=e.params.mode;if("all"===T)return Object(E.a)(Object(E.a)({},t),{},{subCharts:[Object(E.a)(Object(E.a)({},t.subCharts[0]),{},{yaxis:[Object(E.a)(Object(E.a)({},t.subCharts[0].yaxis[0]),{},{graphs:[t.subCharts[0].yaxis[0].graphs[0]],tools:[]})]})]});if("indicators"===T)return Object(E.a)(Object(E.a)({},t),{},{subCharts:[Object(E.a)(Object(E.a)({},t.subCharts[0]),{},{yaxis:[Object(E.a)(Object(E.a)({},t.subCharts[0].yaxis[0]),{},{graphs:[t.subCharts[0].yaxis[0].graphs[0]]})],top:0,bottom:t.containerSize.height-1-t.xaxis.heightXAxis})]});if("tools"===T)return Object(E.a)(Object(E.a)({},t),{},{subCharts:t.subCharts.map((function(t,e){return Object(E.a)(Object(E.a)({},t),{},{yaxis:t.yaxis.map((function(t,e){return Object(E.a)(Object(E.a)({},t),{},{tools:[]})}))})}))})}else{if(function(t){return"addGraph"===t.task}(e)){var I=e.params.chartSeries,P=e.params.chartName,M=e.params.indicator?e.params.indicator:null,z=e.params.subchartIdx,D=M?{strokeColor:[st(it,t.subCharts[z].yaxis[0].graphs.length)]}:{strokeColor:st(it,t.subCharts[z].yaxis[0].graphs.length)},A=M?ot(I,P,M,D):nt(I,P,D),X=A;return c(X)&&X.data[A.data.length-1].prices.length>1&&(X.style.strokeColor=X.data[A.data.length-1].prices.map((function(t,e){return st(it,e)}))),Object(E.a)(Object(E.a)({},t),{},{subCharts:Object(w.a)(t.subCharts.map((function(t,e){return e===z?Object(E.a)(Object(E.a)({},t),{},{yaxis:[Object(E.a)(Object(E.a)({},t.yaxis[0]),{},{graphs:[].concat(Object(w.a)(t.yaxis[0].graphs),[Object(E.a)({},A)])})]}):t})))})}if(function(t){return"draw"===t.task}(e)){var R=e.params.xy;e.params.subchartIdx;return(e.params.type?["hline","vline"].includes(e.params.type)?1:["trendline"].includes(e.params.type)?2:0:0)&&e.params.type?!R&&e.params.type?Object(E.a)(Object(E.a)({},t),{},{draw:{isDrawing:!0,pixXy:[],type:e.params.type}}):t:Object(E.a)(Object(E.a)({},t),{},{draw:{isDrawing:!1,pixXy:[]}})}if(function(t){return"setBackgroundColor"===t.task}(e)){var W=e.params.color;return Object(E.a)(Object(E.a)({},t),{},{backgroundColor:W})}if(function(t){return"setGridStrokeColor"===t.task}(e)){var U=e.params.color;return Object(E.a)(Object(E.a)({},t),{},{grid:Object(E.a)(Object(E.a)({},t.grid),{},{style:Object(E.a)(Object(E.a)({},t.grid.style),{},{strokeColor:U})})})}if(function(t){return"setAxisFillColor"===t.task}(e)){var Y=e.params.color;return Object(E.a)(Object(E.a)({},t),{},{xaxis:Object(E.a)(Object(E.a)({},t.xaxis),{},{style:Object(E.a)(Object(E.a)({},t.xaxis.style),{},{fillColor:Y})}),yaxis:Object(E.a)(Object(E.a)({},t.yaxis),{},{style:Object(E.a)(Object(E.a)({},t.yaxis.style),{},{fillColor:Y})})})}if(function(t){return"setAxisStrokeColor"===t.task}(e)){var L=e.params.color;return Object(E.a)(Object(E.a)({},t),{},{xaxis:Object(E.a)(Object(E.a)({},t.xaxis),{},{style:Object(E.a)(Object(E.a)({},t.xaxis.style),{},{strokeColor:L})}),yaxis:Object(E.a)(Object(E.a)({},t.yaxis),{},{style:Object(E.a)(Object(E.a)({},t.yaxis.style),{},{strokeColor:L})})})}if(function(t){return"setAxisTextColor"===t.task}(e)){var N=e.params.color;return Object(E.a)(Object(E.a)({},t),{},{xaxis:Object(E.a)(Object(E.a)({},t.xaxis),{},{style:Object(E.a)(Object(E.a)({},t.xaxis.style),{},{fontColor:N})}),yaxis:Object(E.a)(Object(E.a)({},t.yaxis),{},{style:Object(E.a)(Object(E.a)({},t.yaxis.style),{},{fontColor:N})})})}if(function(t){return"toggleXaxisGrid"===t.task}(e))return Object(E.a)(Object(E.a)({},t),{},{grid:Object(E.a)(Object(E.a)({},t.grid),{},{useGridX:!t.grid.useGridX})});if(function(t){return"toggleYaxisGrid"===t.task}(e))return Object(E.a)(Object(E.a)({},t),{},{grid:Object(E.a)(Object(E.a)({},t.grid),{},{useGridY:!t.grid.useGridY})});if(function(t){return"toggleFullscreen"===t.task}(e))return Object(E.a)(Object(E.a)({},t),{},{fullscreen:!t.fullscreen});if(function(t){return"setLineChartStrokeColor"===t.task}(e)){var B=e.params.subchartIdx,G=e.params.yaxisIdx,H=e.params.graphIdx,V=e.params.color;t.subCharts[B].yaxis[G].graphs[H];return Object(E.a)(Object(E.a)({},t),{},{subCharts:[].concat(Object(w.a)(t.subCharts.slice(0,B)),[Object(E.a)(Object(E.a)({},t.subCharts[B]),{},{yaxis:[Object(E.a)(Object(E.a)({},t.subCharts[B].yaxis[G]),{},{graphs:[].concat(Object(w.a)(t.subCharts[B].yaxis[G].graphs.slice(0,H)),[Object(E.a)(Object(E.a)({},t.subCharts[B].yaxis[G].graphs[H]),{},{style:Object(E.a)(Object(E.a)({},t.subCharts[B].yaxis[G].graphs[H].style),{},{strokeColor:[V]})})],Object(w.a)(t.subCharts[B].yaxis[G].graphs.slice(H+1)))})]})],Object(w.a)(t.subCharts.slice(B+1)))})}if(lt(e)||ct(e)||dt(e)){var $=e.params.subchartIdx,q=e.params.yaxisIdx,_=e.params.graphIdx,Q=e.params.color,J=lt(e)?"candleUpColor":ct(e)?"candleDownColor":dt(e)?"candleStrokeColor":null;return J?Object(E.a)(Object(E.a)({},t),{},{subCharts:[].concat(Object(w.a)(t.subCharts.slice(0,$)),[Object(E.a)(Object(E.a)({},t.subCharts[$]),{},{yaxis:[Object(E.a)(Object(E.a)({},t.subCharts[$].yaxis[q]),{},{graphs:[].concat(Object(w.a)(t.subCharts[$].yaxis[q].graphs.slice(0,_)),[Object(E.a)(Object(E.a)({},t.subCharts[$].yaxis[q].graphs[_]),{},{style:Object(E.a)(Object(E.a)({},t.subCharts[$].yaxis[q].graphs[_].style),{},Object(F.a)({},J,Q))})],Object(w.a)(t.subCharts[$].yaxis[q].graphs.slice(_+1)))})]})],Object(w.a)(t.subCharts.slice($+1)))}):t}if(ut(e)||ht(e)){var K=e.params.subchartIdx,Z=e.params.yaxisIdx,tt=e.params.toolIdx,et=e.params.color,rt=ut(e)?"strokeColor":ht(e)?"anchorColor":null;return rt?Object(E.a)(Object(E.a)({},t),{},{subCharts:[].concat(Object(w.a)(t.subCharts.slice(0,K)),[Object(E.a)(Object(E.a)({},t.subCharts[K]),{},{yaxis:[Object(E.a)(Object(E.a)({},t.subCharts[K].yaxis[Z]),{},{tools:[].concat(Object(w.a)(t.subCharts[K].yaxis[Z].tools.slice(0,tt)),[Object(E.a)(Object(E.a)({},t.subCharts[K].yaxis[Z].tools[tt]),{},{style:Object(E.a)(Object(E.a)({},t.subCharts[K].yaxis[Z].tools[tt].style),{},Object(F.a)({},rt,et))})],Object(w.a)(t.subCharts[K].yaxis[Z].tools.slice(tt+1)))})]})],Object(w.a)(t.subCharts.slice(K+1)))}):t}if(function(t){return"setIndicatorParam"===t.task}(e)){var pt=e.params.subchartIdx,bt=e.params.yaxisIdx,xt=e.params.graphIdx,ft=e.params.paramIdx,mt=e.params.val,jt=t.subCharts[pt].yaxis[bt].graphs[xt];if(!c(jt))return t;var yt=jt.indicator.indicatorFn,gt=t.subCharts[0].yaxis[0].graphs[0].data,vt=jt.indicator.params.map((function(t){return t.val}));vt[ft]=mt;var Ot=yt.apply(void 0,[gt,jt.name].concat(Object(w.a)(vt)));return Object(E.a)(Object(E.a)({},t),{},{subCharts:[].concat(Object(w.a)(t.subCharts.slice(0,pt)),[Object(E.a)(Object(E.a)({},t.subCharts[pt]),{},{yaxis:[Object(E.a)(Object(E.a)({},t.subCharts[pt].yaxis[bt]),{},{graphs:[].concat(Object(w.a)(t.subCharts[pt].yaxis[bt].graphs.slice(0,xt)),[Object(E.a)(Object(E.a)({},jt),{},{data:Ot,indicator:Object(E.a)(Object(E.a)({},jt.indicator),{},{params:[].concat(Object(w.a)(jt.indicator.params.slice(0,ft)),[Object(E.a)(Object(E.a)({},jt.indicator.params[ft]),{},{val:mt})],Object(w.a)(jt.indicator.params.slice(ft+1)))})})],Object(w.a)(t.subCharts[pt].yaxis[bt].graphs.slice(xt+1)))})]})],Object(w.a)(t.subCharts.slice(pt+1)))})}if(function(t){return"setHlineYlevel"===t.task}(e)){var Ct=e.params.subchartIdx,kt=e.params.yaxisIdx,St=e.params.toolIdx,Tt=e.params.val,wt=[t.subCharts[Ct].yaxis[kt].tools[St].xy[0][0],Tt];return Object(E.a)(Object(E.a)({},t),{},{subCharts:[].concat(Object(w.a)(t.subCharts.slice(0,Ct)),[Object(E.a)(Object(E.a)({},t.subCharts[Ct]),{},{yaxis:[Object(E.a)(Object(E.a)({},t.subCharts[Ct].yaxis[kt]),{},{tools:[].concat(Object(w.a)(t.subCharts[Ct].yaxis[kt].tools.slice(0,St)),[Object(E.a)(Object(E.a)({},t.subCharts[Ct].yaxis[kt].tools[St]),{},{xy:[wt]})],Object(w.a)(t.subCharts[Ct].yaxis[kt].tools.slice(St+1)))})]})],Object(w.a)(t.subCharts.slice(Ct+1)))})}if(function(t){return"updateInteractionState"===t.task}(e))return Object(E.a)(Object(E.a)({},t),{},{pointer:e.params.newState.pointer,containerSize:e.params.newState.containerSize,subCharts:e.params.newState.subCharts,draw:Object(E.a)(Object(E.a)({},t.draw),e.params.newState.draw),xaxis:Object(E.a)(Object(E.a)({},t.xaxis),e.params.newState.xaxis)})}return t},bt=function(t,e,a){return{addGraph:function(t,e,r,n){return function(t,e,a,r,n){r({task:"addGraph",params:{subchartIdx:a,chartSeries:t,indicator:n,chartName:e}})}(t,e,r,a,n)},addSubchart:function(t,r,n,o){return function(t,e,a,r,n,o){r({task:"addSubchart",params:{chartSeries:t,chartName:e,indicator:n,containerHeight:a,reset:o}})}(t,r,e,a,n,o)},getSubchart:function(e){return t.subCharts[e]},getYaxis:function(e,a){return t.subCharts[e].yaxis[a]},getGraph:function(e,a,r){return t.subCharts[e].yaxis[a].graphs[r]},xToPix:function(e,a){var r=t.xaxis,n=r.widthPerTick,o=r.totalTranslatedX;return e*n+(void 0!==a?a:o)},pixToX:function(e,a){var r=t.xaxis,n=r.widthPerTick,o=r.totalTranslatedX;return(e-(void 0!==a?a:o))/n},yToPix:function(e,a,r,n){var o=t.subCharts[a].yaxis[r],i=o.heightPerPt,s=o.decimals,l=o.translatedY,c=void 0!==n?n:l;return t.subCharts[a].bottom-e*Math.pow(10,s)*i+c},pixToY:function(e,a,r,n){var o=t.subCharts[a].yaxis[r],i=o.heightPerPt,s=o.decimals,l=o.translatedY,c=void 0!==n?n:l;return(t.subCharts[a].bottom+c-e)/i*Math.pow(10,-s)}}},xt=function(t,e,a){return t*a+e},ft=function(t,e,a){return(t-e)/a},mt=function(t,e,a,r,n){return e-t*Math.pow(10,a)*n+r},jt=function(t,e,a,r,n){return(e+r-t)/n*Math.pow(10,-a)},yt=function(t,e,a,r,n,o){var i=o||10;if(I(t)||I(a)||I(r)||I(n)||I(e))return null;var s=[];if(O(e)?e.prices[0]&&s.push(e.prices[0]):y(e)?s.push(e.open,e.high,e.low,e.close):s.push(e.close),0===s.length)return null;var l=[];return s.forEach((function(e,o){var s=mt(e,a[r].bottom,a[r].yaxis[n].decimals,a[r].yaxis[n].translatedY,a[r].yaxis[n].heightPerPt);s>=t-i&&s<=t+i&&l.push({y:e.toFixed(P(e)),pixY:s})})),l?l.sort((function(e,a){return Math.abs(e.pixY-t)<Math.abs(a.pixY-t)?-1:Math.abs(e.pixY-t)>Math.abs(a.pixY-t)?1:0})):null};var gt=function(t,e,a,r,n,o){if(!t)return null;if(0===t.length)return null;var i=t;return i.forEach((function(t,e){var s=[];t.yaxis.forEach((function(l,d){var u=null,h=null,p=0;l.graphs.forEach((function(t,s){var l,b,x,f,m,j,g,v,C=i[e].yaxis[d].graphs[s],k=C.data;C.datasets.last={data:k[r],x:r,pixX:o,dateString:""},C.datasets.first={data:k[a],x:a,pixX:n,dateString:""};var S=C.data.filter((function(t,e){return e>=a&&e<=r}));C.curData=S,C.yMaxExact=c(C)&&(null===C||void 0===C||null===(l=C.indicator)||void 0===l||null===(b=l.default)||void 0===b?void 0:b.fixedYScale)?null===C||void 0===C||null===(x=C.indicator)||void 0===x||null===(f=x.default)||void 0===f?void 0:f.fixedYScale[1]:Math.max.apply(Math,Object(w.a)(S.map((function(t){if(O(t)){var e=Math.max.apply(Math,Object(w.a)(t.prices.filter((function(t){return null!==t}))));return e||0===e?e:0}return y(t)?t.high:t.close})))),C.yMinExact=c(C)&&(null===C||void 0===C||null===(m=C.indicator)||void 0===m||null===(j=m.default)||void 0===j?void 0:j.fixedYScale)?null===C||void 0===C||null===(g=C.indicator)||void 0===g||null===(v=g.default)||void 0===v?void 0:v.fixedYScale[0]:Math.min.apply(Math,Object(w.a)(S.map((function(t){if(O(t)){var e=Math.min.apply(Math,Object(w.a)(t.prices.filter((function(t){return null!==t}))));return e||0===e?e:0}return y(t)?t.low:t.close})))),(null===u||C.yMinExact<u)&&(u=C.yMinExact),(null===h||C.yMaxExact>h)&&(h=C.yMaxExact),C.decimals>p&&(p=C.decimals)}));var b=Math.max(Math.round((t.bottom-t.top)/75),3),x=p,f=function(t,e,a,r){for(var n=1/Math.pow(10,a),o=n,i=o,s=function(a){return Math.abs((t-e)/a-r)},l=s(o),c=0;o<t-e;){for(var d=0;d<=2;d++){var u=0===d?1:1===d?2.5:5,h=s(o*u);h<l&&(l=h,i=o*u)}c++,o=n*Math.pow(10,c)}return parseFloat(i.toFixed(a))}(h=h||0,u=u||0,x,b);l.optIntervalY=f;var m=null,j=null;l.graphs.forEach((function(t,e){t.yMax=Math.ceil(t.yMaxExact/f)*f,t.yMin=Math.floor(t.yMinExact/f)*f,(null===m||t.yMax>m)&&(m=t.yMax),(null===j||t.yMin<j)&&(j=t.yMin)}));var g=(t.bottom-t.top)/((m||0)-(j||0))/Math.pow(10,x);l.heightPerPt=g,l.translatedY=-mt(j||0,t.bottom,x,0,g)+t.bottom;for(var v=jt(t.bottom,t.bottom,x,l.translatedY,l.heightPerPt),C=mt(Math.ceil(v/f)*f,t.bottom,x,l.translatedY,g);C>=t.top;){var k=jt(C,t.bottom,l.decimals,l.translatedY,l.heightPerPt),S=(Math.round(k*Math.pow(10,x))/Math.pow(10,x)).toString();C>t.top+10&&C<t.bottom-10&&s.push({pixY:C,label:S}),C-=g*f/Math.pow(10,-x)}l.drawTicks=s}))})),i},vt=function(t,e){if(!t||!e)return null;for(var a=0;a<e.length;a++){var r=e[a];if(t[1]>=r.top&&t[1]<r.bottom)return a}return null},Ot=function(t,e,a,r,n,o,i){if(!t)return null;if(r)return null;if(n)return{type:"drawTool",init:t};var s=function(t,e,a){if(!t||!e||!a)return[];var r=vt(t,e);if(null===r)return[];var n=[],o=a.totalTranslatedX,i=a.scaledWidthPerTick;return e[r].yaxis.forEach((function(a,s){var l=a.translatedY,c=a.heightPerPt;a.tools.forEach((function(a,d){a.xy.forEach((function(a,u){t[0]>=xt(a[0],o,i)-10&&t[0]<=xt(a[0],o,i)+10&&t[1]>=mt(a[1],e[r].bottom,e[r].yaxis[s].decimals,l,c)-10&&t[1]<=mt(a[1],e[r].bottom,e[r].yaxis[s].decimals,l,c)+10&&n.push([r,s,d,u])}))}))})),n}(t,e,a);if(s.length>0)return{type:"editTool",res:s,init:e[s[0][0]].yaxis[s[0][1]].tools[s[0][2]].xy[s[0][3]]};var l=function(t,e){if(!t)return null;for(var a=0;a<e.length;a++){var r=e[a];if(t[1]>=r.bottom-10&&t[1]<r.bottom+10)return a}return null}(t,e);return null!==l&&l!==e.length-1?{type:"resizeSubchart",res:l,initBottom:e[l].bottom}:t[0]>=0&&t[0]<0+o&&t[1]>=0&&t[1]<0+i?{type:"translate"}:t[0]>=0&&t[0]<0+o&&t[1]>=0+i?{type:"scale"}:null},Ct=function(t,e,a,r){if("editTool"!==t.type||0===t.res.length||!t.init)return e;var n=r.chartPointer.move.pixXSnap?r.chartPointer.move.pixXSnap:r.drag.xy[0],o=r.chartPointer.move.snapDatasets.length>0&&r.chartPointer.move.snapDatasets[0].pixYSnap?r.chartPointer.move.snapDatasets[0].pixYSnap:r.drag.xy[1],i=xt(Math.round(ft(r.drag.initial[0],a.totalTranslatedX,a.scaledWidthPerTick)),a.totalTranslatedX,a.scaledWidthPerTick),l=t.res[0][0],c=t.res[0][1],d=[],u={y:t.init[1],pixY:r.drag.initial[1]};e[l].yaxis[c].graphs.forEach((function(t,a){var n=yt(r.drag.initial[1],t.data[i],e,l,c);n&&n.length>0&&d.push(Object(E.a)(Object(E.a)({},n[0]),{},{y:parseFloat(n[0].y)}))})),d.length>0&&(u={y:d[0].y,pixY:d[0].pixY});var h=xt(t.init[0],a.totalTranslatedX,a.scaledWidthPerTick)+n-i,p=mt(t.init[1],e[l].bottom,e[l].yaxis[c].decimals,e[l].yaxis[c].translatedY,e[l].yaxis[c].heightPerPt)+o-u.pixY,b=ft(h,a.totalTranslatedX,a.scaledWidthPerTick),x=jt(p,e[l].bottom,e[l].yaxis[c].decimals,e[l].yaxis[c].translatedY,e[l].yaxis[c].heightPerPt),f=Object(s.a)(t.res[0],4),m=f[0],j=f[1],y=f[2],g=f[3];return[].concat(Object(w.a)(e.slice(0,m)),[Object(E.a)(Object(E.a)({},e[m]),{},{yaxis:[].concat(Object(w.a)(e[m].yaxis.slice(0,j)),[Object(E.a)(Object(E.a)({},e[m].yaxis[j]),{},{tools:[].concat(Object(w.a)(e[m].yaxis[j].tools.slice(0,y)),[Object(E.a)(Object(E.a)({},e[m].yaxis[j].tools[y]),{},{xy:[].concat(Object(w.a)(e[m].yaxis[j].tools[y].xy.slice(0,g)),[[b,x]],Object(w.a)(e[m].yaxis[j].tools[y].xy.slice(g+1)))})],Object(w.a)(e[m].yaxis[j].tools.slice(y+1)))})],Object(w.a)(e[m].yaxis.slice(j+1)))})],Object(w.a)(e.slice(m+1)))},kt=function(t,e,a){if("resizeSubchart"!==t.type||null===t)return e;var r=t.res,n=Math.min(Math.max(t.initBottom+a.xy[1]-a.initial[1],e[r].top+10),e[r+1].bottom-10);return[].concat(Object(w.a)(e.slice(0,r)),[Object(E.a)(Object(E.a)({},e[r]),{},{bottom:n}),Object(E.a)(Object(E.a)({},e[r+1]),{},{top:n})],Object(w.a)(e.slice(r+2)))},St=function(t,e,a){var r=[a.chartPointer.move.pixXSnap?a.chartPointer.move.pixXSnap:a.drag.xy[0],a.chartPointer.move.snapDatasets.length>0&&a.chartPointer.move.snapDatasets[0].pixYSnap?a.chartPointer.move.snapDatasets[0].pixYSnap:a.drag.xy[1]];return t&&e&&r?Object(E.a)(Object(E.a)({},e),{},{pixXy:[].concat(Object(w.a)(e.pixXy),[r])}):{isDrawing:!1,pixXy:[]}},Tt=a(114),wt={xaxis:{heightXAxis:50,heightTickMarkLines:20,totalScaleX:0,totalTranslatedX:0,scaledWidthPerTick:20,xStart:0,xEnd:0,pixXStart:0,pixXEnd:0,startNoDataPeriod:0,endNoDataPeriod:0,noDataPeriodPortion:0,optPeriodRes:null,widthPerTick:20,xAxisTicks:[],style:{fillColor:"#fff",strokeColor:"#000",fontColor:"#000",fontSize:16,fontName:"Arial"}},grid:{useGridX:!0,useGridY:!0,style:{strokeColor:"rgba(51,51,51, 0.33)",strokeStyle:""}},yaxis:{widthYAxis:80,widthTickmarkLines:20,style:{fillColor:"#fff",strokeColor:"#000",fontColor:"#000",fontSize:16,fontName:"Arial"}},backgroundColor:"#fff",fullscreen:!1,subCharts:[],draw:{isDrawing:!1,pixXy:[]},containerSize:{top:0,left:0,width:300,height:300,init:!1},pointer:{isHovering:!1,move:{isMoving:!1,xy:[0,0]},wheel:{isWheeling:!1,delta:[0,0]},dragPointerUp:{isDragPointerUp:!1,xy:[0,0],first:!1,last:!1,initial:[0,0],movementInitial:[0,0]},drag:{isDragging:!1,xy:[0,0],first:!1,last:!1,initial:[0,0],movementInitial:[0,0],delta:[0,0]},chartPointer:{move:{x:0,pixX:0,pixY:0,snapDatasets:[],subchartIdx:0,xDateString:"",pixXSnap:0,xUnlimited:0},click:{clickedSubchartIdx:null}}}},It=function(t,e){var a,r,o=e.maxUpdatesPerSec?e.maxUpdatesPerSec:15,i=e.initWidthPerTick?e.initWidthPerTick:20,l=("static"!==e.viewMode||e.height&&e.width)&&e.viewMode?e.viewMode:"responsive",u=n.a.useReducer(pt,wt),h=Object(s.a)(u,2),p=h[0],b=h[1],x=n.a.useRef({containerSize:wt.containerSize,pointer:wt.pointer,xaxis:{totalScaleX:0,totalTranslatedX:0,scaledWidthPerTick:20,xStart:0,xEnd:0,pixXStart:0,pixXEnd:0,startNoDataPeriod:0,endNoDataPeriod:0,noDataPeriodPortion:0,optPeriodRes:null,widthPerTick:20,xAxisTicks:[]},tmp:{scaleInitWidthPerTick:null,scaleInitTranslatedX:0,dragActionType:null,amtLastSubcharts:0,lastMainChartData:[]},lastUpdate:new Date,shallUpdate:[],userInteractedChartState:null}),f=p.containerSize.height-1;Object(W.a)({onDrag:function(t){var e,a,r,n,o=(null===(e=x.current.pointer.drag)||void 0===e?void 0:e.delta)&&x.current.shallUpdate.includes("drag")?(null===(a=x.current.pointer.drag)||void 0===a?void 0:a.delta[0])+t.delta[0]:t.delta[0],i=(null===(r=x.current.pointer.drag)||void 0===r?void 0:r.delta)&&x.current.shallUpdate.includes("drag")?(null===(n=x.current.pointer.drag)||void 0===n?void 0:n.delta[1])+t.delta[1]:t.delta[1],s=t.xy,l=t.initial,c=t.movement,d=t.first,u=t.last,h=t.active;x.current=Object(E.a)(Object(E.a)({},x.current),{},{pointer:Object(E.a)(Object(E.a)({},x.current.pointer),{},{drag:{isDragging:h,xy:s,initial:l,movementInitial:c,last:u,first:d,delta:[o,i]}}),shallUpdate:[].concat(Object(w.a)(x.current.shallUpdate),["drag"]),lastUpdate:x.current.lastUpdate})},onMove:function(t){x.current=Object(E.a)(Object(E.a)({},x.current),{},{pointer:Object(E.a)(Object(E.a)({},x.current.pointer),{},{move:{isMoving:t.active,xy:t.xy}}),shallUpdate:[].concat(Object(w.a)(x.current.shallUpdate),["pointerMove"])})},onHover:function(t){x.current=Object(E.a)(Object(E.a)({},x.current),{},{pointer:Object(E.a)(Object(E.a)({},x.current.pointer),{},{isHovering:t.active}),shallUpdate:[].concat(Object(w.a)(x.current.shallUpdate),["pointerMove"])})},onWheel:function(t){var e,a,r,n,o=(null===(e=x.current.pointer.wheel)||void 0===e?void 0:e.delta)&&x.current.shallUpdate.includes("wheel")?(null===(a=x.current.pointer.wheel)||void 0===a?void 0:a.delta[0])+t.delta[0]:t.delta[0],i=(null===(r=x.current.pointer.wheel)||void 0===r?void 0:r.delta)&&x.current.shallUpdate.includes("wheel")?(null===(n=x.current.pointer.wheel)||void 0===n?void 0:n.delta[1])+t.delta[1]:t.delta[1];x.current=Object(E.a)(Object(E.a)({},x.current),{},{pointer:Object(E.a)(Object(E.a)({},x.current.pointer),{},{wheel:{delta:[o,i],isWheeling:t.active}}),shallUpdate:[].concat(Object(w.a)(x.current.shallUpdate),["wheel"])})},onDragEnd:function(t){var e=t.xy,a=t.initial,r=t.first,n=t.last,o=t.movement;x.current=Object(E.a)(Object(E.a)({},x.current),{},{pointer:Object(E.a)(Object(E.a)({},x.current.pointer),{},{dragPointerUp:{isDragPointerUp:!0,xy:e,initial:a,movementInitial:o,last:n,first:r}}),shallUpdate:[].concat(Object(w.a)(x.current.shallUpdate),["dragEnd"])})}},{domTarget:t,transform:function(t){var e=Object(s.a)(t,2),a=e[0],r=e[1];return[a-p.containerSize.top,r-p.containerSize.left]},drag:{useTouch:!0,experimental_preventWindowScrollY:!0},move:{}}),n.a.useEffect((function(){if(t&&t.current){if(p.fullscreen||"fullscreen"===l){t.current.style.position="fixed",t.current.style.width="100%",t.current.style.height="100%",t.current.style.top="0px";var a=t.current,r=a.clientWidth,n=a.clientHeight;x.current=Object(E.a)(Object(E.a)({},x.current),{},{shallUpdate:[].concat(Object(w.a)(x.current.shallUpdate),["containerResize"]),containerSize:{top:0,left:0,width:r,height:n,init:!0}})}else{var o=t.current.getBoundingClientRect(),i=o.top,s=o.left,c=t.current,d=c.clientWidth,u=c.clientHeight;t.current.style.position="relative",t.current.style.width=e.width&&"static"===l?e.width+"px":"100%",t.current.style.height=e.height&&"static"===l?e.height+"px":"100%",t.current.style.top="0px",x.current=Object(E.a)(Object(E.a)({},x.current),{},{shallUpdate:[].concat(Object(w.a)(x.current.shallUpdate),["containerResize"]),containerSize:{top:i,left:s,width:d,height:u,init:!0}})}if(!e.height||!e.width||"static"!==l){var h=function(e){if(t&&t.current)if(p.fullscreen||"fullscreen"===l){var a=t.current,r=a.clientWidth,n=a.clientHeight;x.current=Object(E.a)(Object(E.a)({},x.current),{},{shallUpdate:[].concat(Object(w.a)(x.current.shallUpdate),["containerResize"]),containerSize:{top:0,left:0,width:r,height:n,init:!0}})}else{var o=t.current.getBoundingClientRect(),i=o.top,s=o.left,c=t.current,d=c.clientWidth,u=c.clientHeight;x.current=Object(E.a)(Object(E.a)({},x.current),{},{shallUpdate:[].concat(Object(w.a)(x.current.shallUpdate),["containerResize"]),containerSize:{top:i,left:s,width:d,height:u,init:!0}})}};return t.current.parentElement&&t.current.parentElement.addEventListener("resize",(function(){})),window.addEventListener("resize",h),window.addEventListener("orientationchange",h),function(){window.removeEventListener("resize",h),window.removeEventListener("orientationchange",h)}}}}),[t,e.width,e.height,p.fullscreen,l,null===t||void 0===t||null===(a=t.current)||void 0===a?void 0:a.clientWidth,null===t||void 0===t||null===(r=t.current)||void 0===r?void 0:r.clientHeight]);var m=p.subCharts.map((function(t){return{yaxis:t.yaxis.map((function(t){return{decimals:t.decimals,graphs:t.graphs.map((function(t){var e=c(t)?Object(E.a)({},t.indicator):{};return Object(E.a)({decimals:t.decimals,name:t.name,style:t.style,type:t.type},e)})),tools:t.tools.map((function(t){return{type:t.type,params:t.params,style:t.style}}))}}))}})),j={xaxis:{heightXAxis:p.xaxis.heightXAxis,heightTickMarkLines:p.xaxis.heightTickMarkLines,style:p.xaxis.style},subcharts:m};return Tt(x.current.userInteractedChartState,j)||(x.current.userInteractedChartState=j),n.a.useEffect((function(){var t=function(){var t,e,a,r,n,o,s,l=x.current,c=l.pointer.dragPointerUp,u=l.pointer.drag;if(l.shallUpdate.length>0){var h,f,m,j=p.yaxis.widthYAxis,y=l.containerSize.width-1,g=l.containerSize.height-1,v=p.xaxis.heightXAxis,O=p.subCharts,C=l.xaxis,k=p.draw;if(l.shallUpdate.includes("dragEnd")||(l.pointer.dragPointerUp.isDragPointerUp=!1),M(l.shallUpdate,"containerResize")&&p.subCharts.length>0){var S=l.containerSize.height-1-p.xaxis.heightXAxis-p.subCharts[p.subCharts.length-1].bottom,T=Math.floor(S/p.subCharts.length),I=p.subCharts[0].bottom-p.subCharts[0].top+T,P=T+(I<250?250-I:0),z=p.subCharts.length>1?Math.floor((S-P)/(p.subCharts.length-1)):0,D=p.subCharts.length>1?(S-P)%(p.subCharts.length-1):0,A=0,X=0;O=O.map((function(t,e){if(0===e)return A=t.bottom+1*P,Object(E.a)(Object(E.a)({},t),{},{bottom:t.bottom+1*P});var a=Math.sign(D)>0&&D>0&&0!==D?-1:Math.sign(D)<0&&D<0&&0!==D?1:0;D+=a,X+=a;var r=A;return A=t.bottom+e*z+P+Math.abs(X),Object(E.a)(Object(E.a)({},t),{},{top:r,bottom:t.bottom+e*z+P+Math.abs(X)})})),x.current.userInteractedChartState=null}if(M(l.shallUpdate,"drag","wheel","containerResize","deps")||l.tmp.dragActionType){var W=null===u||void 0===u?void 0:u.initial;if(m=Ot(W,O,C,!!l.tmp.dragActionType,p.draw.isDrawing,y-j,g-v),!l.tmp.dragActionType&&m&&["resizeSubchart"].includes(m.type)&&(l.tmp.dragActionType=m),l.tmp.dragActionType){var F,U,Y;if(l.pointer.drag.isDragging)"resizeSubchart"===(null===(F=l.tmp.dragActionType)||void 0===F?void 0:F.type)&&(O=kt(l.tmp.dragActionType,O,l.pointer.drag));if(!l.pointer.drag.isDragging)if(!["drawTool","editTool"].includes(null===(U=l.tmp.dragActionType)||void 0===U?void 0:U.type))"resizeSubchart"===(null===(Y=l.tmp.dragActionType)||void 0===Y?void 0:Y.type)&&(O=kt(l.tmp.dragActionType,O,l.pointer.drag),l.userInteractedChartState=null,l.tmp.dragActionType=null)}if(m&&["scale","translate"].includes(m.type)||M(l.shallUpdate,"containerResize","deps")){var L,N,B,G,H,$,q,_,J,K,Z,et,at,rt,nt,ot;null!==(L=l.tmp.amtLastSubcharts!==p.subCharts.length&&1===p.subCharts.length||l.tmp.lastMainChartData!==(null===(N=p.subCharts)||void 0===N||null===(B=N[0])||void 0===B||null===(G=B.yaxis)||void 0===G||null===(H=G[0])||void 0===H||null===($=H.graphs)||void 0===$||null===(q=$[0])||void 0===q?void 0:q.data))&&void 0!==L&&L&&(l.xaxis.totalTranslatedX=p.xaxis.totalTranslatedX);var it=l.tmp,st=it.scaleInitTranslatedX,lt=it.scaleInitWidthPerTick,ct=(null===(_=O)||void 0===_||null===(J=_[0])||void 0===J||null===(K=J.yaxis)||void 0===K||null===(Z=K[0])||void 0===Z||null===(et=Z.graphs)||void 0===et?void 0:et[0])?null===(at=O)||void 0===at?void 0:at[0].yaxis[0].graphs[0]:null;ct&&(d(ct)||(ct=null)),l.xaxis=function(t,e,a,r,n,o,i,s,l,c){var d=!!(null===a||void 0===a?void 0:a.isWheeling),u=null===a||void 0===a?void 0:a.delta[1],h=null===r||void 0===r?void 0:r.xy,p=function(t){return.5*Math.round(Math.min(Math.max(t+640,0)*(n-.5)/640-(n-.5),l/3-n)/.5)};if(o){var b=null===e||void 0===e?void 0:e.initial;if(!b)return t;if(i&&!u){var x=(null===e||void 0===e?void 0:e.delta)?Math.max(Math.min(e.delta[0]+t.totalTranslatedX,l-2*t.scaledWidthPerTick),-(c-3)*t.scaledWidthPerTick):t.totalTranslatedX;return Object(E.a)(Object(E.a)({},t),{},{totalTranslatedX:x})}if(s&&!u){var f=t.scaleInitWidthPerTick?t.scaleInitWidthPerTick:t.scaledWidthPerTick,m=t.scaleInitTranslatedX?t.scaleInitTranslatedX:t.totalTranslatedX,j=(null===e||void 0===e?void 0:e.delta)?t.totalScaleX+(null===e||void 0===e?void 0:e.delta[0]):t.totalScaleX;j=Math.min(Math.max(j,-640),640*(l/3-n+n-.5)/(n-.5)-640);var y=n+p(j),g=m,v=b[0],O=m-((b[0]-g)/f*y+g)+v;return(null===e||void 0===e?void 0:e.isDragging)||(f=null),Object(E.a)(Object(E.a)({},t),{},{scaleInitWidthPerTick:f,scaleInitTranslatedX:m,totalScaleX:j,scaledWidthPerTick:y,totalTranslatedX:O})}}else if(d&&u){var C=t.scaledWidthPerTick,k=t.totalTranslatedX,S=t.totalScaleX+u/10;S=Math.min(Math.max(S,-640),640*(l/3-n+n-.5)/(n-.5)-640);var T=n+p(S),w=k,I=h?h[0]:0,P=((h?h[0]:0)-w)/C,M=k-(Math.round(P)*T+t.totalTranslatedX)+I;return d||(C=null),Object(E.a)(Object(E.a)({},t),{},{scaleInitWidthPerTick:C,scaleInitTranslatedX:k,totalScaleX:S,scaledWidthPerTick:T,totalTranslatedX:M})}return t}(Object(E.a)(Object(E.a)({},l.xaxis),{},{scaleInitTranslatedX:st,scaleInitWidthPerTick:lt}),l.pointer.drag,l.pointer.wheel,l.pointer.move,i,l.shallUpdate.includes("drag"),"translate"===(null===(rt=m)||void 0===rt?void 0:rt.type),"scale"===(null===(nt=m)||void 0===nt?void 0:nt.type),y,(null===(ot=ct)||void 0===ot?void 0:ot.data.length)||0),C=Object(E.a)(Object(E.a)(Object(E.a)({},C),l.xaxis),function(t,e,a,r,n){var o=[],i=Math.max(Math.ceil(-e/t),0),s=null===n||void 0===n?void 0:n.data.length,l=Math.max(Math.ceil(-e/t),0)*t+e,c=0,d=0,u=Math.abs(Math.min(Math.ceil(-e/t),0)),h=0,p=0,b=null;if(a&&r&&s&&(c=Math.min(a,s*t+e),d=Math.min(Math.floor((c-e)/t),s-1),p=(u+(h=Math.max(Math.floor((a-e)/t)-s,0)))/(d-i+u+h),n&&(b=Q(n.data,i,d,n.meta,p,Object.assign({},n.dateStat)))&&n.meta.chartPeriod))for(var x=l,f=i;x<c;){var m=tt(n.data[f].date,n.dateStat,n.meta.chartPeriod,Object(E.a)({},b));if(m){var j=V(n.data[f].date,m);o.push({x:x,dateString:j.toString()}),x+=t,f++}else x+=t,f++}return{xStart:i,pixXStart:l,xEnd:d,pixXEnd:c,widthPerTick:t,startNoDataPeriod:u,endNoDataPeriod:h,noDataPeriodPortion:p,xAxisTicks:o,optPeriodRes:b}}(l.xaxis.scaledWidthPerTick,l.xaxis.totalTranslatedX,l.containerSize.width,p.yaxis.widthYAxis,ct))}if(m&&["scale","translate","resizeSubchart"].includes(m.type)||l.tmp.dragActionType||M(l.shallUpdate,"containerResize","deps")){var dt=gt(O,l.xaxis.scaledWidthPerTick,C.xStart,C.xEnd,C.pixXStart,C.pixXEnd);dt&&(O=dt)}}if(l.shallUpdate.includes("pointerMove")){var ut,ht,pt,bt,mt,Tt=function(t,e,a,r,n){if(!r||!n)return null;var o=Math.round(ft(null===n||void 0===n?void 0:n.xy[0],e,t));if(o<0||o>r.data.length-1)return{xPointerUnlimited:o};var i=Math.abs(Math.round(o)),s=Q(r.data,a.xStart,a.xEnd,r.meta,a.noDataPeriodPortion,Object.assign({},r.dateStat));if(!s||!r.meta.chartPeriod)return null;var l=tt(r.data[i].date,r.dateStat,r.meta.chartPeriod,Object(E.a)({},s));return{xPointer:i,xPointerDateStr:V(r.data[i].date,l||r.meta.chartPeriod.chartPeriodName),pixXPointer:xt(i,e,t),xPointerUnlimited:o}}(C.scaledWidthPerTick,C.totalTranslatedX,C,null===(ut=O)||void 0===ut||null===(ht=ut[0])||void 0===ht||null===(pt=ht.yaxis)||void 0===pt||null===(bt=pt[0])||void 0===bt||null===(mt=bt.graphs)||void 0===mt?void 0:mt[0],l.pointer.move);f=function(t,e,a,r,n,o,i){var s=null===o||void 0===o?void 0:o.xy;if(o&&t&&s){var l=function(e){for(var a=-1,r=0;r<t.length;r++){var n=t[r];e[1]>=n.top&&e[1]<n.bottom&&(a=r)}return a},c=l(s);if(-1!==c){var d=i&&i.xy?l(i.xy):null,u=[];return null!==e&&t[c].yaxis.forEach((function(a,n){a.graphs.forEach((function(i,s){var l=null,d=null,h=yt(null===o||void 0===o?void 0:o.xy[1],i.data[e],t,c,n);h&&h.length>0&&(d=h[0].pixY,l=h[0].y),u.push({yaxisIdx:n,graphIdx:s,data:i.data[e],y:jt(null===o||void 0===o?void 0:o.xy[1],t[c].bottom,a.decimals,a.translatedY,a.heightPerPt),ySnap:l,pixYSnap:d,dateString:r})}))})),{move:{pixX:null===o||void 0===o?void 0:o.xy[0],pixXSnap:n,pixY:null===o||void 0===o?void 0:o.xy[1],x:e,xUnlimited:a,subchartIdx:c,snapDatasets:u,xDateString:r},click:{clickedSubchartIdx:d}}}}}(O,void 0!==(null===Tt||void 0===Tt?void 0:Tt.xPointer)?null===Tt||void 0===Tt?void 0:Tt.xPointer:null,void 0!==(null===Tt||void 0===Tt?void 0:Tt.xPointerUnlimited)?Tt.xPointerUnlimited:-1,(null===Tt||void 0===Tt?void 0:Tt.xPointerDateStr)||"",(null===Tt||void 0===Tt?void 0:Tt.pixXPointer)||0,l.pointer.move,l.pointer.dragPointerUp)}if((l.shallUpdate.includes("drag")||(null===(h=l.tmp)||void 0===h?void 0:h.dragActionType)&&["editTool","drawTool"].includes(l.tmp.dragActionType.type))&&(!l.tmp.dragActionType&&m&&["editTool","drawTool"].includes(m.type)&&(l.tmp.dragActionType=m),l.tmp.dragActionType)){var wt,It,Pt;if(l.pointer.drag.isDragging)"editTool"===(null===(wt=l.tmp.dragActionType)||void 0===wt?void 0:wt.type)&&(O=Ct(l.tmp.dragActionType,O,C,l.pointer));if(!l.pointer.drag.isDragging)if("editTool"===(null===(It=l.tmp.dragActionType)||void 0===It?void 0:It.type))O=Ct(l.tmp.dragActionType,O,C,l.pointer),l.userInteractedChartState=null,l.tmp.dragActionType=null;else if(c.isDragPointerUp&&"drawTool"===(null===(Pt=l.tmp.dragActionType)||void 0===Pt?void 0:Pt.type)){var Mt=p.draw.type?["hline","vline"].includes(p.draw.type)?1:["trendline"].includes(p.draw.type)?2:0:0;Mt?k.pixXy.length<Mt-1?k=St(k.type,k,l.pointer):(O=function(t,e,a,r){var n=vt(r.initial,t);if(null===n||!e||!a||!r||!a.type)return t;var o=a.pixXy.map((function(a,r){return[ft(a[0],e.totalTranslatedX,e.scaledWidthPerTick),jt(a[1],t[n].bottom,t[n].yaxis[0].decimals,t[n].yaxis[0].translatedY,t[n].yaxis[0].heightPerPt)]}));return[].concat(Object(w.a)(t.slice(0,n)),[Object(E.a)(Object(E.a)({},t[n]),{},{yaxis:[Object(E.a)(Object(E.a)({},t[n].yaxis[0]),{},{tools:[].concat(Object(w.a)(t[n].yaxis[0].tools),[{xy:o,type:a.type,style:{strokeColor:"blue",anchorColor:"#333"}}])})].concat(Object(w.a)(t[n].yaxis.slice(1)))})],Object(w.a)(t.slice(n+1)))}(O,C,k=St(k.type,k,l.pointer),l.pointer.drag),k={isDrawing:!1,pixXy:[]},l.tmp.dragActionType=null):k={isDrawing:!1,pixXy:[]}}}l.lastUpdate,l.shallUpdate,l.userInteractedChartState,l.xaxis,l.tmp;var zt=Object(R.a)(l,["lastUpdate","shallUpdate","userInteractedChartState","xaxis","tmp"]);l.xaxis=Object(E.a)(Object(E.a)({},l.xaxis),C),f&&(l.pointer.chartPointer=f),b({task:"updateInteractionState",params:{newState:Object(E.a)(Object(E.a)({},zt),{},{xaxis:C,subCharts:O,draw:k})}}),x.current=Object(E.a)(Object(E.a)({},l),{},{lastUpdate:new Date,shallUpdate:[]})}l.tmp.amtLastSubcharts=p.subCharts.length,l.tmp.lastMainChartData=null!==(t=null===(e=p.subCharts)||void 0===e||null===(a=e[0])||void 0===a||null===(r=a.yaxis)||void 0===r||null===(n=r[0])||void 0===n||null===(o=n.graphs)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.data)&&void 0!==t?t:null};console.log("updated Timer"),x.current.shallUpdate.push("deps"),t();var e=window.setInterval(t,1e3/o);return function(){window.clearInterval(e)}}),[o,i,p.draw.isDrawing,p.draw.pixXy,p.yaxis.widthYAxis,p.xaxis.heightXAxis,x.current.userInteractedChartState,p.fullscreen]),[Object(E.a)(Object(E.a)({},p),{},{methods:bt(p,f,b)}),b]},Pt=function(t){var e=t.style,a=t.pixXy,r=t.mode,o=t.subchartTop,i=t.subchartBottom;if(2!==a.length)return null;var s=(null===e||void 0===e?void 0:e.strokeColor)?e.strokeColor:"red",c=(null===e||void 0===e?void 0:e.anchorColor)?e.anchorColor:"#333",d=["line","trendline","infiniteLine"].includes(r)?r:"trendline",u=[];if(a[0][0]>a[1][0]?u.push(Object(w.a)(a[1]),Object(w.a)(a[0])):u.push(Object(w.a)(a[0]),Object(w.a)(a[1])),"trendline"===d||"infiniteLine"===r){var h=u[1][0]-u[0][0],p=u[1][1]-u[0][1],b=p/h,x=p<0?o:i,f=u[0][1]-b*u[0][0],m=(x-f)/b;if(u[1][0]=m,u[1][1]=x,"infiniteLine"===r){var j=p<0?i:o,y=(j-f)/b;u[0][0]=y,u[0][1]=j}}return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.c,{x:0,y:0,points:[u[0][0],u[0][1],u[1][0],u[1][1]],stroke:s,strokeWidth:1}),Object(C.jsx)(l.a,{x:a[0][0],y:a[0][1],radius:5,fill:c}),Object(C.jsx)(l.a,{x:a[1][0],y:a[1][1],radius:5,fill:c})]})},Mt=function(t){var e=t.style,a=t.pixXy,r=t.subchartTop,o=t.subchartBottom;if(1!==a.length)return null;var i=(null===e||void 0===e?void 0:e.strokeColor)?e.strokeColor:"red",s=(null===e||void 0===e?void 0:e.anchorColor)?e.anchorColor:"#333",c=[];return c.push([a[0][0],r],[a[0][0],o]),Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.c,{x:0,y:0,points:[c[0][0],c[0][1],c[1][0],c[1][1]],stroke:i,strokeWidth:1}),Object(C.jsx)(l.a,{x:a[0][0],y:a[0][1],radius:5,fill:s})]})},zt=function(t){var e=t.style,a=t.pixXy,r=t.pixXstart,o=t.pixXend;if(1!==a.length)return null;var i=(null===e||void 0===e?void 0:e.strokeColor)?e.strokeColor:"red",s=(null===e||void 0===e?void 0:e.anchorColor)?e.anchorColor:"#333",c=[];return c.push([r,a[0][1]],[o,a[0][1]]),Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.c,{x:0,y:0,points:[c[0][0],c[0][1],c[1][0],c[1][1]],stroke:i,strokeWidth:1}),Object(C.jsx)(l.a,{x:a[0][0],y:a[0][1],radius:5,fill:s})]})},Dt=a(355),At=a(165),Xt=a(365),Rt=function(){var t=Object(At.a)({palette:{primary:{main:"#009688"},secondary:{main:"#f50057"},type:"light"}});return t.typography.h1={fontFamily:"'Open Sans', sans-serif, Arial",fontWeight:600,fontSize:"3rem",lineHeight:1.167},t.typography.h2={fontFamily:"'Open Sans', sans-serif, Arial",fontWeight:600,fontSize:"2.5rem",lineHeight:1.167},t.typography.h3={fontFamily:"'Open Sans', sans-serif, Arial",fontWeight:600,fontSize:"2rem",lineHeight:1.167},t.typography.h4={fontFamily:"'Open Sans', sans-serif, Arial",fontWeight:600,fontSize:"1.88rem",lineHeight:1.167},t.typography.h5={fontFamily:"'Open Sans', sans-serif, Arial",fontWeight:600,fontSize:"1.44rem",lineHeight:1.167},t.typography.h6={fontFamily:"'Open Sans', sans-serif, Arial",fontWeight:600,fontSize:"1.25rem",lineHeight:1.167},t.typography.fontFamily="'Quattrocento Sans', sans-serif",t=Object(Xt.a)(t)}(),Et=a(347),Wt=a(364),Ft=a(34),Ut=a(343),Yt=a(361),Lt=a(351),Nt=a(348),Bt=a(344),Gt=a(297),Ht=a(345),Vt=a(346),$t=function(t){var e=t.ChartState,a=t.onNavigate,r=(Object(Ut.a)("(min-width:600px)"),e.yaxis),o=(r.widthYAxis,r.widthTickmarkLines,e.xaxis),i=(o.heightXAxis,o.heightTickMarkLines,e.containerSize.width,e.containerSize.height,e.xaxis.xAxisTicks,Object(Ft.a)());return Object(C.jsx)(n.a.Fragment,{children:Object(C.jsxs)(Bt.a,{children:[Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){null===a||void 0===a||a("chart")},children:[Object(C.jsx)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:i.palette.secondary.main,minWidth:48,height:48},children:Object(C.jsx)(j.a,{path:f.i,size:2,color:i.palette.secondary.contrastText})}),Object(C.jsx)(Vt.a,{primary:"Chart",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){null===a||void 0===a||a("indicators")},children:[Object(C.jsx)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:i.palette.secondary.main,minWidth:48,height:48},children:Object(C.jsx)(j.a,{path:f.h,size:2,color:i.palette.secondary.contrastText})}),Object(C.jsx)(Vt.a,{primary:"Indicators",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){null===a||void 0===a||a("tools")},children:[Object(C.jsx)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:i.palette.secondary.main,minWidth:48,height:48},children:Object(C.jsx)(j.a,{path:f.z,size:2,color:i.palette.secondary.contrastText})}),Object(C.jsx)(Vt.a,{primary:"Tools",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){null===a||void 0===a||a("settings")},children:[Object(C.jsx)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:i.palette.secondary.main,minWidth:48,height:48},children:Object(C.jsx)(j.a,{path:f.F,size:2,color:i.palette.secondary.contrastText})}),Object(C.jsx)(Vt.a,{primary:"Settings",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){null===a||void 0===a||a("quickys")},children:[Object(C.jsx)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:i.palette.secondary.main,minWidth:48,height:48},children:Object(C.jsx)(j.a,{path:f.E,size:2,color:i.palette.secondary.contrastText})}),Object(C.jsx)(Vt.a,{primary:"Quick Tasks",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]})]})})},qt=a(366),_t=a(352),Qt=a(353),Jt={indicatorFn:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=t.map((function(e,r){if(r<a-1)return{prices:[null],date:e.date};var n=0;return t.slice(r-a+1,r+1).forEach((function(t){g(t)?n+=t.close:O(t)&&(n+=t.prices[0]?t.prices[0]:0)})),{prices:[n/a],date:e.date}}))||[];return r},name:"SMA",params:[{name:"period",val:10}],default:{params:[{name:"period",val:10}],newSubchart:!1},type:"line"},Kt=function(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=[],n=0;n<t.length;n++)if(n<a-1)r.push({prices:[null],date:t[n].date});else if(n===a-1){for(var o=0,i=0;i<a;i++){var s=t[i],l=g(s)?s.close:O(s)&&s.prices[0]||0;o+=l}o/=a,r.push({prices:[o],date:t[n].date})}else{var c=2/(a+1),d=t[n],u=g(d)?d.close:O(d)&&d.prices[0]||0,h=(u-r[n-1].prices[0])*c+r[n-1].prices[0];r.push({prices:[h],date:t[n].date})}return r},Zt={indicatorFn:Kt,name:"EMA",params:[{name:"period",val:10}],default:{params:[{name:"period",val:10}],newSubchart:!1},type:"line"},te={indicatorFn:function(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=[],n=0;n<t.length;n++)if(n<a)r.push({prices:[null],date:t[n].date});else{for(var o=0,i=n-a+1;i<=n;i++){var s=t[i],l=t[i-1],c=0;if(y(s)&&y(l)){var d=s.high-s.low,u=Math.abs(s.high-l.close),h=Math.abs(s.low-l.close);c=Math.max(d,u,h)}else Math.abs(s.close-l.close);o+=c}r.push({prices:[o/a],date:t[n].date})}return r},name:"ATR",params:[{name:"period",val:14}],default:{params:[{name:"period",val:14}],newSubchart:!0},type:"line"},ee={indicatorFn:function(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=[],n=null,o=0;o<t.length;o++)if(!(o<a&&(r.push({prices:[null],date:t[o].date}),0===o))){var i=t[o],s=t[o-1],l=i.close-s.close,c=l>0?l:0,d=l<0?-l:0,u=1/a;if(1===o&&(n={lastUpEma:c,lastDwnEma:d}),n&&!(o<a)){var h=c*u+(1-u)*n.lastUpEma;n.lastUpEma=h;var p=d*u+(1-u)*n.lastDwnEma;n.lastDwnEma=p;var b=0===p?100:100-100/(1+h/p);o<a?r.push({prices:[null],date:t[o].date}):r.push({prices:[b],date:t[o].date})}}return r},name:"RSI",params:[{name:"period",val:14}],default:{params:[{name:"period",val:14}],newSubchart:!0,decimals:2,fixedYScale:[0,100]},type:"line"},ae={name:"OBV",type:"line",params:[],default:{params:[],newSubchart:!0,decimals:0},indicatorFn:function(t){for(var e=[],a=0;a<t.length;a++){var r=t[a];if(0===a&&v(r))e.push({prices:[r.volume],date:r.date});else{var n=t[a-1];if(v(r)&&v(n)){var o=r.volume+n.volume;e.push({prices:[o],date:t[a].date})}else e.push({prices:[null],date:t[a].date})}}return e}},re={indicatorFn:function(t){for(var e=[],a=0;a<t.length;a++){var r=t[a];v(r)?e.push({prices:[r.volume],date:r.date}):e.push({prices:[0],date:r.date})}return e},name:"Volume",params:[],default:{params:[],newSubchart:!0,decimals:0},type:"bars"},ne={indicatorFn:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:26,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:9,o=Kt(t,e,a),i=Kt(t,e,r),s=o.map((function(e,a){var r=i[a].prices[0],n=e.prices[0];return{prices:[null===n||null===r?null:n-r],date:t[a].date,priceLabels:["EMA"]}})),l=Kt(s,e,n),c=s.map((function(t,e){var a=t.prices[0],r=l[e].prices[0],n=null===a||null===r?null:a-r;return Object(E.a)(Object(E.a)({},t),{},{prices:[a,r,n]})}));return c},name:"MACD",params:[{name:"period short",val:12},{name:"period long",val:26},{name:"signal period",val:9}],default:{params:[{name:"period short",val:12},{name:"period long",val:26},{name:"signal period",val:9}],newSubchart:!0},type:"line"},oe=a(357),ie=a(367),se=Object(Et.a)((function(t){return Object(Wt.a)({root:{color:t.palette.text.secondary,"&:hover > $content":{backgroundColor:t.palette.action.hover},"&:focus > $content, &$selected > $content":{backgroundColor:"var(--tree-view-bg-color, ".concat(t.palette.grey[400],")"),color:"var(--tree-view-color)"},"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label":{backgroundColor:"transparent"}},content:{color:t.palette.text.secondary,borderTopRightRadius:t.spacing(2),borderBottomRightRadius:t.spacing(2),paddingRight:t.spacing(1),fontWeight:t.typography.fontWeightMedium,"$expanded > &":{fontWeight:t.typography.fontWeightRegular},width:"auto"},group:{marginLeft:0,"& $content":{paddingLeft:t.spacing(2)}},expanded:{},selected:{},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:t.spacing(1,0)},labelRootBtn:{width:"max-content"},btnLabel:{padding:0},labelIcon:{marginRight:t.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1}})})),le=function(t){var e=se(),a=t.labelText,r=t.labelIcon,n=t.labelInfo,o=t.color,i=t.bgColor,s=t.onLabelClick,l=t.onIconClick,c=t.labelTypographyVariant,d=t.infoTypographyVariant,u=t.labelTypographyColor,h=t.infoTypographyColor,p=Object(R.a)(t,["labelText","labelIcon","labelInfo","color","bgColor","onLabelClick","onIconClick","labelTypographyVariant","infoTypographyVariant","labelTypographyColor","infoTypographyColor"]);return Object(C.jsx)(ie.a,Object(E.a)({onLabelClick:s,onIconClick:l,label:Object(C.jsxs)("div",{className:e.labelRoot,children:[r,Object(C.jsx)(x.a,{variant:null!==c&&void 0!==c?c:"body1",className:e.labelText,color:null!==u&&void 0!==u?u:"initial",children:a}),Object(C.jsx)(x.a,{variant:null!==d&&void 0!==d?d:"caption",color:null!==h&&void 0!==h?h:"initial",children:n})]}),style:{"--tree-view-color":o,"--tree-view-bg-color":i},classes:{root:e.root,content:e.content,expanded:e.expanded,selected:e.selected,group:e.group,label:e.label}},p))},ce=a(349),de=a(368),ue=["0, 0, 0","102, 102, 102","187, 187, 187","255, 255, 255","144, 19, 254","189, 16, 224","63, 81, 181","6, 147, 227","142, 209, 252","0, 128, 128","0, 208, 132","123, 220, 181","184, 0, 0","245, 0, 87","247, 141, 167","121, 85, 72","255, 105, 0","252, 185, 0"],he=function(t){var e=t.color,a=t.width,r=void 0===a?15:a,n=t.height,o=void 0===n?15:n,i=t.container,s=void 0===i?{}:i;return Object(C.jsx)("div",{style:Object(E.a)({width:24,height:24,boxSizing:"border-box",padding:4},s),children:Object(C.jsx)("div",{style:{border:"2px solid #000",width:r,height:o,borderRadius:3,boxSizing:"border-box",background:e}})})},pe=function(t){var e=t.color,a=t.onColorSelected,r=n.a.useState(!1),o=Object(s.a)(r,2),i=o[0],l=o[1],c=n.a.useState(null),d=Object(s.a)(c,2),u=d[0],h=d[1],p=n.a.useRef(null),f=/((^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$))/i.test(e),m=f&&"string"===typeof e?D(e):null,j="string"===typeof e?e.match(/^(rgb)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/):null,y=!!j&&2 in j&&"a"===j[2],g=j&&3 in j&&4 in j&&5 in j?[parseFloat(j[3]),parseFloat(j[4]),parseFloat(j[5])]:f&&m?[m.r,m.g,m.b]:[];if(0===g.length){var v=e in z?D(z.name):null;v&&g.push(v.r,v.g,v.b)}var O=y&&j&&6 in j?100*parseFloat(j[6]):100,k=n.a.useState(O),S=Object(s.a)(k,2),T=S[0],w=S[1];return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(Nt.a,{color:"primary",style:{padding:0},onClick:function(){l(!0)},ref:p,children:Object(C.jsx)(he,{color:e})}),Object(C.jsxs)(ce.a,{id:"id",open:i,anchorEl:p.current,onClose:function(){l(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},style:{width:300},children:[Object(C.jsxs)(Lt.a,{container:!0,alignContent:"center",alignItems:"center",justify:"space-evenly",spacing:1,style:{margin:"10px 15px 10px 15px",width:250},children:[ue.map((function(t,e){return Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(Nt.a,{color:"default",style:{padding:0},onMouseOver:function(t){h("rgba(".concat(ue[e],",").concat(T,")"))},onMouseLeave:function(){h(null)},onClick:function(){a("rgba("+ue[e]+","+T/100+")")},children:Object(C.jsx)(he,{color:"rgba("+t+",1)",width:24,height:24,container:{width:"auto",height:"auto"}})})},e)})),Object(C.jsx)(Lt.a,{item:!0,xs:3,children:Object(C.jsx)(x.a,{children:"Alpha"})}),Object(C.jsx)(Lt.a,{item:!0,xs:6,style:{padding:"0px 10px"},children:Object(C.jsx)(de.a,{value:T,onChange:function(t,e){w(Array.isArray(e)?e[0]:e),a("rgba(".concat(g[0],",").concat(g[1],",").concat(g[2],",").concat((Array.isArray(e)?e[0]:e)/100,")"))}})}),Object(C.jsx)(Lt.a,{item:!0,xs:3,children:Object(C.jsx)(oe.a,{margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:"5px 5px 5px 10px"}},value:T,onChange:function(t){var e=parseInt(t.target.value,10);isNaN(e)&&(e=0),e<0||e>100||(w(e),a("rgba(".concat(g[0],",").concat(g[1],",").concat(g[2],",").concat(e/100,")")))}})})]}),Object(C.jsxs)("div",{style:{background:"#bbb",borderTop:"1px solid #666"},children:[Object(C.jsxs)(Lt.a,{container:!0,alignItems:"center",alignContent:"center",justify:"center",style:{paddingBottom:5,margin:"10px 15px 0px 15px",width:250},children:[Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(x.a,{component:"div",align:"center",children:"R"})}),Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(x.a,{component:"div",align:"center",children:"G"})}),Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(x.a,{component:"div",align:"center",children:"B"})}),Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(x.a,{component:"div",align:"center",children:"A"})}),Object(C.jsx)(Lt.a,{item:!0,xs:2}),Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(he,{color:u||e,width:24,height:24,container:{width:"auto",height:"auto"}})})]}),Object(C.jsxs)(Lt.a,{container:!0,alignItems:"center",alignContent:"center",justify:"center",style:{paddingBottom:15,paddingLeft:"15px"},children:[Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(oe.a,{value:g?g[0]:e,margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:5,background:"rgba(184, 0, 0, ".concat(T/100,")")}}})}),Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(oe.a,{value:g?g[1]:e,margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:5,background:"rgba(0, 208, 132, ".concat(T/100,")")}},fullWidth:!0})}),Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(oe.a,{value:g?g[2]:e,margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:5,background:"rgba(6, 147, 227, ".concat(T/100,")")}}})}),Object(C.jsx)(Lt.a,{item:!0,xs:2,children:Object(C.jsx)(oe.a,{value:T,margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:5,background:"#bbb"}}})}),Object(C.jsx)(Lt.a,{item:!0,xs:1}),Object(C.jsx)(Lt.a,{item:!0,xs:3,children:Object(C.jsx)("div",{style:{textAlign:"center",margin:"0px auto"},children:Object(C.jsx)(b.a,{color:"primary",variant:"outlined",size:"small",style:{minWidth:0},onClick:function(){return l(!1)},children:"OK"})})})]})]})]})]})},be=function(t,e){return t.default.newSubchart?function(){e.methods.addSubchart(e.subCharts[0].yaxis[0].graphs[0].data,e.subCharts[0].yaxis[0].graphs[0].name,t)}:function(){e.methods.addGraph(e.subCharts[0].yaxis[0].graphs[0].data,e.subCharts[0].yaxis[0].graphs[0].name,0,t)}},xe=function(t){var e,a,r=t.subchartIdx,n=t.yaxisIdx,o=t.graphIdx,i=t.ChartState,s=t.ChartStateDispatch,l=i.subCharts[r].yaxis[n].graphs[o],d=c(l)?l:null,u=Object(Ft.a)();return d?Object(C.jsxs)(le,{nodeId:"graph-sub-".concat(r,"-y-").concat(n,"-graph-").concat(o),labelText:d.name,bgColor:"#eee",labelIcon:Object(C.jsx)("div",{style:{background:u.palette.primary.main,width:32,height:32,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(C.jsx)(m.Icon,{path:f.h,size:"32px",color:u.palette.secondary.contrastText})}),labelInfo:0!==r||0!==o?Object(C.jsx)(Nt.a,{size:"small",onClick:function(t){t.preventDefault(),s({task:"removeGraph",params:{subchartIdx:r,yaxisIdx:0,graphIdx:o}})},children:Object(C.jsx)(m.Icon,{path:f.j,size:1,color:"#333"})}):void 0,children:[Object(C.jsx)(le,{nodeId:(1e3*r+100*n+o).toString(),labelText:"line stroke color",labelIcon:Object(C.jsx)(m.Icon,{path:f.d,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:null===(e=i.subCharts[r].yaxis[0].graphs[o].style)||void 0===e||null===(a=e.strokeColor)||void 0===a?void 0:a[0],onColorSelected:function(t){s({task:"setLineChartStrokeColor",params:{color:t,subchartIdx:r,yaxisIdx:0,graphIdx:o}})}})},1e3*r+100*n+o),d.indicator.params.map((function(t,e){return Object(C.jsx)(le,{nodeId:"".concat(2+r,"00-").concat(o,"-").concat(e),labelText:t.name,labelIcon:Object(C.jsx)(m.Icon,{path:f.t,size:1,color:"#333"}),labelInfo:Object(C.jsx)(oe.a,{variant:"outlined",margin:"none",size:"small",inputProps:{style:{padding:5,width:50}},defaultValue:t.val,onChange:function(t){var a=parseFloat(t.target.value);isNaN(a)||s({task:"setIndicatorParam",params:{val:a,subchartIdx:r,yaxisIdx:0,graphIdx:o,paramIdx:e}})}})})}))]},"graph-sub-".concat(r,"-y-").concat(n,"-graph-").concat(o)):null},fe=function(t){var e=t.ChartState,a=t.onNavigate,r=t.open,o=t.ChartStateDispatch,i=Object(Ft.a)(),l=n.a.useState(!0),d=Object(s.a)(l,2),u=d[0],h=d[1],p=[{name:"Average",icon:f.k},{name:"Oszillator",icon:f.h},{name:"Volatility",icon:f.a},{name:"Volume",icon:f.A}],b=[{name:"SMA",indicator:Jt,category:"Average"},{name:"EMA",indicator:Zt,category:"Average"},{name:"RSI",indicator:ee,category:"Oszillator"},{name:"MACD",indicator:ne,category:"Oszillator"},{name:"ATR",indicator:te,category:"Volatility"},{name:"Volume",indicator:re,category:"Volume"},{name:"OBV",indicator:ae,category:"Volume"}],j=e.subCharts.map((function(t,e){return t.yaxis.map((function(t,e){return t.graphs.filter((function(t){return"indicator"===t.type})).length}))})).flat().reduce((function(t,e){return t+e}));return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsxs)("div",{style:{position:"absolute",right:24,zIndex:2},children:[j>0?Object(C.jsx)("div",{style:{paddingBottom:5},children:Object(C.jsxs)(qt.a,{value:"web",exclusive:!0,style:{borderRadius:500},size:"small",children:[Object(C.jsx)(_t.a,{style:{borderBottomLeftRadius:50,textTransform:"none",borderTopLeftRadius:50,background:"indicators"===r?i.palette.secondary.light:"#fff"},onClick:function(){null===a||void 0===a||a("indicators")},children:Object(C.jsx)(x.a,{children:" Add"})}),Object(C.jsx)(_t.a,{value:"android",style:{borderBottomRightRadius:50,borderTopRightRadius:50,background:"editIndicator"===r?i.palette.secondary.light:"#fff"},onClick:function(){null===a||void 0===a||a("editIndicator")},children:"Edit"})]})}):null,Object(C.jsxs)("div",{style:{background:i.palette.secondary.light,border:"1px solid #666",borderRadius:50,padding:5},children:[Object(C.jsx)(Nt.a,{size:"small",style:{border:"1px solid #fff",margin:"0px 5px"},onClick:function(){return alert("upcoming")},children:Object(C.jsx)(m.Icon,{path:f.u,size:1,color:i.palette.primary.contrastText})}),Object(C.jsx)(Nt.a,{size:"small",style:{border:"1px solid #fff",margin:"0px 5px 0px 0px"},onClick:function(){return h((function(t){return!t}))},children:Object(C.jsx)(m.Icon,{path:u?f.D:f.n,size:1,color:i.palette.primary.contrastText})})]})]}),Object(C.jsx)(Qt.a,{defaultCollapseIcon:Object(C.jsx)(m.Icon,{path:f.w,size:1,color:"#333"}),defaultExpandIcon:Object(C.jsx)(m.Icon,{path:f.x,size:1,color:"#333"}),defaultEndIcon:Object(C.jsx)("div",{style:{width:24}}),disableSelection:!0,children:"editIndicator"===r?e.subCharts.map((function(t,a){return t.yaxis.map((function(t,r){return t.graphs.map((function(t,n){return c(t)?Object(C.jsx)(xe,{ChartState:e,ChartStateDispatch:o,subchartIdx:a,yaxisIdx:r,graphIdx:n},"editIndicator-sub-".concat(a,"-yaxis-").concat(r,"-graph-").concat(n)):null}))}))})):u?p.map((function(t,a){return Object(C.jsx)(le,{nodeId:a.toString(),labelText:t.name,labelIcon:Object(C.jsx)("div",{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:i.palette.secondary.main,minWidth:48,height:48},children:Object(C.jsx)(m.Icon,{path:t.icon,size:2,color:i.palette.secondary.contrastText})}),bgColor:i.palette.primary.light,children:b.filter((function(e){return e.category===t.name})).sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,r){return Object(C.jsx)(le,{nodeId:(100*(a+1)+(r+1)).toString(),labelText:t.name,bgColor:i.palette.primary.light,onLabelClick:be(t.indicator,e)},"cat-".concat(a,"-indi-").concat(r))}))},"cat-".concat(a))})):b.sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,a){return Object(C.jsx)(le,{nodeId:(a+1).toString(),labelText:t.name,bgColor:i.palette.primary.light,onLabelClick:be(t.indicator,e)},"cat-indi-".concat(a))}))})]})},me=function(t,e){t({task:"draw",params:{type:e,subchartIdx:0}})},je=function(t){var e,a,r,n,o,i=t.subchartIdx,s=t.yaxisIdx,l=t.toolIdx,c=t.ChartState,d=t.ChartStateDispatch,u=null===(e=c.subCharts)||void 0===e||null===(a=e[i])||void 0===a||null===(r=a.yaxis)||void 0===r||null===(n=r[s])||void 0===n||null===(o=n.tools)||void 0===o?void 0:o[l],h=u||null;return h?Object(C.jsxs)(le,{nodeId:"tool-".concat(i,"-").concat(l),labelText:"hline"===h.type?"horizontal line":"vline"===h.type?"vertical line":"trendline"===h.type?"Trendline":"Tool",labelIcon:Object(C.jsx)(m.Icon,{path:"hline"===h.type||"vline"===h.type||"trendline"===h.type?f.y:f.r,size:1,color:"#333",rotate:"trendline"===h.type?-45:"vline"===h.type?90:0}),children:["hline"===h.type?Object(C.jsx)(le,{nodeId:"tool-".concat(i,"-y0-").concat(l,"-hlinelevel"),labelText:"Y-Level",labelIcon:Object(C.jsx)(m.Icon,{path:f.c,size:1,color:"#333"}),labelInfo:Object(C.jsx)(oe.a,{variant:"outlined",margin:"none",size:"small",inputProps:{style:{padding:5,width:50}},defaultValue:h.xy[0][1],onChange:function(t){var e=parseFloat(t.target.value);isNaN(e)||d({task:"setHlineYlevel",params:{val:e,subchartIdx:i,yaxisIdx:0,toolIdx:l}})}})},"tool-".concat(i,"-y0-").concat(l,"-hlinelevel")):null,Object(C.jsx)(le,{nodeId:"tool-".concat(i,"-").concat(l,"-stroke"),labelText:"stroke color",labelIcon:Object(C.jsx)(m.Icon,{path:f.d,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:h.style.strokeColor,onColorSelected:function(t){d({task:"setToolStrokeColor",params:{color:t,subchartIdx:i,yaxisIdx:0,toolIdx:l}})}})},"tool-".concat(i,"-").concat(l,"-stroke")),Object(C.jsx)(le,{nodeId:"tool-".concat(i,"-").concat(l,"-anchorColor"),labelText:"anchor color",labelIcon:Object(C.jsx)(m.Icon,{path:f.f,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:h.style.anchorColor,onColorSelected:function(t){d({task:"setToolAnchorColor",params:{color:t,subchartIdx:i,yaxisIdx:0,toolIdx:l}})}})},"tool-".concat(i,"-").concat(l,"-anchorColor"))]},"tool-".concat(l)):null},ye=function(t){var e=t.ChartState,a=t.onNavigate,r=t.ChartStateDispatch,o=t.open,i=Object(Ft.a)(),l=n.a.useState(!0),c=Object(s.a)(l,2),d=c[0],u=c[1],h=[{name:"Lines",icon:f.B},{name:"Upcoming",icon:f.C}],p=[{name:"trendline",type:"trendline",category:"Lines"},{name:"horizontal",type:"hline",category:"Lines"},{name:"vertical",type:"vline",category:"Lines"}],b=e.subCharts.map((function(t){return t.yaxis.map((function(t){return t.tools.length}))})).flat().reduce((function(t,e){return t+e}));return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsxs)("div",{style:{position:"absolute",right:24,zIndex:2},children:[b>0?Object(C.jsx)("div",{style:{paddingBottom:5},children:Object(C.jsxs)(qt.a,{value:"web",exclusive:!0,style:{borderRadius:500},size:"small",children:[Object(C.jsx)(_t.a,{style:{borderBottomLeftRadius:50,textTransform:"none",borderTopLeftRadius:50,background:"tools"===o?i.palette.secondary.light:"#fff"},onClick:function(){null===a||void 0===a||a("tools")},children:Object(C.jsx)(x.a,{children:" Add"})}),Object(C.jsx)(_t.a,{value:"android",style:{borderBottomRightRadius:50,borderTopRightRadius:50,background:"editTool"===o?i.palette.secondary.light:"#fff"},onClick:function(){null===a||void 0===a||a("editTool")},children:"Edit"})]})}):null,Object(C.jsxs)("div",{style:{background:i.palette.secondary.light,border:"1px solid #666",borderRadius:50,padding:5},children:[Object(C.jsx)(Nt.a,{size:"small",style:{border:"1px solid #fff",margin:"0px 5px"},onClick:function(){return alert("upcoming")},children:Object(C.jsx)(m.Icon,{path:f.u,size:1,color:i.palette.primary.contrastText})}),Object(C.jsx)(Nt.a,{size:"small",style:{border:"1px solid #fff",margin:"0px 5px 0px 0px"},onClick:function(){return u((function(t){return!t}))},children:Object(C.jsx)(m.Icon,{path:d?f.D:f.n,size:1,color:i.palette.primary.contrastText})})]})]}),Object(C.jsx)(Qt.a,{defaultCollapseIcon:Object(C.jsx)(m.Icon,{path:f.w,size:1,color:"#333"}),defaultExpandIcon:Object(C.jsx)(m.Icon,{path:f.x,size:1,color:"#333"}),defaultEndIcon:Object(C.jsx)("div",{style:{width:24}}),disableSelection:!0,children:"editTool"===o?e.subCharts.map((function(t,a){return t.yaxis.map((function(t,n){return t.tools.map((function(t,o){return Object(C.jsx)(je,{ChartState:e,ChartStateDispatch:r,subchartIdx:a,yaxisIdx:n,toolIdx:o},"editIndicator-sub-".concat(a,"-yaxis-").concat(n,"-graph-").concat(o))}))}))})):d?h.map((function(t,e){return Object(C.jsx)(le,{nodeId:e.toString(),labelText:t.name,labelIcon:Object(C.jsx)("div",{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:i.palette.secondary.main,minWidth:48,height:48},children:Object(C.jsx)(m.Icon,{path:t.icon,size:2,color:i.palette.secondary.contrastText})}),bgColor:i.palette.primary.light,children:p.filter((function(e){return e.category===t.name})).sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,n){return Object(C.jsx)(le,{nodeId:(100*(e+1)+(n+1)).toString(),labelText:t.name,bgColor:i.palette.primary.light,onLabelClick:function(){me(r,t.type),null===a||void 0===a||a(null)}},"cat-".concat(e,"-tool-").concat(n))}))},"cat-".concat(e))})):p.sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,e){return Object(C.jsx)(le,{nodeId:(e+1).toString(),labelText:t.name,bgColor:i.palette.primary.light,onLabelClick:function(){me(r,t.type),null===a||void 0===a||a(null)}},"cat-tool-".concat(e))}))})]})},ge=a(166),ve=a(354),Oe=a(359),Ce=function(t){var e=t.ChartState,a=t.onNavigate,r=t.ChartStateDispatch,o=Object(Ft.a)(),i=n.a.useState(!1),l=Object(s.a)(i,2),u=(l[0],l[1],n.a.useState(null)),h=Object(s.a)(u,2),p=h[0],j=h[1],y=function(t){j(null),t&&(null===a||void 0===a||a(t))};return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)("div",{style:{position:"absolute",right:24,zIndex:2},children:Object(C.jsxs)("div",{style:{paddingBottom:5},children:[Object(C.jsx)(b.a,{style:{border:"1px solid #666",borderRadius:50,padding:5,textTransform:"none",background:o.palette.secondary.light,width:"100%",color:o.palette.secondary.contrastText},onClick:function(t){j(t.currentTarget)},children:Object(C.jsx)(x.a,{children:" Add..."})}),Object(C.jsxs)(ge.a,{id:"quick-add",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:function(){return y(void 0)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(C.jsx)(ve.a,{onClick:function(){return y("indicators")},children:"Indicator"}),Object(C.jsx)(ve.a,{onClick:function(){return y("tools")},children:"Tool"})]})]})}),Object(C.jsxs)(Qt.a,{defaultCollapseIcon:Object(C.jsx)(m.Icon,{path:f.w,size:1,color:"#333"}),defaultExpandIcon:Object(C.jsx)(m.Icon,{path:f.x,size:1,color:"#333"}),defaultEndIcon:Object(C.jsx)("div",{style:{width:24}}),disableSelection:!0,children:[Object(C.jsxs)(le,{nodeId:"1",labelText:"General",labelIcon:Object(C.jsx)("div",{style:{background:o.palette.secondary.main,width:48,height:48,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(C.jsx)(m.Icon,{path:f.l,size:2,color:o.palette.secondary.contrastText})}),bgColor:o.palette.primary.light,labelTypographyVariant:"h6",children:[Object(C.jsx)(le,{nodeId:"11",labelText:"background color",labelIcon:Object(C.jsx)(m.Icon,{path:f.G,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:e.backgroundColor,onColorSelected:function(t){r({task:"setBackgroundColor",params:{color:t}})}}),bgColor:"#eee"}),Object(C.jsx)(le,{nodeId:"12",labelText:"axis fill color",labelIcon:Object(C.jsx)(m.Icon,{path:f.G,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:e.xaxis.style.fillColor,onColorSelected:function(t){r({task:"setAxisFillColor",params:{color:t}})}}),bgColor:"#eee"}),Object(C.jsx)(le,{nodeId:"13",labelText:"axis stroke color",labelIcon:Object(C.jsx)(m.Icon,{path:f.d,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:e.xaxis.style.strokeColor,onColorSelected:function(t){r({task:"setAxisStrokeColor",params:{color:t}})}}),bgColor:"#eee"}),Object(C.jsx)(le,{nodeId:"14",labelText:"axis text color",labelIcon:Object(C.jsx)(m.Icon,{path:f.o,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:e.xaxis.style.fontColor,onColorSelected:function(t){r({task:"setAxisTextColor",params:{color:t}})}}),color:"#3c8039",bgColor:"#eee"}),Object(C.jsx)(le,{nodeId:"15",labelText:"use x-axis grid",labelIcon:Object(C.jsx)(m.Icon,{path:f.q,size:1,color:"#333"}),labelInfo:Object(C.jsx)(Oe.a,{checked:e.grid.useGridX,size:"small",style:{padding:0,width:24,height:24},onChange:function(){r({task:"toggleXaxisGrid",params:{}})}}),color:"#3c8039",bgColor:"#eee"}),Object(C.jsx)(le,{nodeId:"16",labelText:"use y-axis grid",labelIcon:Object(C.jsx)(m.Icon,{path:f.q,size:1,color:"#333"}),labelInfo:Object(C.jsx)(Oe.a,{checked:e.grid.useGridY,size:"small",style:{padding:0,width:24,height:24},onChange:function(){r({task:"toggleYaxisGrid",params:{}})}}),color:"#3c8039",bgColor:"#eee"}),Object(C.jsx)(le,{nodeId:"17",labelText:"grid stroke color",labelIcon:Object(C.jsx)(m.Icon,{path:f.d,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:e.grid.style.strokeColor,onColorSelected:function(t){r({task:"setGridStrokeColor",params:{color:t}})}}),color:"#3c8039",bgColor:"#eee"})]}),e.subCharts.map((function(t,a){return Object(C.jsxs)(le,{labelTypographyVariant:"h6",nodeId:"sub-".concat(2+a),labelText:0===a?"Mainchart":"Subchart ".concat(a),bgColor:o.palette.primary.light,labelIcon:Object(C.jsx)("div",{style:{background:o.palette.secondary.main,width:48,height:48,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(C.jsx)(m.Icon,{path:f.g,size:2,color:o.palette.secondary.contrastText})}),labelInfo:0!==a?Object(C.jsx)(Nt.a,{size:"small",onClick:function(t){t.preventDefault(),r({task:"removeSubchart",params:{subchartIdx:a}})},children:Object(C.jsx)(m.Icon,{path:f.j,size:1,color:"#333"})}):void 0,children:[t.yaxis[0].graphs.map((function(t,i){var s,l;return c(t)?Object(C.jsx)(xe,{ChartState:e,ChartStateDispatch:r,subchartIdx:a,yaxisIdx:0,graphIdx:i},"editIndicator-sub-".concat(a,"-yaxis-",0,"-graph-").concat(i)):d(t)?Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(le,{nodeId:"graph-sub-".concat(a,"-yaxis-",0,"-graph-").concat(i),labelText:t.name,bgColor:"#eee",labelIcon:Object(C.jsx)("div",{style:{background:o.palette.primary.main,width:32,height:32,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(C.jsx)(m.Icon,{path:f.i,size:"32px",color:o.palette.secondary.contrastText})}),labelInfo:0!==a||0!==i?Object(C.jsx)(Nt.a,{size:"small",onClick:function(t){t.preventDefault(),r({task:"removeGraph",params:{subchartIdx:a,yaxisIdx:0,graphIdx:i}})},children:Object(C.jsx)(m.Icon,{path:f.j,size:1,color:"#333"})}):void 0,children:"linechart"===t.meta.type?Object(C.jsx)(le,{nodeId:"".concat(2+a,"00-").concat(i),labelText:"line stroke color",labelIcon:Object(C.jsx)(m.Icon,{path:f.d,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:null===(s=e.subCharts[a].yaxis[0].graphs[i].style)||void 0===s||null===(l=s.strokeColor)||void 0===l?void 0:l[0],onColorSelected:function(t){r({task:"setLineChartStrokeColor",params:{color:t,subchartIdx:a,yaxisIdx:0,graphIdx:i}})}})}):"candlechart"===t.meta.type?Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(le,{nodeId:"".concat(2+a,"00-").concat(i),labelText:"candle up color",labelIcon:Object(C.jsx)(m.Icon,{path:f.d,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:t.style.candleUpColor,onColorSelected:function(t){r({task:"setCandleChartUpColor",params:{color:t,subchartIdx:a,yaxisIdx:0,graphIdx:i}})}})}),Object(C.jsx)(le,{nodeId:"".concat(2+a,"00-").concat(i),labelText:"candle down color",labelIcon:Object(C.jsx)(m.Icon,{path:f.d,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:t.style.candleDownColor,onColorSelected:function(t){r({task:"setCandleChartDownColor",params:{color:t,subchartIdx:a,yaxisIdx:0,graphIdx:i}})}})}),Object(C.jsx)(le,{nodeId:"".concat(2+a,"00-").concat(i),labelText:"candle stroke color",labelIcon:Object(C.jsx)(m.Icon,{path:f.d,size:1,color:"#333"}),labelInfo:Object(C.jsx)(pe,{color:t.style.candleStrokeColor,onColorSelected:function(t){r({task:"setCandleChartStrokeColor",params:{color:t,subchartIdx:a,yaxisIdx:0,graphIdx:i}})}})})]}):null},"graph-sub-".concat(a,"-yaxis-",0,"-graph-").concat(i))}):null})),t.yaxis[0].tools.length>0?Object(C.jsx)(le,{nodeId:"tools-".concat(a,"-y0"),labelIcon:Object(C.jsx)("div",{style:{background:o.palette.primary.main,width:32,height:32,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(C.jsx)(m.Icon,{path:f.z,size:"32px",color:o.palette.secondary.contrastText})}),labelText:"Tools",bgColor:"#eee",children:t.yaxis[0].tools.map((function(t,n){return Object(C.jsx)(je,{ChartState:e,ChartStateDispatch:r,subchartIdx:a,yaxisIdx:0,toolIdx:n},"editIndicator-sub-".concat(a,"-yaxis-",0,"-tool-").concat(n))}))},"tools-".concat(a,"-y0")):null]},"sub-".concat(a))}))]})]})},ke=function(t){t.ChartState,t.onNavigate;var e=t.ChartStateDispatch,a=(Object(Ut.a)("(min-width:600px)"),Object(Ft.a)());return Object(C.jsx)(n.a.Fragment,{children:Object(C.jsxs)(Bt.a,{children:[Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){e({task:"clearChart",params:{mode:"indicators"}})},children:[Object(C.jsxs)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:a.palette.secondary.main,minWidth:48,height:48,position:"relative",top:0},children:[Object(C.jsx)(j.a,{path:f.e,size:2,color:a.palette.secondary.contrastText,style:{position:"absolute",top:0,left:0},rotate:5}),Object(C.jsx)(j.a,{path:f.h,size:.8,color:"#fff",style:{position:"absolute",bottom:0,right:0}})]}),Object(C.jsx)(Vt.a,{primary:"Clear All Indicators",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){e({task:"clearChart",params:{mode:"tools"}})},children:[Object(C.jsxs)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:a.palette.secondary.main,minWidth:48,height:48,position:"relative",top:0},children:[Object(C.jsx)(j.a,{path:f.e,size:2,color:a.palette.secondary.contrastText,style:{position:"absolute",top:0,left:0},rotate:5}),Object(C.jsx)(j.a,{path:f.z,size:.7,color:"#fff",style:{position:"absolute",bottom:1,right:1}})]}),Object(C.jsx)(Vt.a,{primary:"Clear All Tools",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){},children:[Object(C.jsx)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:a.palette.secondary.main,width:48,height:48},children:Object(C.jsx)(j.a,{path:f.F,size:2,color:a.palette.secondary.contrastText})}),Object(C.jsx)(Vt.a,{primary:"Autoscale Y axis (mode to disable upcoming)",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]})]})})},Se=a(53),Te=a.n(Se),we=a(103),Ie=a(363),Pe=a(362),Me=a(358);function ze(t){return Object(C.jsx)(Me.a,Object(E.a)({elevation:6,variant:"filled"},t))}var De=function(t){var e=t.open,a=t.onClose,r=t.content,n=function(t,e){"clickaway"!==e&&(null===a||void 0===a||a())};return Object(C.jsx)(Pe.a,{open:e,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(C.jsx)(ze,{onClose:n,severity:"error",children:r})})},Ae=a(148),Xe=Object(Et.a)({popper:{zIndex:1800},tooltip:{background:"rgba(205, 205, 205, 0.95)"}});function Re(t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(we.a)(Te.a.mark((function t(e){var a;return Te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.text().then((function(t){var e,a,r,n,o,i,s,l,c,d,u=[{chars:"\n",amt:null!==(e=null===(a=t.match(/\n/gm))||void 0===a?void 0:a.length)&&void 0!==e?e:0},{chars:"\r",amt:null!==(r=null===(n=t.match(/\r/gm))||void 0===n?void 0:n.length)&&void 0!==r?r:0},{chars:"\r\n",amt:null!==(o=null===(i=t.match(/\r\n/gm))||void 0===i?void 0:i.length)&&void 0!==o?o:0}],h=u.map((function(t){return t.amt})),p=u[h.indexOf(Math.max.apply(Math,Object(w.a)(h)))].chars,b=t.split(p),x=[{chars:",",amt:null!==(s=null===(l=b[0].match(/,/gm))||void 0===l?void 0:l.length)&&void 0!==s?s:0},{chars:";",amt:null!==(c=null===(d=b[0].match(/;/gm))||void 0===d?void 0:d.length)&&void 0!==c?c:0}],f=x.map((function(t){return t.amt})),m=x[f.indexOf(Math.max.apply(Math,Object(w.a)(f)))].chars,j={dots:0,commas:0};b.forEach((function(t){t.split(m).forEach((function(t){var e=t.lastIndexOf("."),a=t.lastIndexOf(",");-1!==e&&-1!==a?e>a?j.dots++:j.commas++:-1!==e&&-1===a?j.dots++:-1===e&&-1!==a&&j.commas++}))}));var y=j.dots<j.commas,g=j.dots>j.commas&&j.commas>0,v=y?t.replaceAll(".","").replaceAll(",","."):g?t.replaceAll(",",""):t,O=Ae(v,{delimiter:m,record_delimiter:p,cast:!0,trim:!0,cast_date:!0}).map((function(t){return{date:t[0],open:t[1],high:t[2],low:t[3],close:t[4],volume:t[5]}}));return O.shift(),O}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var We=function(t){var e=t.ChartState,a=(t.ChartStateDispatch,Xe()),r=n.a.useState(null),o=Object(s.a)(r,2),i=o[0],l=o[1],c=Object(Ft.a)(),d=n.a.useRef(null),u=n.a.useState(!1),h=Object(s.a)(u,2),p=h[0],b=h[1],x=n.a.useState(""),j=Object(s.a)(x,2),y=j[0],g=j[1];function v(){return(v=Object(we.a)(Te.a.mark((function t(a){var r,n;return Te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.target.files){t.next=3;break}return t.abrupt("return");case 3:if(!(r.length>0)){t.next=15;break}return t.prev=4,t.next=7,Re(r[0]);case 7:n=t.sent,e.methods.addSubchart(n,"some chart",void 0,!0),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),console.log("Error - could not parse provided local file",t.t0),l("Error - could not parse provided local file");case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}function O(){return k.apply(this,arguments)}function k(){return(k=Object(we.a)(Te.a.mark((function t(){var a,r,n;return Te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(y);case 3:if(a=t.sent){t.next=6;break}throw Error("cant download file from url");case 6:return r=a,t.next=9,Re(r);case 9:n=t.sent,e.methods.addSubchart(n,"some chart",void 0,!0),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("Error - could not download file from URL or File could not be parsed",t.t0),l("Error - could not download file from URL or File could not be parsed");case 17:b(!1);case 18:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(De,{open:!!i,onClose:function(){return l(null)},content:i||""}),Object(C.jsx)("input",{type:"file",style:{visibility:"hidden",position:"absolute",top:0,height:0,width:0},ref:d,onChange:function(t){return v.apply(this,arguments)}}),Object(C.jsxs)(Bt.a,{children:[Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){var t,e;null===d||void 0===d||null===(t=d.current)||void 0===t||null===(e=t.click)||void 0===e||e.call(t)},children:[Object(C.jsx)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:c.palette.secondary.main,minWidth:48,height:48},children:Object(C.jsx)(m.Icon,{path:f.m,size:2,color:c.palette.secondary.contrastText})}),Object(C.jsx)(Vt.a,{primary:"CSV from device",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(C.jsx)(Ie.a,{PopperProps:{disablePortal:!0},classes:{popper:a.popper,tooltip:a.tooltip},style:{zIndex:1500},open:p,title:Object(C.jsx)("div",{children:Object(C.jsx)(oe.a,{helperText:"Enter/Paste URL",fullWidth:!0,onKeyUp:function(t){"Enter"===t.key&&"keyup"===t.type&&O()},value:y,onChange:function(t){return g(t.target.value)},InputProps:{endAdornment:Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(Nt.a,{onClick:O,size:"small",children:Object(C.jsx)(m.Icon,{path:f.b,size:1})}),Object(C.jsx)(Nt.a,{onClick:function(){return b(!1)},children:Object(C.jsx)(m.Icon,{path:f.j,size:1})})]})}})}),interactive:!0,arrow:!0,placement:"bottom",children:Object(C.jsxs)(Gt.a,{button:!0,onClick:function(){b(!0)},children:[Object(C.jsx)(Ht.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:c.palette.secondary.main,minWidth:48,height:48},children:Object(C.jsx)(m.Icon,{path:f.H,size:2,color:c.palette.secondary.contrastText})}),Object(C.jsx)(Vt.a,{primary:"CSV from URL",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]})})]})]})},Fe=Object(Et.a)((function(t){return Object(Wt.a)({paper:{minHeight:"33%",border:"1px solid #666",borderTopLeftRadius:10,borderTopRightRadius:10},paperDesktop:{minHeight:"33%",border:"1px solid #666",borderBottomRightRadius:10,borderTopRightRadius:10}})})),Ue=function(t){var e=t.onClose,a=t.open,r=t.ChartState,n=t.onNavigate,o=t.ChartStateDispatch,i=Object(Ft.a)(),s=Object(Ut.a)("(min-width:600px)"),l=Fe();return Object(C.jsxs)(Yt.a,{anchor:s?"left":"bottom",open:!!a,classes:{paper:s?l.paperDesktop:l.paper},ModalProps:{hideBackdrop:!0},children:[Object(C.jsx)("div",{style:{background:i.palette.primary.main,color:i.palette.primary.contrastText,padding:10},children:Object(C.jsxs)(Lt.a,{container:!0,alignItems:"center",justify:"center",children:[Object(C.jsx)(Lt.a,{item:!0,children:Object(C.jsx)(x.a,{component:"div",variant:"h4",children:"quickys"===a?"Quick Tasks":"editIndicator"===a?"Edit Indicator":"indicators"===a?"Add Indicator":"editTool"===a?"Edit Tool":"tools"===a?"Add Tool":"settings"===a?"Settings":"Chart Menu"})}),Object(C.jsx)(Lt.a,{item:!0,xs:!0}),Object(C.jsx)(Lt.a,{item:!0,children:Object(C.jsxs)("div",{style:{height:"2.6rem"},children:[a&&"menu"!==a?Object(C.jsx)(Nt.a,{size:"small",onClick:function(){n("menu")},children:Object(C.jsx)(j.a,{path:f.s,size:1.75,color:i.palette.primary.contrastText})}):null,Object(C.jsx)(Nt.a,{size:"small",onClick:function(){},children:Object(C.jsx)(j.a,{path:f.p,size:1.75,color:i.palette.primary.contrastText})}),Object(C.jsx)(Nt.a,{size:"small",onClick:function(){null===e||void 0===e||e()},children:Object(C.jsx)(j.a,{path:f.j,size:1.75,color:i.palette.primary.contrastText})})]})})]})}),Object(C.jsx)("div",{style:{padding:10},children:"menu"===a?Object(C.jsx)($t,{ChartState:r,onNavigate:n}):"indicators"===a||"editIndicator"===a?Object(C.jsx)(fe,{ChartState:r,onNavigate:n,open:a,ChartStateDispatch:o}):"tools"===a||"editTool"===a?Object(C.jsx)(ye,{ChartState:r,ChartStateDispatch:o,onNavigate:n,open:a}):"settings"===a?Object(C.jsx)(Ce,{ChartState:r,ChartStateDispatch:o,onNavigate:n}):"quickys"===a?Object(C.jsx)(ke,{ChartState:r,onNavigate:n,ChartStateDispatch:o}):"chart"===a?Object(C.jsx)(We,{ChartState:r,ChartStateDispatch:o}):null})]})},Ye=new h.a,Le=function(t){var e,a,r,o,i,d,u,h,x,m,y,g=t.width,v=t.height,O=t.chartData,w=(t.style,t.viewMode),I=n.a.useRef(null),P=n.a.useState(null),M=Object(s.a)(P,2),z=M[0],D=M[1],R=It(I,{width:g,height:v,viewMode:w}),E=Object(s.a)(R,2),W=E[0],F=E[1];W.xaxis.scaledWidthPerTick;var U=W.yaxis,Y=U.widthYAxis,L=U.widthTickmarkLines,N=W.xaxis,B=N.heightXAxis,G=N.heightTickMarkLines,H=W.containerSize.width-1,V=W.containerSize.height-1,$=W.containerSize.init;n.a.useEffect((function(){if($){var t=Ye.compile(p);if(t(O)){if(0===W.subCharts.length){var e={task:"addSubchart",params:{chartSeries:O[0].data,chartName:O[0].name,containerHeight:V}};F(e)}}else alert("ERROR - chartData prop is not valid, check console"),console.log("ERROR - chartData prop is not valid -> ","data:",O,"errors:",t.errors)}}),[O,W.subCharts.length,V,$,B]);var q=W;console.log(q);var _=q.xaxis.xAxisTicks;return Object(C.jsx)(n.a.Fragment,{children:Object(C.jsxs)(Dt.a,{theme:Rt,children:[Object(C.jsx)("div",{ref:I,style:{boxSizing:"border-box",border:"1px solid red",background:q.backgroundColor},children:Object(C.jsxs)(l.f,{width:W.containerSize.width,height:W.containerSize.height,listening:!1,children:[Object(C.jsxs)(l.b,{children:[0 in q.subCharts?Object(C.jsx)(T,{fullState:q}):null,q.subCharts.map((function(t,e){return t.yaxis.map((function(t,a){return t.graphs.map((function(t,a){var r=q.subCharts[e].yaxis[0].graphs[a],n=c(r)?r.indicator.type:null;if(c(r)&&r.data.length>0){var o=r.data[r.data.length-1].prices;if("line"===n)return o.map((function(t,r){return Object(C.jsx)(A,{fullState:q,subchartIdx:e,yaxisIdx:0,graphIdx:a,indSeriesIdx:r},"".concat(e,"-").concat(a,"-").concat(r))}));if("bars"===n)return Object(C.jsx)(X,{fullState:q,subchartIdx:e,yaxisIdx:0,graphIdx:a},"".concat(e,"-").concat(a))}return null}))}))})),q.pointer.move.isMoving&&q.draw.pixXy.length>=1?Object(C.jsx)(l.c,{x:0,y:0,points:[q.draw.pixXy[0][0],q.draw.pixXy[0][1],(null===(e=q.pointer)||void 0===e?void 0:e.chartPointer.move.x)?q.methods.xToPix(q.pointer.chartPointer.move.x):q.pointer.move.xy[0],(null===(a=q.pointer)||void 0===a||null===(r=a.chartPointer)||void 0===r||null===(o=r.move.snapDatasets)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.pixYSnap)?null===(d=q.pointer)||void 0===d||null===(u=d.chartPointer)||void 0===u?void 0:u.move.snapDatasets[0].pixYSnap:q.pointer.move.xy[1]],stroke:"red",strokeWidth:1}):null,0 in q.subCharts?q.subCharts[0].yaxis[0].tools.map((function(t,e){return"trendline"===t.type&&2===t.xy.length?Object(C.jsx)(Pt,{mode:"trendline",subchartTop:q.subCharts[0].top,subchartBottom:q.subCharts[0].bottom,pixXy:[[q.methods.xToPix(t.xy[0][0]),q.methods.yToPix(t.xy[0][1],0,0)],[q.methods.xToPix(t.xy[1][0]),q.methods.yToPix(t.xy[1][1],0,0)]],style:{anchorColor:t.style.anchorColor,strokeColor:t.style.strokeColor}}):"vline"===t.type&&1===t.xy.length?Object(C.jsx)(Mt,{mode:"extendUpDown",subchartTop:q.subCharts[0].top,subchartBottom:q.subCharts[0].bottom,pixXy:[[q.methods.xToPix(t.xy[0][0]),q.methods.yToPix(t.xy[0][1],0,0)]],style:{anchorColor:t.style.anchorColor,strokeColor:t.style.strokeColor}}):"hline"===t.type&&1===t.xy.length?Object(C.jsx)(zt,{mode:"extendLeftRight",pixXstart:0,pixXend:q.containerSize.width-q.yaxis.widthYAxis,pixXy:[[q.methods.xToPix(t.xy[0][0]),q.methods.yToPix(t.xy[0][1],0,0)]],style:{anchorColor:t.style.anchorColor,strokeColor:t.style.strokeColor}}):null})):null]}),Object(C.jsxs)(l.b,{children:[Object(C.jsx)(l.d,{x:.5,y:V-B+.5,width:H,height:B,fill:W.xaxis.style.fillColor,stroke:W.xaxis.style.strokeColor,strokeWidth:1}),q.subCharts.map((function(t,e){return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.d,{x:H-Y+.5,y:t.top+.5,width:Y,height:t.bottom-t.top,stroke:W.xaxis.style.strokeColor,strokeWidth:1}),Object(C.jsx)(l.d,{x:.5,y:t.top+.5,width:H-Y,height:t.bottom-t.top,stroke:W.xaxis.style.strokeColor,strokeWidth:1})]},e)}))]}),Object(C.jsx)(l.b,{children:_.map((function(t,e){return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.c,{x:t.x,y:W.containerSize.height-1-B+.5,points:[0,0,0,G],stroke:W.xaxis.style.strokeColor,strokeWidth:1}),W.grid.useGridX?Object(C.jsx)(l.c,{x:t.x,y:.5,points:[0,0,0,W.containerSize.height-1-B+.5],stroke:W.grid.style.strokeColor,strokeWidth:1}):null,Object(C.jsx)(l.e,{sceneFunc:function(e,a){var r=e._context;r.font=W.xaxis.style.fontSize+"px "+W.xaxis.style.fontName,r.fillStyle=W.xaxis.style.fontColor,r.textAlign="center",r.textBaseline="top",r.fillText(t.dateString,t.x,W.containerSize.height-1-B+.5+20+5),e.fillStrokeShape(a)}})]},e)}))}),Object(C.jsx)(l.b,{children:q.subCharts.map((function(t,e){return t.yaxis.map((function(t,e){return t.drawTicks.map((function(t,e){return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(l.c,{x:W.containerSize.width-1-Y+.5,y:t.pixY+.5,points:[0,0,L,0],stroke:W.xaxis.style.strokeColor,strokeWidth:1}),W.grid.useGridY?Object(C.jsx)(l.c,{x:.5,y:t.pixY+.5,points:[0,0,W.containerSize.width-1+.5,0],stroke:W.grid.style.strokeColor,strokeWidth:1}):null,Object(C.jsx)(l.e,{sceneFunc:function(e,a){var r=e._context;r.font=W.yaxis.style.fontSize+"px "+W.yaxis.style.fontName,r.fillStyle=W.yaxis.style.fontColor,r.textAlign="left",r.textBaseline="middle",r.fillText(t.label,W.containerSize.width-1-Y+L+5+.5,t.pixY),e.fillStrokeShape(a)}})]},t.label)}))}))}))}),Object(C.jsx)(l.b,{children:(null===(h=W.pointer.move)||void 0===h?void 0:h.xy)&&W.pointer.isHovering?Object(C.jsx)(S,{fullState:q}):null})]})}),q.xaxis.xEnd&&_.length>0?q.subCharts.map((function(t,e){return t.yaxis[0].graphs.map((function(a,r){var n,o,i,s,l,d,u,h,p,b,x,f=c(a)&&a.indicator.params.length>0?"".concat(a.indicator.name,"(").concat(a.indicator.params[0].val,")"):c(a)&&0===a.indicator.params.length?"".concat(a.indicator.name):a.name;if(!a.datasets.last)return null;var m=(q.pointer.isHovering&&e===(null===(n=q.pointer)||void 0===n||null===(o=n.chartPointer)||void 0===o?void 0:o.move.subchartIdx)&&(null===(i=q.pointer)||void 0===i||null===(s=i.chartPointer)||void 0===s||null===(l=s.move.snapDatasets)||void 0===l||null===(d=l[0])||void 0===d?void 0:d.graphIdx)===r?null===(u=q.pointer)||void 0===u||null===(h=u.chartPointer)||void 0===h||null===(p=h.move)||void 0===p||null===(b=p.snapDatasets)||void 0===b||null===(x=b[0])||void 0===x?void 0:x.data:q.pointer.isHovering&&null!==q.pointer.chartPointer.move.x?a.data[q.pointer.chartPointer.move.x]:a.datasets.last.data)||a.datasets.last.data;return Object(C.jsx)(k,{onClick:function(){return D("settings")},name:f,dataset:m,decimals:c(a)&&void 0!==a.indicator.default.decimals?a.indicator.default.decimals:a.decimals,top:t.top+30*r},"".concat(e,"-").concat(r))}))})):null,Object(C.jsx)("div",{style:{position:"absolute",top:(null!==(x=null===(m=q.subCharts)||void 0===m||null===(y=m[0])||void 0===y?void 0:y.bottom)&&void 0!==x?x:0)-64-10,left:10},children:Object(C.jsx)(b.a,{color:"primary",variant:"contained",style:{width:64,height:64,textTransform:"none",borderRadius:5,opacity:.8},onClick:function(){return D("menu")},children:Object(C.jsx)("div",{style:{position:"relative",top:0,height:64},children:Object(C.jsx)(j.a,{path:f.v,size:"64px",color:"#fff"})})})}),Object(C.jsx)(Ue,{open:z,onClose:function(){D(null)},onNavigate:function(t){return D(t)},ChartState:q,ChartStateDispatch:F})]})})},Ne=a(148);var Be=function(){var t=n.a.useState(null),e=Object(s.a)(t,2),a=e[0],r=e[1],o=n.a.useState(400),i=Object(s.a)(o,2);return i[0],i[1],n.a.useEffect((function(){fetch("https://raw.githubusercontent.com/carmnk/resources/main/data/csv/BAYN.DE.csv").then((function(t){return t.text()})).then((function(t){var e=Ne(t,{delimiter:",",cast:!0,trim:!0,cast_date:!0}).map((function(t){return{date:t[0],open:t[1],high:t[2],low:t[3],close:t[4],volume:t[5]}}));return e.shift(),e})).then((function(t){return r(t)}))}),[]),a?(console.log("DATA:",[{data:a,name:"coolChart"}]),Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)("div",{style:{height:"100%"},children:Object(C.jsx)(Le,{chartData:[{data:a,name:"coolChart"}],viewMode:"fullscreen",style:"TODO"})})})):null},Ge=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,369)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,o=e.getLCP,i=e.getTTFB;a(t),r(t),n(t),o(t),i(t)}))};i.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(Be,{})}),document.getElementById("root")),Ge()}},[[295,1,2]]]);
//# sourceMappingURL=main.11e883b3.chunk.js.map