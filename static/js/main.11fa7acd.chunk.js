(this["webpackJsonpreact-techchart"]=this["webpackJsonpreact-techchart"]||[]).push([[0],{178:function(t,e,a){},179:function(t,e,a){},284:function(t,e){},286:function(t,e){},295:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),i=a(24),o=a.n(i),s=(a(178),a(26)),l=(a(179),a(6)),c=a(2),d=a(14),u=function(t){return"indicator"===t.type},h=function(t){return"chart"===t.type},p=a(157),b=a.n(p),x={type:"array",minItems:1,items:{type:"object",properties:{data:{type:"array",nullable:!1,minItems:2,items:{type:"object",nullable:!1,properties:{date:{type:"object",nullable:!1},open:{type:"number",nullable:!1},high:{type:"number",nullable:!1},low:{type:"number",nullable:!1},close:{type:"number",nullable:!1}},required:["date","close"]}},name:{type:"string",nullable:!1}},required:["data","name"]}},f=a(34),j=a(336),m=a(104),g=a(8),y=a(9),v=a.n(y),O=function(t){return"open"in t&&"high"in t&&"low"in t&&"close"in t},k=function(t){return"close"in t},C=function(t){return"volume"in t},S=function(t){return"prices"in t},w=a(1),T=function(t){var e=t.dataset,a=t.name,r=t.decimals,n=t.onClick;Object(f.a)();return e?Object(w.jsx)("div",{children:Object(w.jsx)(j.a,{style:{textTransform:"none",textAlign:"left"},onClick:function(){null===n||void 0===n||n(a)},startIcon:Object(w.jsx)(v.a,{path:S(e)?g.h:g.i,size:1}),children:S(e)?Object(w.jsx)(m.a,{children:"".concat(a,":").concat(e.prices.map((function(t){return null===t||void 0===t?void 0:t.toFixed(r)})).join(", ")||"")}):Object(w.jsx)(m.a,{variant:"body1",children:O(e)?"".concat(a,"\n                O:").concat(e.open.toFixed(r),"\n                H:").concat(e.high.toFixed(r),"\n                L:").concat(e.low.toFixed(r),"\n                C:").concat(e.close.toFixed(r)):"".concat(a,"\n                C:").concat(e.close.toFixed(r))})})}):null},I=function(t){var e,a,r,i,o,s,l,c,h=t.fullState,p=h.containerSize.width-1,b=h.containerSize.height-1,x=h.yaxis.widthYAxis,f=h.xaxis,j=f.heightXAxis,m=f.heightTickMarkLines,g=null,y=null;h.pointer.move&&(g=h.pointer.move.xy[1]);for(var v=0;v<h.subCharts.length;v++)for(var O=h.subCharts[v],k=0;k<O.yaxis[0].graphs.length;k++){var C,S,T,I,P;O.yaxis[0].graphs[k];(null===(C=h.pointer)||void 0===C||null===(S=C.chartPointer)||void 0===S||null===(T=S.move)||void 0===T||null===(I=T.snapDatasets)||void 0===I?void 0:I[0])&&null!==(null===(P=h.pointer.chartPointer.move)||void 0===P?void 0:P.snapDatasets[0].pixYSnap)&&(g=h.pointer.chartPointer.move.snapDatasets[0].pixYSnap,y=h.pointer.chartPointer.move.snapDatasets[0].ySnap)}var M=-1;if(h.pointer.move){var z=h.pointer.move.xy[1];M=h.subCharts.findIndex((function(t){return t.bottom>=z&&t.top<=z}))}if(y||-1===M||(y=h.methods.pixToY(null===(e=h.pointer.move)||void 0===e?void 0:e.xy[1],M,0).toFixed(h.subCharts[M].yaxis[0].decimals)),y&&-1!==M){var D=h.subCharts[M].yaxis[0].graphs[0];u(D)&&D.indicator.default.decimals&&(y=(Math.round(parseFloat(y)*Math.pow(10,D.indicator.default.decimals))/Math.pow(10,D.indicator.default.decimals)).toString())}return h.pointer.move&&g?Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(d.c,{x:0,y:0,points:[h.methods.xToPix(Math.round(h.methods.pixToX(h.pointer.move.xy[0]))),0,h.methods.xToPix(Math.round(h.methods.pixToX(h.pointer.move.xy[0]))),b-j+m],stroke:"black",strokeWidth:1}),h.pointer.move.xy[1]<=h.subCharts[h.subCharts.length-1].bottom?Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(d.c,{x:0,y:0,points:[0,g,p-x,g],stroke:"black",strokeWidth:1}),Object(w.jsx)(d.e,{sceneFunc:function(t,e){var a=t._context;if(h.pointer.move){var r=g;a.moveTo(p-x,r),a.lineTo(p-x+10,r+10),a.lineTo(p,r+10),a.lineTo(p,r+1),a.lineTo(p,r-10),a.lineTo(p-x+10,r-10),a.lineTo(p-x,r),t.fillStrokeShape(e)}},stroke:"black",fill:"rgba(199, 0, 57, 1)",strokeWidth:1}),Object(w.jsx)(d.e,{sceneFunc:function(t,e){var a=t._context;if(h.pointer.move){var r=g;a.font=h.yaxis.style.fontSize+"px "+h.yaxis.style.fontName,a.fillStyle=h.yaxis.style.fontColor,a.textAlign="left",a.textBaseline="middle",a.fillText(y,p-x+h.yaxis.widthTickmarkLines+5,r),t.fillStrokeShape(e)}}})]}):null,(null===(a=h.pointer)||void 0===a||null===(r=a.chartPointer)||void 0===r||null===(i=r.move)||void 0===i?void 0:i.xUnlimited)<=h.xaxis.xEnd&&(null===(o=h.pointer)||void 0===o||null===(s=o.chartPointer)||void 0===s||null===(l=s.move)||void 0===l?void 0:l.xUnlimited)>=h.xaxis.xStart?Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(d.d,{x:h.methods.xToPix(Math.round(h.methods.pixToX(null===(c=h.pointer.move)||void 0===c?void 0:c.xy[0])))-25,y:b-j+m+.5,width:50,height:25,fill:"white",stroke:"black",strokeWidth:1}),Object(w.jsx)(d.e,{sceneFunc:function(t,e){var a,r,n,i,o=t._context;h.pointer.move&&(o.font=h.xaxis.style.fontSize+"px "+h.xaxis.style.fontName,o.fillStyle=h.xaxis.style.fontColor,o.textAlign="center",o.textBaseline="top",o.fillText((null===(a=h.pointer)||void 0===a||null===(r=a.chartPointer)||void 0===r||null===(n=r.move)||void 0===n||null===(i=n.snapDatasets)||void 0===i?void 0:i[0])?h.pointer.chartPointer.move.snapDatasets[0].dateString:Math.round(h.methods.pixToX(h.pointer.move.xy[0])).toString(),h.methods.xToPix(Math.round(h.methods.pixToX(h.pointer.move.xy[0]))),b-j+m+5+.5),t.fillStrokeShape(e))}})]}):null]}):null},P=function(t){var e=t.fullState,a=(e.subCharts[0].yaxis[0],e.subCharts[0].yaxis[0].graphs[0]);if(!h(a)||!a||!a.curData)return null;var r=[],i=0;return 0 in e.subCharts&&0 in e.subCharts[0].yaxis&&0 in e.subCharts[0].yaxis[0].graphs&&((r=a.curData).forEach((function(t,e){return t.idx=e})),i=e.xaxis.widthPerTick<=2?0:Math.floor(.35*(e.xaxis.widthPerTick-1))),Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(d.e,{sceneFunc:function(t,r){t.beginPath(),a.curData.forEach((function(a,r){var n=e.methods.xToPix(r,0)+e.xaxis.pixXStart,i=Math.round(e.methods.yToPix(a.high,0,0)),o=Math.round(e.methods.yToPix(a.low,0,0)),s=Math.round(e.methods.yToPix(a.close,0,0));t.moveTo(n+.5,o+.5),t.lineTo(n+.5,i+.5),a.close===a.open&&(t.moveTo(n-2,s),t.lineTo(n+2,s))})),t.closePath(),t.fillStrokeShape(r)},stroke:a.style.candleStrokeColor,strokeWidth:1}),Object(w.jsx)(d.e,{sceneFunc:function(t,a){t.beginPath(),r.filter((function(t){return t.close>=t.open})).forEach((function(r,n){var o=e.methods.xToPix(r.idx,0)+e.xaxis.pixXStart,s=Math.round(e.methods.yToPix(r.open,0,0)),l=Math.round(e.methods.yToPix(r.close,0,0));if(r.close!==r.open)if(0!==i){var c=o+i>e.xaxis.pixXEnd?e.xaxis.pixXEnd-o+i:2*i;t.rect(o+.5-i,s+.5,c,l-s)}else 0===i&&(t.moveTo(o+.5,l),t.lineTo(o+.5,s));t.closePath(),t.fillStrokeShape(a)}))},stroke:a.style.candleStrokeColor,fill:a.style.candleUpColor,strokeWidth:1}),Object(w.jsx)(d.e,{sceneFunc:function(t,a){t.beginPath(),r.filter((function(t){return t.close<t.open})).forEach((function(r,n){var o=e.methods.xToPix(r.idx,0)+e.xaxis.pixXStart,s=Math.round(e.methods.yToPix(r.open,0,0)),l=Math.round(e.methods.yToPix(r.close,0,0));if(r.close!==r.open)if(0!==i){var c=o+i>e.xaxis.pixXEnd?e.xaxis.pixXEnd-o+i:2*i;t.rect(o+.5-i,s+.5,c,l-s)}else 0===i&&(t.moveTo(o+.5,l),t.lineTo(o+.5,s));t.closePath(),t.fillStrokeShape(a)}))},stroke:a.style.candleStrokeColor,fill:a.style.candleDownColor,strokeWidth:1})]})},M=function(t){return void 0===t||null===t||!("number"!==typeof t||!isNaN(t))},z=function(t){return Math.floor(t)===t?0:t.toString().split(".")[1].length||0},D=function(t){for(var e=!1,a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return r.forEach((function(a){t.includes(a)&&(e=!0)})),e},A={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},X=function(t){if(!t)return null;t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,a,r){return e+e+a+a+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null};var E=function(t){var e=t.fullState,a=t.subchartIdx,r=t.yaxisIdx,n=t.graphIdx,i=t.indSeriesIdx,o=M(i)?0:i,s=(e.subCharts[a].yaxis[r],e.subCharts[a].yaxis[r].graphs[n]),c=[];Array.isArray(s.curData)&&s.curData.length>1&&c.push.apply(c,Object(l.a)(s.curData.map((function(t,r){var n;return null===(n=S(t)?t.prices[o]:t.close)?[null,null]:[e.xaxis.widthPerTick*r,e.methods.yToPix(n,a,0,0)]})).flat().filter((function(t){return null!==t}))));var h=c.filter((function(t){return null!==t}));return Object(w.jsx)(d.c,{x:e.xaxis.pixXStart,y:e.methods.yToPix(0,a,0)-e.subCharts[a].bottom,points:Object(l.a)(h),stroke:u(s)?s.style.strokeColor[o]:s.style.strokeColor[0],strokeWidth:1},"sub".concat(a,"_graph").concat(n))},R=function(t){var e=t.fullState,a=t.subchartIdx,r=t.yaxisIdx,n=t.graphIdx,i=e.subCharts[a].yaxis[r].graphs[n];return Object(w.jsx)(d.e,{sceneFunc:function(t,n){t.beginPath(),e.subCharts[0].yaxis[0].graphs[0].curData.forEach((function(n,i){if(n.volume){var o=e.methods.xToPix(i,0)+e.xaxis.pixXStart,s=Math.round(e.methods.yToPix(n.volume,a,r,0)),l=Math.round(e.methods.yToPix(0,a,r,0));t.moveTo(o+.5,l+.5),t.lineTo(o+.5,s+.5)}})),t.closePath(),t.fillStrokeShape(n)},stroke:(u(i),i.style.strokeColor[0]),strokeWidth:1})},W=a(63),F=a(163),U=a(79),Y=a(361),L=a(357),N=a(338),B=a(339),H=a(340),G=a(341),V=a(342),$=function(t,e){switch(e){case"minutes":return Object(L.a)(t,"mm");case"hours":return Object(L.a)(t,"HH");case"days":case"weeks":return Object(L.a)(t,"dd");case"months":return Object(L.a)(t,"MMM");case"years":return Object(L.a)(t,"yyyy");default:return"|"}},q=function(t,e){switch(e){case"minutes":return Object(N.a)(t);case"hours":return Object(B.a)(t);case"days":return Object(H.a)(t);case"weeks":return Object(Y.a)(t);case"months":return Object(G.a)(t);case"years":return Object(V.a)(t);default:return 0}},_=function(t){return{minute:q(t,"minutes"),hour:q(t,"hours"),day:q(t,"days"),week:q(t,"weeks"),month:q(t,"months"),year:q(t,"years")}},Q={minutes:{period:6e4,scaleMultiplys:[2,5,15,30],range:[6e4,6e4]},hours:{period:36e5,scaleMultiplys:[2,4,12],range:[36e5,36e5]},days:{period:864e5,scaleMultiplys:[2],range:[864e5,864e5]},weeks:{period:6048e5,scaleMultiplys:[2],range:[2592e5,9504e5]},months:{period:26784e5,scaleMultiplys:[2,3,6],range:[24192e5,26784e5]},years:{period:31536e6,scaleMultiplys:[],range:[31536e6,316224e5]}},J=function(t,e,a,r,n,i){if(!r.chartPeriod)return null;var o=r.chartPeriod,s=(o.chartPeriod,o.periodsConstIdx),c=o.chartPeriodName,d=a-e+1,u=Object.assign({},i),h=u.accAmt[c];Object.keys(u.accAmt).forEach((function(t,e){u.accAmt[t]=u.accAmt[t]/h*d}));for(var p=10*(1-n),b=null,x=c,f=1,j=s;j<Object.keys(Q).length;j++){var m=Object.keys(Q)[j];if(m in u.accAmt)for(var g=0,y=[1].concat(Object(l.a)(Q[m].scaleMultiplys));g<y.length;g++){var v=y[g];null!==b?Math.abs(u.accAmt[m]/v-p)<Math.abs(b/f-p)&&(b=u.accAmt[m],f=v,x=m):(b=u.accAmt[m],f=v,x=m)}}return{chartPeriodName:x,multiply:f,chartPeriod:Q[x].period,periodsConstIdx:0}},K=function(t,e){if(e.length>1)return!1;var a=_(t),r=a.day,n=a.week,i=a.month,o=(a.year,e[0].months[0]);return o.weeks[0].days[0].day===r&&o.weeks[0].week===n&&o.month===i},Z=function(t,e,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e.length>1)return!1;var n=_(t),i=n.day,o=n.week;n.month,n.year;return(a+1)%r===0&&(e[0].months[a].weeks[0].days[0].day===i&&e[0].months[a].weeks[0].week===o)},tt=function(t,e,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(e.length>1)return!1;var i=_(t),o=i.day,s=i.week;i.month,i.year;if(e[0].months[a].weeks[r].days[0].day===o&&e[0].months[a].weeks[r].week===s){if(2===n){var l=0;e[0].months[a].weeks.forEach((function(t){return l+=t.days.length}));for(var c=0,d=0,u=0,h=Math.round(l/2),p=0;p<e[0].months[a].weeks.length;p++){var b=e[0].months[a].weeks[p];Math.abs(c+b.days.length-h)<Math.abs(d-h)&&(d=c+b.days.length,u=p+1),c+=b.days.length}return r===u}if(1===n)return!(1===r&&e[0].months[a].weeks[0].days.length<3)&&!(r===e[0].months[a].weeks.length-1&&e[0].months[a].weeks[r].days.length<3)}return!1},et=function(t,e,a,r){if(!a||!r||!e)return null;var n=r.chartPeriodName,i=r.multiply,o=q(t,"years"),s=q(t,"months"),l=q(t,"weeks"),c=q(t,"days"),d=e.years.filter((function(t){return t.year===o})),u=d[0].months.filter((function(t){return t.month===s})),h=d[0].months.indexOf(u[0]),p=u[0].weeks.filter((function(t){return t.week===l})),b=d[0].months[h].weeks.indexOf(p[0]),x=p[0].days.filter((function(t){return t.day===c})),f=d[0].months[h].weeks[b].days.indexOf(x[0]);return a.chartPeriodName===n&&1===i?n:"days"===n?K(t,d)?"years":Z(t,d,h,1)?"months":tt(t,d,h,b,i)?"weeks":function(t,e,a,r,n){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=q(t,"days");if(e[0].months[a].weeks[r].days[n].day===o&&1===i)return!0;if(e[0].months[a].weeks[r].days[n].day===o&&2===i){if(e[0].months[a].weeks[r].days.length<=3)return!1;if(4===e[0].months[a].weeks[r].days.length&&(0===n||2===n)||5===e[0].months[a].weeks[r].days.length&&(0===n||2===n)||6===e[0].months[a].weeks[r].days.length&&(0===n||2===n||4===n)||7===e[0].months[a].weeks[r].days.length&&(0===n||2===n||5===n))return!0}return!1}(t,d,h,b,f,i)?"days":null:"weeks"===n?K(t,d)?"years":Z(t,d,h,1)?"months":tt(t,d,h,b,i)?n:null:"months"===n?u[0].weeks[0].days[0].day===c?n:null:"years"===n&&d[0].months[0].weeks[0].days[0].day===c?n:null},at=function(t){for(var e=t.length,a=function(t,e){return t.date-e.date},r=[{dT:a(t[1],t[0]),amt:1}],n=0,i=q(t[0].date,"weeks"),o=q(t[0].date,"years"),s=0,l=[],c=0;c<e;c++){if(c>=2)for(var d=a(t[c],t[c-1]),u=0;u<r.length;u++){if(r[u].dT===d){r[u].amt++;break}u===r.length-1&&r.push({dT:d,amt:1})}var h=Object(Y.a)(t[c].date),p=q(t[c].date,"years");if(h>i||p>o||c===e-1){var b=l.filter((function(t){return t.amtDays===s}));if(b.length>0){b.length>1&&console.log("warning - internal error determing GraphMetaData");var x=l.indexOf(b[0]);l[x].occ++}else 0===b.length&&l.push({amtDays:s,occ:1});i=h,s=1,o=p}else s++;t[c].close||console.log("hier ist was falsch",c);var f=[z(t[c].close)],j=t[c];O(j)&&(f.push(z(j.open)),f.push(z(j.high)),f.push(z(j.low)));var m=Math.max.apply(Math,f);m>n&&(n=m)}var g=r.map((function(t){return t.dT})),y=r.map((function(t){return t.amt})),v=y.reduce((function(t,e,a,r){return e>r[t]?a:t}),0),k=l.map((function(t){return t.occ})),C=0;l.forEach((function(t){return C+=t.occ}));var S=k.reduce((function(t,e,a,r){return e>r[t]?a:t}),0),w=l[S].amtDays,T=l[S].occ/C,I=g[v]<0;console.log(g[v]);var P=Math.abs(g[v]);return{nData:e,dataPeriod:P,chartPeriod:function(t){for(var e=Object.keys(Q),a=0;a<e.length;a++){var r=e[a],n=Q[r].period,i=Q[r].range;if("number"===typeof n&&(t===n||t>=i[0]&&t<=i[1]))return{chartPeriodName:r,periodsConstIdx:a,chartPeriod:n,multiply:1}}return null}(P),periodGuessConfidence:y[v]/e,tradingDaysPerWeek:w,tradingDaysPerWeekGuessConfidence:T,type:"candlechart",decimals:n,isDescending:I}},rt=function(t,e,a,r,n,i){return{yaxis:[nt(a,r,n,i)],top:t,bottom:e}},nt=function(t,e,a,r){var n=r?ot(t,e,r,a):it(t,e,a);return{graphs:[Object(c.a)({},n)],decimals:n.decimals,tools:[],translatedY:0,optIntervalY:0,heightPerPt:0,drawTicks:[]}},it=function(t,e,a){var r=at(t),n=r.decimals,i=r.isDescending,o=Object(W.a)(r,["decimals","isDescending"]);i&&t.reverse();var s=function(t,e,a){for(var r={years:[],accAmt:{years:0,months:0,weeks:0,days:0,hours:0,minutes:0}},n=function(t,e,a){return{day:t,hours:!e&&0!==e||!a&&0!==a?[]:[c(e,a)]}},i=function(t,e,a,r){return{week:t,days:[n(e,a,r)]}},o=function(t,e,a,r,n){return{month:t,weeks:[i(e,a,r,n)]}},s=function(t,e,a,r,n,i){return{year:t,months:[o(e,a,r,n,i)]}},c=function(t,e){return{hour:t,minutes:e||0===e?[d(e)]:[]}},d=function(t){return{minute:t}},u=function(t){"years"===t&&r.accAmt.years++,["years","months"].includes(t)&&r.accAmt.months++,["years","months","weeks"].includes(t)&&r.accAmt.weeks++,["years","months","weeks","days"].includes(t)&&r.accAmt.days++,["years","months","weeks","days","hours"].includes(t)&&r.accAmt.hours++,["years","months","weeks","days","hours","minutes"].includes(t)&&r.accAmt.minutes++},h=function(e){var a=q(t[e].date,"years"),h=q(t[e].date,"months"),p=q(t[e].date,"weeks"),b=q(t[e].date,"days"),x=q(t[e].date,"hours"),f=q(t[e].date,"minutes"),j=function(t,e){"years"===t&&r.years.push(s(a,h,p,b)),"months"===t&&r.years[e[0]].months.push(o(h,p,b)),"weeks"===t&&r.years[e[0]].months[e[1]].weeks.push(i(p,b)),"days"===t&&r.years[e[0]].months[e[1]].weeks[e[2]].days.push(n(b)),"hours"===t&&r.years[e[0]].months[e[1]].weeks[e[2]].days[e[3]].hours.push(c(x,f)),"minutes"===t&&r.years[e[0]].months[e[1]].weeks[e[2]].days[e[3]].hours[e[4]].minutes.push(d(f))};!function t(e,m){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],y=null,v=-1;if("years"===e)0 in(y=m.years.filter((function(t){return t.year===a})))&&(v=r.years.indexOf(y[0]));else if("months"===e){if(g.length<1)return null;0 in(y=m.years[g[0]].months.filter((function(t){return t.month===h})))&&(v=r.years[g[0]].months.indexOf(y[0]))}else if("weeks"===e){if(g.length<2)return null;0 in(y=m.years[g[0]].months[g[1]].weeks.filter((function(t){return t.week===p})))&&(v=r.years[g[0]].months[g[1]].weeks.indexOf(y[0]))}else if("days"===e){if(g.length<3)return null;0 in(y=m.years[g[0]].months[g[1]].weeks[g[2]].days.filter((function(t){return t.day===b})))&&(v=r.years[g[0]].months[g[1]].weeks[g[2]].days.indexOf(y[0]))}else if("hours"===e){if(g.length<4)return null;0 in(y=m.years[g[0]].months[g[1]].weeks[g[2]].days[g[3]].hours.filter((function(t){return t.hour===x})))&&(v=r.years[g[0]].months[g[1]].weeks[g[2]].days[g[3]].hours.indexOf(y[0]))}else if("minutes"===e){if(g.length<5)return null;0 in(y=m.years[g[0]].months[g[1]].weeks[g[2]].days[g[3]].hours[g[4]].minutes.filter((function(t){return t.minute===f})))&&(v=r.years[g[0]].months[g[1]].weeks[g[2]].days[g[3]].hours[g[4]].minutes.indexOf(y[0]))}if(!y)return null;if(0===y.length)return u(e),("years"===e?s(a,h,p,b,x,f):"months"===e?o(h,p,b,x,f):"weeks"===e?i(p,b,x,f):"days"===e?n(b,x,f):"hours"===e?c(x,f):"minutes"===e?d(f):null)?(j(e,g),!0):null;var O="years"===e?"months":"months"===e?"weeks":"weeks"===e?"days":"days"===e?"hours":"hours"===e?"minutes":null;return O?-1===v?null:t(O,m,[].concat(Object(l.a)(g),[v])):null}("years",r)},p=e;p<=a;p++)h(p);return r}(t,0,t.length-1);return{data:t,meta:o,style:Object(c.a)({strokeColor:["#000"],candleStrokeColor:"#666",candleDownColor:"rgb(199, 0, 57)",candleUpColor:"#009688"},a),yMax:0,yMaxExact:0,yMin:0,yMinExact:0,datasets:{first:null,last:null},dateStat:s,type:"chart",name:e,decimals:n}},ot=function(t,e,a,r){var n,i=null===(n=a.indicatorFn)||void 0===n?void 0:n.call.apply(n,[a,t,e].concat(Object(l.a)(a.params.map((function(t){return t.val}))))),o=at(t),s=o.decimals,d=(Object(W.a)(o,["decimals"]),a.default.decimals?a.default.decimals:s);return{data:i,type:"indicator",name:a.name,decimals:d,style:Object(c.a)(Object(c.a)({},r),{},{strokeColor:(null===r||void 0===r?void 0:r.strokeColor)||["#00ffff"]}),yMax:0,yMaxExact:0,yMin:0,yMinExact:0,datasets:{first:null,last:null},indicator:a}},st=["#666","#0693E3","#f50057","#00D084","#FF6900","#bd10e0","#bbb"],lt=function(t,e){return t[e%t.length]},ct=function(t){return"setCandleChartUpColor"===t.task},dt=function(t){return"setCandleChartDownColor"===t.task},ut=function(t){return"setCandleChartStrokeColor"===t.task},ht=function(t){return"setToolStrokeColor"===t.task},pt=function(t){return"setToolAnchorColor"===t.task},bt=function(t,e){if(function(t){return"addSubchart"===t.task}(e)){var a=e.params.chartSeries,r=e.params.chartName,n=e.params.indicator,i=e.params.reset,o=e.params.containerHeight-t.xaxis.heightXAxis,s=250,d=Math.min(150,(o-s)/(t.subCharts.length-1+1)),h=0===t.subCharts.length||i?0:o-Math.round(d),p=n?{strokeColor:[lt(st,0)]}:{strokeColor:lt(st,0)};if(0===t.subCharts.length||i)return console.log(a.length),Object(c.a)(Object(c.a)({},t),{},{xaxis:Object(c.a)(Object(c.a)({},t.xaxis),{},{totalTranslatedX:-(a.length+5-(t.containerSize.width-1)/t.xaxis.scaledWidthPerTick)*t.xaxis.scaledWidthPerTick}),subCharts:[rt(h,o,a,r,p)]});var b=t.subCharts[0].bottom-t.subCharts[0].top-d<s?(o-s-d)/(t.subCharts.length-1):null,x=rt(h,o,a,r,p,n),f=x.yaxis[0].graphs[0];return u(f)&&f.data[f.data.length-1].prices.length>1&&(f.style.strokeColor=f.data[f.data.length-1].prices.map((function(t,e){return lt(st,e)}))),Object(c.a)(Object(c.a)({},t),{},{subCharts:[].concat(Object(l.a)(t.subCharts.map((function(e,a){return 0===a?(e.bottom=Math.max(e.bottom-d,s),e.top=0):a===t.subCharts.length-1?(e.top=t.subCharts[a-1].bottom,e.bottom=h):(e.top=t.subCharts[a-1].bottom,e.bottom=b?Math.round(e.top+b):e.bottom-d),e}))),[x])})}if(function(t){return"removeSubchart"===t.task}(e)){var j=e.params.subchartIdx,m=t.subCharts[j].bottom-t.subCharts[j].top,g=Math.floor(m/(t.subCharts.length-1)),y=m%(t.subCharts.length-1);return Object(c.a)(Object(c.a)({},t),{},{subCharts:[].concat(Object(l.a)(t.subCharts.slice(0,j).map((function(t,e){return Object(c.a)(Object(c.a)({},t),{},{top:0===t.top?0:t.top+y+(j-2)*g,bottom:0===e?t.bottom+g+y:t.bottom+g+y+(j-1)*g})}))),Object(l.a)(t.subCharts.slice(j+1).map((function(e,a){return Object(c.a)(Object(c.a)({},e),{},{top:e.top-(a+1)*g,bottom:a===t.subCharts.slice(j+1).length-1?e.bottom:e.bottom-(a+1)*g})}))))})}if(function(t){return"removeGraph"===t.task}(e)){var v=e.params,O=v.subchartIdx,k=v.yaxisIdx,C=v.graphIdx;if(0===C&&1===t.subCharts[O].yaxis[k].graphs.length){var S=t.subCharts[O].bottom-t.subCharts[O].top,w=Math.floor(S/(t.subCharts.length-1)),T=S%(t.subCharts.length-1);return Object(c.a)(Object(c.a)({},t),{},{subCharts:[].concat(Object(l.a)(t.subCharts.slice(0,O).map((function(t,e){return Object(c.a)(Object(c.a)({},t),{},{top:0===t.top?0:t.top+T+(O-2)*w,bottom:0===e?t.bottom+w+T:t.bottom+w+T+(O-1)*w})}))),Object(l.a)(t.subCharts.slice(O+1).map((function(e,a){return Object(c.a)(Object(c.a)({},e),{},{top:e.top-(a+1)*w,bottom:a===t.subCharts.slice(O+1).length-1?e.bottom:e.bottom-(a+1)*w})}))))})}return Object(c.a)(Object(c.a)({},t),{},{subCharts:[].concat(Object(l.a)(t.subCharts.slice(0,O)),[Object(c.a)(Object(c.a)({},t.subCharts[O]),{},{yaxis:[].concat(Object(l.a)(t.subCharts[O].yaxis.slice(0,k)),[Object(c.a)(Object(c.a)({},t.subCharts[O].yaxis[k]),{},{graphs:[].concat(Object(l.a)(t.subCharts[O].yaxis[k].graphs.slice(0,C)),Object(l.a)(t.subCharts[O].yaxis[k].graphs.slice(C+1)))})],Object(l.a)(t.subCharts[O].yaxis.slice(k+1)))})],Object(l.a)(t.subCharts.slice(O+1)))})}if(function(t){return"clearChart"===t.task}(e)){var I=e.params.mode;if("all"===I)return Object(c.a)(Object(c.a)({},t),{},{subCharts:[Object(c.a)(Object(c.a)({},t.subCharts[0]),{},{yaxis:[Object(c.a)(Object(c.a)({},t.subCharts[0].yaxis[0]),{},{graphs:[t.subCharts[0].yaxis[0].graphs[0]],tools:[]})]})]});if("indicators"===I)return Object(c.a)(Object(c.a)({},t),{},{subCharts:[Object(c.a)(Object(c.a)({},t.subCharts[0]),{},{yaxis:[Object(c.a)(Object(c.a)({},t.subCharts[0].yaxis[0]),{},{graphs:[t.subCharts[0].yaxis[0].graphs[0]]})],top:0,bottom:t.containerSize.height-1-t.xaxis.heightXAxis})]});if("tools"===I)return Object(c.a)(Object(c.a)({},t),{},{subCharts:t.subCharts.map((function(t,e){return Object(c.a)(Object(c.a)({},t),{},{yaxis:t.yaxis.map((function(t,e){return Object(c.a)(Object(c.a)({},t),{},{tools:[]})}))})}))})}else{if(function(t){return"addGraph"===t.task}(e)){var P=e.params.chartSeries,M=e.params.chartName,z=e.params.indicator?e.params.indicator:null,D=e.params.subchartIdx,A=z?{strokeColor:[lt(st,t.subCharts[D].yaxis[0].graphs.length)]}:{strokeColor:lt(st,t.subCharts[D].yaxis[0].graphs.length)},X=z?ot(P,M,z,A):it(P,M,A),E=X;return u(E)&&E.data[X.data.length-1].prices.length>1&&(E.style.strokeColor=E.data[X.data.length-1].prices.map((function(t,e){return lt(st,e)}))),Object(c.a)(Object(c.a)({},t),{},{subCharts:Object(l.a)(t.subCharts.map((function(t,e){return e===D?Object(c.a)(Object(c.a)({},t),{},{yaxis:[Object(c.a)(Object(c.a)({},t.yaxis[0]),{},{graphs:[].concat(Object(l.a)(t.yaxis[0].graphs),[Object(c.a)({},X)])})]}):t})))})}if(function(t){return"draw"===t.task}(e)){var R=e.params.xy;e.params.subchartIdx;return(e.params.type?["hline","vline"].includes(e.params.type)?1:["trendline"].includes(e.params.type)?2:0:0)&&e.params.type?!R&&e.params.type?Object(c.a)(Object(c.a)({},t),{},{draw:{isDrawing:!0,pixXy:[],type:e.params.type}}):t:Object(c.a)(Object(c.a)({},t),{},{draw:{isDrawing:!1,pixXy:[]}})}if(function(t){return"setBackgroundColor"===t.task}(e)){var W=e.params.color;return Object(c.a)(Object(c.a)({},t),{},{backgroundColor:W})}if(function(t){return"setGridStrokeColor"===t.task}(e)){var F=e.params.color;return Object(c.a)(Object(c.a)({},t),{},{grid:Object(c.a)(Object(c.a)({},t.grid),{},{style:Object(c.a)(Object(c.a)({},t.grid.style),{},{strokeColor:F})})})}if(function(t){return"setAxisFillColor"===t.task}(e)){var Y=e.params.color;return Object(c.a)(Object(c.a)({},t),{},{xaxis:Object(c.a)(Object(c.a)({},t.xaxis),{},{style:Object(c.a)(Object(c.a)({},t.xaxis.style),{},{fillColor:Y})}),yaxis:Object(c.a)(Object(c.a)({},t.yaxis),{},{style:Object(c.a)(Object(c.a)({},t.yaxis.style),{},{fillColor:Y})})})}if(function(t){return"setAxisStrokeColor"===t.task}(e)){var L=e.params.color;return Object(c.a)(Object(c.a)({},t),{},{xaxis:Object(c.a)(Object(c.a)({},t.xaxis),{},{style:Object(c.a)(Object(c.a)({},t.xaxis.style),{},{strokeColor:L})}),yaxis:Object(c.a)(Object(c.a)({},t.yaxis),{},{style:Object(c.a)(Object(c.a)({},t.yaxis.style),{},{strokeColor:L})})})}if(function(t){return"setAxisTextColor"===t.task}(e)){var N=e.params.color;return Object(c.a)(Object(c.a)({},t),{},{xaxis:Object(c.a)(Object(c.a)({},t.xaxis),{},{style:Object(c.a)(Object(c.a)({},t.xaxis.style),{},{fontColor:N})}),yaxis:Object(c.a)(Object(c.a)({},t.yaxis),{},{style:Object(c.a)(Object(c.a)({},t.yaxis.style),{},{fontColor:N})})})}if(function(t){return"toggleXaxisGrid"===t.task}(e))return Object(c.a)(Object(c.a)({},t),{},{grid:Object(c.a)(Object(c.a)({},t.grid),{},{useGridX:!t.grid.useGridX})});if(function(t){return"toggleYaxisGrid"===t.task}(e))return Object(c.a)(Object(c.a)({},t),{},{grid:Object(c.a)(Object(c.a)({},t.grid),{},{useGridY:!t.grid.useGridY})});if(function(t){return"toggleFullscreen"===t.task}(e))return Object(c.a)(Object(c.a)({},t),{},{fullscreen:!t.fullscreen});if(function(t){return"toggleDarkMode"===t.task}(e)){var B=!t.darkMode;return Object(c.a)(Object(c.a)({},t),{},{darkMode:B,backgroundColor:B?Pt.backgroundColor:It.backgroundColor,grid:Object(c.a)(Object(c.a)({},t.grid),{},{style:Object(c.a)(Object(c.a)({},t.grid.style),{},{strokeColor:B?Pt.grid.style.strokeColor:It.grid.style.strokeColor})})})}if(function(t){return"setLineChartStrokeColor"===t.task}(e)){var H=e.params.subchartIdx,G=e.params.yaxisIdx,V=e.params.graphIdx,$=e.params.color;t.subCharts[H].yaxis[G].graphs[V];return Object(c.a)(Object(c.a)({},t),{},{subCharts:[].concat(Object(l.a)(t.subCharts.slice(0,H)),[Object(c.a)(Object(c.a)({},t.subCharts[H]),{},{yaxis:[Object(c.a)(Object(c.a)({},t.subCharts[H].yaxis[G]),{},{graphs:[].concat(Object(l.a)(t.subCharts[H].yaxis[G].graphs.slice(0,V)),[Object(c.a)(Object(c.a)({},t.subCharts[H].yaxis[G].graphs[V]),{},{style:Object(c.a)(Object(c.a)({},t.subCharts[H].yaxis[G].graphs[V].style),{},{strokeColor:[$]})})],Object(l.a)(t.subCharts[H].yaxis[G].graphs.slice(V+1)))})]})],Object(l.a)(t.subCharts.slice(H+1)))})}if(ct(e)||dt(e)||ut(e)){var q=e.params.subchartIdx,_=e.params.yaxisIdx,Q=e.params.graphIdx,J=e.params.color,K=ct(e)?"candleUpColor":dt(e)?"candleDownColor":ut(e)?"candleStrokeColor":null;return K?Object(c.a)(Object(c.a)({},t),{},{subCharts:[].concat(Object(l.a)(t.subCharts.slice(0,q)),[Object(c.a)(Object(c.a)({},t.subCharts[q]),{},{yaxis:[Object(c.a)(Object(c.a)({},t.subCharts[q].yaxis[_]),{},{graphs:[].concat(Object(l.a)(t.subCharts[q].yaxis[_].graphs.slice(0,Q)),[Object(c.a)(Object(c.a)({},t.subCharts[q].yaxis[_].graphs[Q]),{},{style:Object(c.a)(Object(c.a)({},t.subCharts[q].yaxis[_].graphs[Q].style),{},Object(U.a)({},K,J))})],Object(l.a)(t.subCharts[q].yaxis[_].graphs.slice(Q+1)))})]})],Object(l.a)(t.subCharts.slice(q+1)))}):t}if(ht(e)||pt(e)){var Z=e.params.subchartIdx,tt=e.params.yaxisIdx,et=e.params.toolIdx,at=e.params.color,nt=ht(e)?"strokeColor":pt(e)?"anchorColor":null;return nt?Object(c.a)(Object(c.a)({},t),{},{subCharts:[].concat(Object(l.a)(t.subCharts.slice(0,Z)),[Object(c.a)(Object(c.a)({},t.subCharts[Z]),{},{yaxis:[Object(c.a)(Object(c.a)({},t.subCharts[Z].yaxis[tt]),{},{tools:[].concat(Object(l.a)(t.subCharts[Z].yaxis[tt].tools.slice(0,et)),[Object(c.a)(Object(c.a)({},t.subCharts[Z].yaxis[tt].tools[et]),{},{style:Object(c.a)(Object(c.a)({},t.subCharts[Z].yaxis[tt].tools[et].style),{},Object(U.a)({},nt,at))})],Object(l.a)(t.subCharts[Z].yaxis[tt].tools.slice(et+1)))})]})],Object(l.a)(t.subCharts.slice(Z+1)))}):t}if(function(t){return"setIndicatorParam"===t.task}(e)){var bt=e.params.subchartIdx,xt=e.params.yaxisIdx,ft=e.params.graphIdx,jt=e.params.paramIdx,mt=e.params.val,gt=t.subCharts[bt].yaxis[xt].graphs[ft];if(!u(gt))return t;var yt=gt.indicator.indicatorFn,vt=t.subCharts[0].yaxis[0].graphs[0].data,Ot=gt.indicator.params.map((function(t){return t.val}));Ot[jt]=mt;var kt=yt.apply(void 0,[vt,gt.name].concat(Object(l.a)(Ot)));return Object(c.a)(Object(c.a)({},t),{},{subCharts:[].concat(Object(l.a)(t.subCharts.slice(0,bt)),[Object(c.a)(Object(c.a)({},t.subCharts[bt]),{},{yaxis:[Object(c.a)(Object(c.a)({},t.subCharts[bt].yaxis[xt]),{},{graphs:[].concat(Object(l.a)(t.subCharts[bt].yaxis[xt].graphs.slice(0,ft)),[Object(c.a)(Object(c.a)({},gt),{},{data:kt,indicator:Object(c.a)(Object(c.a)({},gt.indicator),{},{params:[].concat(Object(l.a)(gt.indicator.params.slice(0,jt)),[Object(c.a)(Object(c.a)({},gt.indicator.params[jt]),{},{val:mt})],Object(l.a)(gt.indicator.params.slice(jt+1)))})})],Object(l.a)(t.subCharts[bt].yaxis[xt].graphs.slice(ft+1)))})]})],Object(l.a)(t.subCharts.slice(bt+1)))})}if(function(t){return"setHlineYlevel"===t.task}(e)){var Ct=e.params.subchartIdx,St=e.params.yaxisIdx,wt=e.params.toolIdx,Tt=e.params.val,Mt=[t.subCharts[Ct].yaxis[St].tools[wt].xy[0][0],Tt];return Object(c.a)(Object(c.a)({},t),{},{subCharts:[].concat(Object(l.a)(t.subCharts.slice(0,Ct)),[Object(c.a)(Object(c.a)({},t.subCharts[Ct]),{},{yaxis:[Object(c.a)(Object(c.a)({},t.subCharts[Ct].yaxis[St]),{},{tools:[].concat(Object(l.a)(t.subCharts[Ct].yaxis[St].tools.slice(0,wt)),[Object(c.a)(Object(c.a)({},t.subCharts[Ct].yaxis[St].tools[wt]),{},{xy:[Mt]})],Object(l.a)(t.subCharts[Ct].yaxis[St].tools.slice(wt+1)))})]})],Object(l.a)(t.subCharts.slice(Ct+1)))})}if(function(t){return"updateInteractionState"===t.task}(e))return Object(c.a)(Object(c.a)({},t),{},{pointer:e.params.newState.pointer,containerSize:e.params.newState.containerSize,subCharts:e.params.newState.subCharts,draw:Object(c.a)(Object(c.a)({},t.draw),e.params.newState.draw),xaxis:Object(c.a)(Object(c.a)({},t.xaxis),e.params.newState.xaxis)})}return t},xt=function(t,e,a){return{addGraph:function(t,e,r,n){return function(t,e,a,r,n){r({task:"addGraph",params:{subchartIdx:a,chartSeries:t,indicator:n,chartName:e}})}(t,e,r,a,n)},addSubchart:function(t,r,n,i){return function(t,e,a,r,n,i){r({task:"addSubchart",params:{chartSeries:t,chartName:e,indicator:n,containerHeight:a,reset:i}})}(t,r,e,a,n,i)},getSubchart:function(e){return t.subCharts[e]},getYaxis:function(e,a){return t.subCharts[e].yaxis[a]},getGraph:function(e,a,r){return t.subCharts[e].yaxis[a].graphs[r]},xToPix:function(e,a){var r=t.xaxis,n=r.widthPerTick,i=r.totalTranslatedX;return e*n+(void 0!==a?a:i)},pixToX:function(e,a){var r=t.xaxis,n=r.widthPerTick,i=r.totalTranslatedX;return(e-(void 0!==a?a:i))/n},yToPix:function(e,a,r,n){var i=t.subCharts[a].yaxis[r],o=i.heightPerPt,s=i.decimals,l=i.translatedY,c=void 0!==n?n:l;return t.subCharts[a].bottom-e*Math.pow(10,s)*o+c},pixToY:function(e,a,r,n){var i=t.subCharts[a].yaxis[r],o=i.heightPerPt,s=i.decimals,l=i.translatedY,c=void 0!==n?n:l;return(t.subCharts[a].bottom+c-e)/o*Math.pow(10,-s)}}},ft=function(t,e,a){return t*a+e},jt=function(t,e,a){return(t-e)/a},mt=function(t,e,a,r,n){return e-t*Math.pow(10,a)*n+r},gt=function(t,e,a,r,n){return(e+r-t)/n*Math.pow(10,-a)},yt=function(t,e,a,r,n,i){var o=i||10;if(M(t)||M(a)||M(r)||M(n)||M(e))return null;var s=[];if(S(e)?e.prices[0]&&s.push(e.prices[0]):O(e)?s.push(e.open,e.high,e.low,e.close):s.push(e.close),0===s.length)return null;var l=[];return s.forEach((function(e,i){var s=mt(e,a[r].bottom,a[r].yaxis[n].decimals,a[r].yaxis[n].translatedY,a[r].yaxis[n].heightPerPt);s>=t-o&&s<=t+o&&l.push({y:e.toFixed(z(e)),pixY:s})})),l?l.sort((function(e,a){return Math.abs(e.pixY-t)<Math.abs(a.pixY-t)?-1:Math.abs(e.pixY-t)>Math.abs(a.pixY-t)?1:0})):null};var vt=function(t,e,a,r,n,i){if(!t)return null;if(0===t.length)return null;var o=t;return o.forEach((function(t,e){var s=[];t.yaxis.forEach((function(c,d){var h=null,p=null,b=0;c.graphs.forEach((function(t,s){var c,x,f,j,m,g,y,v,k=o[e].yaxis[d].graphs[s],C=k.data;k.datasets.last={data:C[r],x:r,pixX:i,dateString:""},k.datasets.first={data:C[a],x:a,pixX:n,dateString:""};var w=k.data.filter((function(t,e){return e>=a&&e<=r}));k.curData=w,k.yMaxExact=u(k)&&(null===k||void 0===k||null===(c=k.indicator)||void 0===c||null===(x=c.default)||void 0===x?void 0:x.fixedYScale)?null===k||void 0===k||null===(f=k.indicator)||void 0===f||null===(j=f.default)||void 0===j?void 0:j.fixedYScale[1]:Math.max.apply(Math,Object(l.a)(w.map((function(t){if(S(t)){var e=Math.max.apply(Math,Object(l.a)(t.prices.filter((function(t){return null!==t}))));return e||0===e?e:0}return O(t)?t.high:t.close})))),k.yMinExact=u(k)&&(null===k||void 0===k||null===(m=k.indicator)||void 0===m||null===(g=m.default)||void 0===g?void 0:g.fixedYScale)?null===k||void 0===k||null===(y=k.indicator)||void 0===y||null===(v=y.default)||void 0===v?void 0:v.fixedYScale[0]:Math.min.apply(Math,Object(l.a)(w.map((function(t){if(S(t)){var e=Math.min.apply(Math,Object(l.a)(t.prices.filter((function(t){return null!==t}))));return e||0===e?e:0}return O(t)?t.low:t.close})))),(null===h||k.yMinExact<h)&&(h=k.yMinExact),(null===p||k.yMaxExact>p)&&(p=k.yMaxExact),k.decimals>b&&(b=k.decimals)}));var x=Math.max(Math.round((t.bottom-t.top)/75),3),f=b,j=function(t,e,a,r){for(var n=1/Math.pow(10,a),i=n,o=i,s=function(a){return Math.abs((t-e)/a-r)},l=s(i),c=0;i<t-e;){for(var d=0;d<=2;d++){var u=0===d?1:1===d?2.5:5,h=s(i*u);h<l&&(l=h,o=i*u)}c++,i=n*Math.pow(10,c)}return parseFloat(o.toFixed(a))}(p=p||0,h=h||0,f,x);c.optIntervalY=j;var m=null,g=null;c.graphs.forEach((function(t,e){t.yMax=Math.ceil(t.yMaxExact/j)*j,t.yMin=Math.floor(t.yMinExact/j)*j,(null===m||t.yMax>m)&&(m=t.yMax),(null===g||t.yMin<g)&&(g=t.yMin)}));var y=(t.bottom-t.top)/((m||0)-(g||0))/Math.pow(10,f);c.heightPerPt=y,c.translatedY=-mt(g||0,t.bottom,f,0,y)+t.bottom;for(var v=gt(t.bottom,t.bottom,f,c.translatedY,c.heightPerPt),k=mt(Math.ceil(v/j)*j,t.bottom,f,c.translatedY,y);k>=t.top;){var C=gt(k,t.bottom,c.decimals,c.translatedY,c.heightPerPt),w=(Math.round(C*Math.pow(10,f))/Math.pow(10,f)).toString();k>t.top+10&&k<t.bottom-10&&s.push({pixY:k,label:w}),k-=y*j/Math.pow(10,-f)}c.drawTicks=s}))})),o},Ot=function(t,e){if(!t||!e)return null;for(var a=0;a<e.length;a++){var r=e[a];if(t[1]>=r.top&&t[1]<r.bottom)return a}return null},kt=function(t,e,a,r,n,i,o){if(!t)return null;if(r)return null;if(n)return{type:"drawTool",init:t};var s=function(t,e,a){if(!t||!e||!a)return[];var r=Ot(t,e);if(null===r)return[];var n=[],i=a.totalTranslatedX,o=a.scaledWidthPerTick;return e[r].yaxis.forEach((function(a,s){var l=a.translatedY,c=a.heightPerPt;a.tools.forEach((function(a,d){a.xy.forEach((function(a,u){t[0]>=ft(a[0],i,o)-10&&t[0]<=ft(a[0],i,o)+10&&t[1]>=mt(a[1],e[r].bottom,e[r].yaxis[s].decimals,l,c)-10&&t[1]<=mt(a[1],e[r].bottom,e[r].yaxis[s].decimals,l,c)+10&&n.push([r,s,d,u])}))}))})),n}(t,e,a);if(s.length>0)return{type:"editTool",res:s,init:e[s[0][0]].yaxis[s[0][1]].tools[s[0][2]].xy[s[0][3]]};var l=function(t,e){if(!t)return null;for(var a=0;a<e.length;a++){var r=e[a];if(t[1]>=r.bottom-10&&t[1]<r.bottom+10)return a}return null}(t,e);return null!==l&&l!==e.length-1?{type:"resizeSubchart",res:l,initBottom:e[l].bottom}:t[0]>=0&&t[0]<0+i&&t[1]>=0&&t[1]<0+o?{type:"translate"}:t[0]>=0&&t[0]<0+i&&t[1]>=0+o?{type:"scale"}:null},Ct=function(t,e,a,r){if("editTool"!==t.type||0===t.res.length||!t.init)return e;var n=r.chartPointer.move.pixXSnap?r.chartPointer.move.pixXSnap:r.drag.xy[0],i=r.chartPointer.move.snapDatasets.length>0&&r.chartPointer.move.snapDatasets[0].pixYSnap?r.chartPointer.move.snapDatasets[0].pixYSnap:r.drag.xy[1],o=ft(Math.round(jt(r.drag.initial[0],a.totalTranslatedX,a.scaledWidthPerTick)),a.totalTranslatedX,a.scaledWidthPerTick),d=t.res[0][0],u=t.res[0][1],h=[],p={y:t.init[1],pixY:r.drag.initial[1]};e[d].yaxis[u].graphs.forEach((function(t,a){var n=yt(r.drag.initial[1],t.data[o],e,d,u);n&&n.length>0&&h.push(Object(c.a)(Object(c.a)({},n[0]),{},{y:parseFloat(n[0].y)}))})),h.length>0&&(p={y:h[0].y,pixY:h[0].pixY});var b=ft(t.init[0],a.totalTranslatedX,a.scaledWidthPerTick)+n-o,x=mt(t.init[1],e[d].bottom,e[d].yaxis[u].decimals,e[d].yaxis[u].translatedY,e[d].yaxis[u].heightPerPt)+i-p.pixY,f=jt(b,a.totalTranslatedX,a.scaledWidthPerTick),j=gt(x,e[d].bottom,e[d].yaxis[u].decimals,e[d].yaxis[u].translatedY,e[d].yaxis[u].heightPerPt),m=Object(s.a)(t.res[0],4),g=m[0],y=m[1],v=m[2],O=m[3];return[].concat(Object(l.a)(e.slice(0,g)),[Object(c.a)(Object(c.a)({},e[g]),{},{yaxis:[].concat(Object(l.a)(e[g].yaxis.slice(0,y)),[Object(c.a)(Object(c.a)({},e[g].yaxis[y]),{},{tools:[].concat(Object(l.a)(e[g].yaxis[y].tools.slice(0,v)),[Object(c.a)(Object(c.a)({},e[g].yaxis[y].tools[v]),{},{xy:[].concat(Object(l.a)(e[g].yaxis[y].tools[v].xy.slice(0,O)),[[f,j]],Object(l.a)(e[g].yaxis[y].tools[v].xy.slice(O+1)))})],Object(l.a)(e[g].yaxis[y].tools.slice(v+1)))})],Object(l.a)(e[g].yaxis.slice(y+1)))})],Object(l.a)(e.slice(g+1)))},St=function(t,e,a){if("resizeSubchart"!==t.type||null===t)return e;var r=t.res,n=Math.min(Math.max(t.initBottom+a.xy[1]-a.initial[1],e[r].top+10),e[r+1].bottom-10);return[].concat(Object(l.a)(e.slice(0,r)),[Object(c.a)(Object(c.a)({},e[r]),{},{bottom:n}),Object(c.a)(Object(c.a)({},e[r+1]),{},{top:n})],Object(l.a)(e.slice(r+2)))},wt=function(t,e,a){var r=[a.chartPointer.move.pixXSnap?a.chartPointer.move.pixXSnap:a.drag.xy[0],a.chartPointer.move.snapDatasets.length>0&&a.chartPointer.move.snapDatasets[0].pixYSnap?a.chartPointer.move.snapDatasets[0].pixYSnap:a.drag.xy[1]];return t&&e&&r?Object(c.a)(Object(c.a)({},e),{},{pixXy:[].concat(Object(l.a)(e.pixXy),[r])}):{isDrawing:!1,pixXy:[]}},Tt=a(114),It={xaxis:{heightXAxis:50,heightTickMarkLines:20,totalScaleX:0,totalTranslatedX:0,scaledWidthPerTick:10,xStart:0,xEnd:0,pixXStart:0,pixXEnd:0,startNoDataPeriod:0,endNoDataPeriod:0,noDataPeriodPortion:0,optPeriodRes:null,widthPerTick:20,xAxisTicks:[],style:{fillColor:"#fff",strokeColor:"#000",fontColor:"#000",fontSize:14,fontName:"Arial"}},grid:{useGridX:!0,useGridY:!0,style:{strokeColor:"rgba(51,51,51, 0.33)",strokeStyle:""}},yaxis:{widthYAxis:80,widthTickmarkLines:5,style:{fillColor:"#fff",strokeColor:"#000",fontColor:"#000",fontSize:14,fontName:"Arial"}},backgroundColor:"#fff",darkMode:!1,border:"#000",fullscreen:!1,subCharts:[],draw:{isDrawing:!1,pixXy:[]},containerSize:{top:0,left:0,width:300,height:300,init:!1},pointer:{isHovering:!1,move:{isMoving:!1,xy:[0,0]},wheel:{isWheeling:!1,delta:[0,0]},dragPointerUp:{isDragPointerUp:!1,xy:[0,0],first:!1,last:!1,initial:[0,0],movementInitial:[0,0]},drag:{isDragging:!1,xy:[0,0],first:!1,last:!1,initial:[0,0],movementInitial:[0,0],delta:[0,0]},chartPointer:{move:{x:0,pixX:0,pixY:0,snapDatasets:[],subchartIdx:0,xDateString:"",pixXSnap:0,xUnlimited:0},click:{clickedSubchartIdx:null}}}},Pt=Object(c.a)(Object(c.a)({},It),{},{backgroundColor:"#333",grid:Object(c.a)(Object(c.a)({},It.grid),{},{style:Object(c.a)(Object(c.a)({},It.grid.style),{},{strokeColor:"#666"})}),border:"#666",yaxis:Object(c.a)(Object(c.a)({},It.yaxis),{},{style:Object(c.a)(Object(c.a)({},It.yaxis.style),{},{fontColor:"#bbb"})})}),Mt=function(t,e){for(var a,r,i,o,d,p,b,x,f=window.matchMedia("(prefers-color-scheme: dark)").matches&&void 0===(null===(a=e.initState)||void 0===a?void 0:a.darkMode)||(null===e||void 0===e||null===(r=e.initState)||void 0===r?void 0:r.darkMode)?Pt:It,j=e.maxUpdatesPerSec?e.maxUpdatesPerSec:15,m=e.initWidthPerTick?e.initWidthPerTick:10,g=("static"!==e.viewMode||e.height&&e.width)&&e.viewMode?e.viewMode:"responsive",y=(null===(i=e.initState)||void 0===i?void 0:i.yaxis)?e.initState.yaxis:{},v=0,O=Object.entries(y);v<O.length;v++){var k=Object(s.a)(O[v],2),C=k[0],S=k[1];M(S)&&delete y[C]}for(var w=(null===(o=e.initState)||void 0===o?void 0:o.xaxis)?e.initState.xaxis:{},T=0,I=Object.entries(w);T<I.length;T++){var P=Object(s.a)(I[T],2),z=P[0],A=P[1];M(A)&&delete w[z]}for(var X=(null===(d=e.initState)||void 0===d?void 0:d.grid)?e.initState.grid:{},E=0,R=Object.entries(X);E<R.length;E++){var U=Object(s.a)(R[E],2),Y=U[0],L=U[1];M(L)&&delete X[Y]}var N=Object(c.a)(Object(c.a)(Object(c.a)({},f),e.initState),{},{grid:Object(c.a)(Object(c.a)({},f.grid),null===(p=e.initState)||void 0===p?void 0:p.grid),yaxis:Object(c.a)(Object(c.a)({},f.yaxis),y),xaxis:Object(c.a)(Object(c.a)({},f.xaxis),w)}),B=n.a.useReducer(bt,N),H=Object(s.a)(B,2),G=H[0],V=H[1],q=n.a.useRef({containerSize:f.containerSize,pointer:f.pointer,xaxis:{totalScaleX:0,totalTranslatedX:0,scaledWidthPerTick:10,xStart:0,xEnd:0,pixXStart:0,pixXEnd:0,startNoDataPeriod:0,endNoDataPeriod:0,noDataPeriodPortion:0,optPeriodRes:null,widthPerTick:10,xAxisTicks:[]},tmp:{scaleInitWidthPerTick:null,scaleInitTranslatedX:0,dragActionType:null,amtLastSubcharts:0,lastMainChartData:[]},lastUpdate:new Date,shallUpdate:[],userInteractedChartState:null}),_=G.containerSize.height-1,Q={domTarget:t,transform:function(t){var e=Object(s.a)(t,2),a=e[0],r=e[1];return[a-G.containerSize.left,r-G.containerSize.top]},drag:{useTouch:!0,experimental_preventWindowScrollY:!0},move:{}};Object(F.a)({onDrag:function(t){var e,a,r,n,i=(null===(e=q.current.pointer.drag)||void 0===e?void 0:e.delta)&&q.current.shallUpdate.includes("drag")?(null===(a=q.current.pointer.drag)||void 0===a?void 0:a.delta[0])+t.delta[0]:t.delta[0],o=(null===(r=q.current.pointer.drag)||void 0===r?void 0:r.delta)&&q.current.shallUpdate.includes("drag")?(null===(n=q.current.pointer.drag)||void 0===n?void 0:n.delta[1])+t.delta[1]:t.delta[1],s=t.xy,d=t.initial,u=t.movement,h=t.first,p=t.last,b=t.active;q.current=Object(c.a)(Object(c.a)({},q.current),{},{pointer:Object(c.a)(Object(c.a)({},q.current.pointer),{},{drag:{isDragging:b,xy:s,initial:d,movementInitial:u,last:p,first:h,delta:[i,o]}}),shallUpdate:[].concat(Object(l.a)(q.current.shallUpdate),["drag"]),lastUpdate:q.current.lastUpdate})},onMove:function(t){q.current=Object(c.a)(Object(c.a)({},q.current),{},{pointer:Object(c.a)(Object(c.a)({},q.current.pointer),{},{move:{isMoving:t.active,xy:t.xy}}),shallUpdate:[].concat(Object(l.a)(q.current.shallUpdate),["pointerMove"])})},onHover:function(t){q.current=Object(c.a)(Object(c.a)({},q.current),{},{pointer:Object(c.a)(Object(c.a)({},q.current.pointer),{},{isHovering:t.active}),shallUpdate:[].concat(Object(l.a)(q.current.shallUpdate),["pointerMove"])})},onWheel:function(t){var e,a,r,n,i=(null===(e=q.current.pointer.wheel)||void 0===e?void 0:e.delta)&&q.current.shallUpdate.includes("wheel")?(null===(a=q.current.pointer.wheel)||void 0===a?void 0:a.delta[0])+t.delta[0]:t.delta[0],o=(null===(r=q.current.pointer.wheel)||void 0===r?void 0:r.delta)&&q.current.shallUpdate.includes("wheel")?(null===(n=q.current.pointer.wheel)||void 0===n?void 0:n.delta[1])+t.delta[1]:t.delta[1];q.current=Object(c.a)(Object(c.a)({},q.current),{},{pointer:Object(c.a)(Object(c.a)({},q.current.pointer),{},{wheel:{delta:[i,o],isWheeling:t.active}}),shallUpdate:[].concat(Object(l.a)(q.current.shallUpdate),["wheel"])})},onDragEnd:function(t){var e=t.xy,a=t.initial,r=t.first,n=t.last,i=t.movement;q.current=Object(c.a)(Object(c.a)({},q.current),{},{pointer:Object(c.a)(Object(c.a)({},q.current.pointer),{},{dragPointerUp:{isDragPointerUp:!0,xy:e,initial:a,movementInitial:i,last:n,first:r}}),shallUpdate:[].concat(Object(l.a)(q.current.shallUpdate),["dragEnd"])})}},Q),n.a.useEffect((function(){if(t&&t.current){if(G.fullscreen||"fullscreen"===g){t.current.style.position="fixed",t.current.style.width="100%",t.current.style.height="100%",t.current.style.top="0px",t.current.style.zIndex="2000";var a=t.current,r=a.clientWidth,n=a.clientHeight;q.current=Object(c.a)(Object(c.a)({},q.current),{},{shallUpdate:[].concat(Object(l.a)(q.current.shallUpdate),["containerResize"]),containerSize:{top:0,left:0,width:r,height:n,init:!0}})}else{var i=t.current.getBoundingClientRect(),o=i.top,s=i.left,d=t.current,u=d.clientWidth,h=d.clientHeight;t.current.style.position="relative",t.current.style.width=e.width&&"static"===g?e.width+"px":"100%",t.current.style.height=e.height&&"static"===g?e.height+"px":"100%",t.current.style.top="0px",q.current=Object(c.a)(Object(c.a)({},q.current),{},{shallUpdate:[].concat(Object(l.a)(q.current.shallUpdate),["containerResize"]),containerSize:{top:o,left:s,width:u,height:h,init:!0}})}if(!e.height||!e.width||"static"!==g){var p=function(e){if(t&&t.current)if(G.fullscreen||"fullscreen"===g){var a=t.current,r=a.clientWidth,n=a.clientHeight;q.current=Object(c.a)(Object(c.a)({},q.current),{},{shallUpdate:[].concat(Object(l.a)(q.current.shallUpdate),["containerResize"]),containerSize:{top:0,left:0,width:r,height:n,init:!0}})}else{var i=t.current.getBoundingClientRect(),o=i.top,s=i.left,d=t.current,u=d.clientWidth,h=d.clientHeight;q.current=Object(c.a)(Object(c.a)({},q.current),{},{shallUpdate:[].concat(Object(l.a)(q.current.shallUpdate),["containerResize"]),containerSize:{top:o,left:s,width:u,height:h,init:!0}})}};return t.current.parentElement&&t.current.parentElement.addEventListener("resize",(function(){})),window.addEventListener("resize",p),window.addEventListener("orientationchange",p),function(){window.removeEventListener("resize",p),window.removeEventListener("orientationchange",p)}}}}),[t,e.width,e.height,G.fullscreen,g,null===t||void 0===t||null===(b=t.current)||void 0===b?void 0:b.clientWidth,null===t||void 0===t||null===(x=t.current)||void 0===x?void 0:x.clientHeight]);var K=G.subCharts.map((function(t){return{yaxis:t.yaxis.map((function(t){return{decimals:t.decimals,graphs:t.graphs.map((function(t){var e=u(t)?Object(c.a)({},t.indicator):{};return Object(c.a)({decimals:t.decimals,name:t.name,style:t.style,type:t.type},e)})),tools:t.tools.map((function(t){return{type:t.type,params:t.params,style:t.style}}))}}))}})),Z={xaxis:{heightXAxis:G.xaxis.heightXAxis,heightTickMarkLines:G.xaxis.heightTickMarkLines,style:G.xaxis.style},subcharts:K};return Tt(q.current.userInteractedChartState,Z)||(q.current.userInteractedChartState=Z),n.a.useEffect((function(){var t=function(){var t,e,a,r,n,i,o,s=q.current,d=s.pointer.dragPointerUp,u=s.pointer.drag;if(s.shallUpdate.length>0){var p,b,x,f=G.yaxis.widthYAxis,j=s.containerSize.width-1,g=s.containerSize.height-1,y=G.xaxis.heightXAxis,v=G.subCharts,O=s.xaxis,k=G.draw;if(s.shallUpdate.includes("dragEnd")||(s.pointer.dragPointerUp.isDragPointerUp=!1),D(s.shallUpdate,"containerResize")&&G.subCharts.length>0){var C=s.containerSize.height-1-G.xaxis.heightXAxis-G.subCharts[G.subCharts.length-1].bottom,S=Math.floor(C/G.subCharts.length),w=G.subCharts[0].bottom-G.subCharts[0].top+S,T=S+(w<250?250-w:0),I=G.subCharts.length>1?Math.floor((C-T)/(G.subCharts.length-1)):0,P=G.subCharts.length>1?(C-T)%(G.subCharts.length-1):0,M=0,z=0;v=v.map((function(t,e){if(0===e)return M=t.bottom+1*T,Object(c.a)(Object(c.a)({},t),{},{bottom:t.bottom+1*T});var a=Math.sign(P)>0&&P>0&&0!==P?-1:Math.sign(P)<0&&P<0&&0!==P?1:0;P+=a,z+=a;var r=M;return M=t.bottom+e*I+T+Math.abs(z),Object(c.a)(Object(c.a)({},t),{},{top:r,bottom:t.bottom+e*I+T+Math.abs(z)})})),q.current.userInteractedChartState=null}if(D(s.shallUpdate,"drag","wheel","containerResize","deps")||s.tmp.dragActionType){var A=null===u||void 0===u?void 0:u.initial;if(x=kt(A,v,O,!!s.tmp.dragActionType,G.draw.isDrawing,j-f,g-y),!s.tmp.dragActionType&&x&&["resizeSubchart"].includes(x.type)&&(s.tmp.dragActionType=x),s.tmp.dragActionType){var X,E,R;if(s.pointer.drag.isDragging)"resizeSubchart"===(null===(X=s.tmp.dragActionType)||void 0===X?void 0:X.type)&&(v=St(s.tmp.dragActionType,v,s.pointer.drag));if(!s.pointer.drag.isDragging)if(!["drawTool","editTool"].includes(null===(E=s.tmp.dragActionType)||void 0===E?void 0:E.type))"resizeSubchart"===(null===(R=s.tmp.dragActionType)||void 0===R?void 0:R.type)&&(v=St(s.tmp.dragActionType,v,s.pointer.drag),s.userInteractedChartState=null,s.tmp.dragActionType=null)}if(x&&["scale","translate"].includes(x.type)||D(s.shallUpdate,"containerResize","deps")){var F,U,Y,L,N,B,H,_,Q,K,Z,tt,at,rt,nt,it;null!==(F=s.tmp.amtLastSubcharts!==G.subCharts.length&&1===G.subCharts.length||s.tmp.lastMainChartData!==(null===(U=G.subCharts)||void 0===U||null===(Y=U[0])||void 0===Y||null===(L=Y.yaxis)||void 0===L||null===(N=L[0])||void 0===N||null===(B=N.graphs)||void 0===B||null===(H=B[0])||void 0===H?void 0:H.data))&&void 0!==F&&F&&(s.xaxis.totalTranslatedX=G.xaxis.totalTranslatedX);var ot=s.tmp,st=ot.scaleInitTranslatedX,lt=ot.scaleInitWidthPerTick,ct=(null===(_=v)||void 0===_||null===(Q=_[0])||void 0===Q||null===(K=Q.yaxis)||void 0===K||null===(Z=K[0])||void 0===Z||null===(tt=Z.graphs)||void 0===tt?void 0:tt[0])?null===(at=v)||void 0===at?void 0:at[0].yaxis[0].graphs[0]:null;ct&&(h(ct)||(ct=null)),s.xaxis=function(t,e,a,r,n,i,o,s,l,d){var u=!!(null===a||void 0===a?void 0:a.isWheeling),h=null===a||void 0===a?void 0:a.delta[1],p=null===r||void 0===r?void 0:r.xy,b=function(t){return.5*Math.round(Math.min(Math.max(t+640,0)*(n-.5)/640-(n-.5),l/3-n)/.5)};if(i){var x=null===e||void 0===e?void 0:e.initial;if(!x)return t;if(o&&!h){var f=(null===e||void 0===e?void 0:e.delta)?Math.max(Math.min(e.delta[0]+t.totalTranslatedX,l-2*t.scaledWidthPerTick),-(d-3)*t.scaledWidthPerTick):t.totalTranslatedX;return Object(c.a)(Object(c.a)({},t),{},{totalTranslatedX:f})}if(s&&!h){var j=t.scaleInitWidthPerTick?t.scaleInitWidthPerTick:t.scaledWidthPerTick,m=t.scaleInitTranslatedX?t.scaleInitTranslatedX:t.totalTranslatedX,g=(null===e||void 0===e?void 0:e.delta)?t.totalScaleX+(null===e||void 0===e?void 0:e.delta[0]):t.totalScaleX;g=Math.min(Math.max(g,-640),640*(l/3-n+n-.5)/(n-.5)-640);var y=n+b(g),v=m,O=x[0],k=m-((x[0]-v)/j*y+v)+O;return(null===e||void 0===e?void 0:e.isDragging)||(j=null),Object(c.a)(Object(c.a)({},t),{},{scaleInitWidthPerTick:j,scaleInitTranslatedX:m,totalScaleX:g,scaledWidthPerTick:y,totalTranslatedX:k})}}else if(u&&h){var C=t.scaledWidthPerTick,S=t.totalTranslatedX,w=t.totalScaleX+h/10;w=Math.min(Math.max(w,-640),640*(l/3-n+n-.5)/(n-.5)-640);var T=n+b(w),I=S,P=p?p[0]:0,M=((p?p[0]:0)-I)/C,z=S-(Math.round(M)*T+t.totalTranslatedX)+P;return u||(C=null),Object(c.a)(Object(c.a)({},t),{},{scaleInitWidthPerTick:C,scaleInitTranslatedX:S,totalScaleX:w,scaledWidthPerTick:T,totalTranslatedX:z})}return t}(Object(c.a)(Object(c.a)({},s.xaxis),{},{scaleInitTranslatedX:st,scaleInitWidthPerTick:lt}),s.pointer.drag,s.pointer.wheel,s.pointer.move,m,s.shallUpdate.includes("drag"),"translate"===(null===(rt=x)||void 0===rt?void 0:rt.type),"scale"===(null===(nt=x)||void 0===nt?void 0:nt.type),j,(null===(it=ct)||void 0===it?void 0:it.data.length)||0),O=Object(c.a)(Object(c.a)(Object(c.a)({},O),s.xaxis),function(t,e,a,r,n){var i=[],o=Math.max(Math.ceil(-e/t),0),s=null===n||void 0===n?void 0:n.data.length,l=Math.max(Math.ceil(-e/t),0)*t+e,d=0,u=0,h=Math.abs(Math.min(Math.ceil(-e/t),0)),p=0,b=0,x=null;if(a&&r&&s&&(d=Math.min(a,s*t+e),u=Math.min(Math.floor((d-e)/t),s-1),b=(h+(p=Math.max(Math.floor((a-e)/t)-s,0)))/(u-o+h+p),n&&(x=J(n.data,o,u,n.meta,b,Object.assign({},n.dateStat)))&&n.meta.chartPeriod))for(var f=l,j=o;f<d;){var m=et(n.data[j].date,n.dateStat,n.meta.chartPeriod,Object(c.a)({},x));if(m){var g=$(n.data[j].date,m);i.push({x:f,dateString:g.toString()}),f+=t,j++}else f+=t,j++}return{xStart:o,pixXStart:l,xEnd:u,pixXEnd:d,widthPerTick:t,startNoDataPeriod:h,endNoDataPeriod:p,noDataPeriodPortion:b,xAxisTicks:i,optPeriodRes:x}}(s.xaxis.scaledWidthPerTick,s.xaxis.totalTranslatedX,s.containerSize.width,G.yaxis.widthYAxis,ct))}if(x&&["scale","translate","resizeSubchart"].includes(x.type)||s.tmp.dragActionType||D(s.shallUpdate,"containerResize","deps")){var dt=vt(v,s.xaxis.scaledWidthPerTick,O.xStart,O.xEnd,O.pixXStart,O.pixXEnd);dt&&(v=dt)}}if(s.shallUpdate.includes("pointerMove")){var ut,ht,pt,bt,xt,mt=function(t,e,a,r,n){if(!r||!n)return null;var i=Math.round(jt(null===n||void 0===n?void 0:n.xy[0],e,t));if(i<0||i>r.data.length-1)return{xPointerUnlimited:i};var o=Math.abs(Math.round(i)),s=J(r.data,a.xStart,a.xEnd,r.meta,a.noDataPeriodPortion,Object.assign({},r.dateStat));if(!s||!r.meta.chartPeriod)return null;var l=et(r.data[o].date,r.dateStat,r.meta.chartPeriod,Object(c.a)({},s));return{xPointer:o,xPointerDateStr:$(r.data[o].date,l||r.meta.chartPeriod.chartPeriodName),pixXPointer:ft(o,e,t),xPointerUnlimited:i}}(O.scaledWidthPerTick,O.totalTranslatedX,O,null===(ut=v)||void 0===ut||null===(ht=ut[0])||void 0===ht||null===(pt=ht.yaxis)||void 0===pt||null===(bt=pt[0])||void 0===bt||null===(xt=bt.graphs)||void 0===xt?void 0:xt[0],s.pointer.move);b=function(t,e,a,r,n,i,o){var s=null===i||void 0===i?void 0:i.xy;if(i&&t&&s){var l=function(e){for(var a=-1,r=0;r<t.length;r++){var n=t[r];e[1]>=n.top&&e[1]<n.bottom&&(a=r)}return a},c=l(s);if(-1!==c){var d=o&&o.xy?l(o.xy):null,u=[];return null!==e&&t[c].yaxis.forEach((function(a,n){a.graphs.forEach((function(o,s){var l=null,d=null,h=yt(null===i||void 0===i?void 0:i.xy[1],o.data[e],t,c,n);h&&h.length>0&&(d=h[0].pixY,l=h[0].y),u.push({yaxisIdx:n,graphIdx:s,data:o.data[e],y:gt(null===i||void 0===i?void 0:i.xy[1],t[c].bottom,a.decimals,a.translatedY,a.heightPerPt),ySnap:l,pixYSnap:d,dateString:r})}))})),{move:{pixX:null===i||void 0===i?void 0:i.xy[0],pixXSnap:n,pixY:null===i||void 0===i?void 0:i.xy[1],x:e,xUnlimited:a,subchartIdx:c,snapDatasets:u,xDateString:r},click:{clickedSubchartIdx:d}}}}}(v,void 0!==(null===mt||void 0===mt?void 0:mt.xPointer)?null===mt||void 0===mt?void 0:mt.xPointer:null,void 0!==(null===mt||void 0===mt?void 0:mt.xPointerUnlimited)?mt.xPointerUnlimited:-1,(null===mt||void 0===mt?void 0:mt.xPointerDateStr)||"",(null===mt||void 0===mt?void 0:mt.pixXPointer)||0,s.pointer.move,s.pointer.dragPointerUp)}if((s.shallUpdate.includes("drag")||(null===(p=s.tmp)||void 0===p?void 0:p.dragActionType)&&["editTool","drawTool"].includes(s.tmp.dragActionType.type))&&(!s.tmp.dragActionType&&x&&["editTool","drawTool"].includes(x.type)&&(s.tmp.dragActionType=x),s.tmp.dragActionType)){var Tt,It,Pt;if(s.pointer.drag.isDragging)"editTool"===(null===(Tt=s.tmp.dragActionType)||void 0===Tt?void 0:Tt.type)&&(v=Ct(s.tmp.dragActionType,v,O,s.pointer));if(!s.pointer.drag.isDragging)if("editTool"===(null===(It=s.tmp.dragActionType)||void 0===It?void 0:It.type))v=Ct(s.tmp.dragActionType,v,O,s.pointer),s.userInteractedChartState=null,s.tmp.dragActionType=null;else if(d.isDragPointerUp&&"drawTool"===(null===(Pt=s.tmp.dragActionType)||void 0===Pt?void 0:Pt.type)){var Mt=G.draw.type?["hline","vline"].includes(G.draw.type)?1:["trendline"].includes(G.draw.type)?2:0:0;Mt?k.pixXy.length<Mt-1?k=wt(k.type,k,s.pointer):(v=function(t,e,a,r){var n=Ot(r.initial,t);if(null===n||!e||!a||!r||!a.type)return t;var i=a.pixXy.map((function(a,r){return[jt(a[0],e.totalTranslatedX,e.scaledWidthPerTick),gt(a[1],t[n].bottom,t[n].yaxis[0].decimals,t[n].yaxis[0].translatedY,t[n].yaxis[0].heightPerPt)]}));return[].concat(Object(l.a)(t.slice(0,n)),[Object(c.a)(Object(c.a)({},t[n]),{},{yaxis:[Object(c.a)(Object(c.a)({},t[n].yaxis[0]),{},{tools:[].concat(Object(l.a)(t[n].yaxis[0].tools),[{xy:i,type:a.type,style:{strokeColor:"blue",anchorColor:"#333"}}])})].concat(Object(l.a)(t[n].yaxis.slice(1)))})],Object(l.a)(t.slice(n+1)))}(v,O,k=wt(k.type,k,s.pointer),s.pointer.drag),k={isDrawing:!1,pixXy:[]},s.tmp.dragActionType=null):k={isDrawing:!1,pixXy:[]}}}s.lastUpdate,s.shallUpdate,s.userInteractedChartState,s.xaxis,s.tmp;var zt=Object(W.a)(s,["lastUpdate","shallUpdate","userInteractedChartState","xaxis","tmp"]);s.xaxis=Object(c.a)(Object(c.a)({},s.xaxis),O),b&&(s.pointer.chartPointer=b),V({task:"updateInteractionState",params:{newState:Object(c.a)(Object(c.a)({},zt),{},{xaxis:O,subCharts:v,draw:k})}}),q.current=Object(c.a)(Object(c.a)({},s),{},{lastUpdate:new Date,shallUpdate:[]})}s.tmp.amtLastSubcharts=G.subCharts.length,s.tmp.lastMainChartData=null!==(t=null===(e=G.subCharts)||void 0===e||null===(a=e[0])||void 0===a||null===(r=a.yaxis)||void 0===r||null===(n=r[0])||void 0===n||null===(i=n.graphs)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.data)&&void 0!==t?t:null};console.log("updated Timer"),q.current.shallUpdate.push("deps"),t();var e=window.setInterval(t,1e3/j);return function(){window.clearInterval(e)}}),[j,m,G.draw.isDrawing,G.draw.pixXy,G.yaxis.widthYAxis,G.xaxis.heightXAxis,q.current.userInteractedChartState,G.fullscreen]),[Object(c.a)(Object(c.a)({},G),{},{methods:xt(G,_,V)}),V]},zt=function(t){var e=t.style,a=t.pixXy,r=t.mode,i=t.subchartTop,o=t.subchartBottom;if(2!==a.length)return null;var s=(null===e||void 0===e?void 0:e.strokeColor)?e.strokeColor:"red",c=(null===e||void 0===e?void 0:e.anchorColor)?e.anchorColor:"#333",u=["line","trendline","infiniteLine"].includes(r)?r:"trendline",h=[];if(a[0][0]>a[1][0]?h.push(Object(l.a)(a[1]),Object(l.a)(a[0])):h.push(Object(l.a)(a[0]),Object(l.a)(a[1])),"trendline"===u||"infiniteLine"===r){var p=h[1][0]-h[0][0],b=h[1][1]-h[0][1],x=b/p,f=b<0?i:o,j=h[0][1]-x*h[0][0],m=(f-j)/x;if(h[1][0]=m,h[1][1]=f,"infiniteLine"===r){var g=b<0?o:i,y=(g-j)/x;h[0][0]=y,h[0][1]=g}}return Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(d.c,{x:0,y:0,points:[h[0][0],h[0][1],h[1][0],h[1][1]],stroke:s,strokeWidth:1}),Object(w.jsx)(d.a,{x:a[0][0],y:a[0][1],radius:5,fill:c}),Object(w.jsx)(d.a,{x:a[1][0],y:a[1][1],radius:5,fill:c})]})},Dt=function(t){var e=t.style,a=t.pixXy,r=t.subchartTop,i=t.subchartBottom;if(1!==a.length)return null;var o=(null===e||void 0===e?void 0:e.strokeColor)?e.strokeColor:"red",s=(null===e||void 0===e?void 0:e.anchorColor)?e.anchorColor:"#333",l=[];return l.push([a[0][0],r],[a[0][0],i]),Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(d.c,{x:0,y:0,points:[l[0][0],l[0][1],l[1][0],l[1][1]],stroke:o,strokeWidth:1}),Object(w.jsx)(d.a,{x:a[0][0],y:a[0][1],radius:5,fill:s})]})},At=function(t){var e=t.style,a=t.pixXy,r=t.pixXstart,i=t.pixXend;if(1!==a.length)return null;var o=(null===e||void 0===e?void 0:e.strokeColor)?e.strokeColor:"red",s=(null===e||void 0===e?void 0:e.anchorColor)?e.anchorColor:"#333",l=[];return l.push([r,a[0][1]],[i,a[0][1]]),Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(d.c,{x:0,y:0,points:[l[0][0],l[0][1],l[1][0],l[1][1]],stroke:o,strokeWidth:1}),Object(w.jsx)(d.a,{x:a[0][0],y:a[0][1],radius:5,fill:s})]})},Xt=a(351),Et=a(343),Rt=a(366),Wt=a(165),Ft=function(t){var e=t.disableTheme,a=t.theme;return Object(w.jsx)(n.a.Fragment,{children:e?t.children:Object(w.jsx)(Et.a,{theme:a,children:t.children})})},Ut=Object(Rt.a)(Object(Wt.a)({palette:{primary:{main:"#009688"},secondary:{main:"#f50057"},type:"light"},typography:{h1:{fontWeight:600,fontSize:"3rem",lineHeight:1.167},h2:{fontWeight:600,fontSize:"2.5rem",lineHeight:1.167},h3:{fontWeight:600,fontSize:"2rem",lineHeight:1.167},h4:{fontWeight:600,fontSize:"1.88rem",lineHeight:1.167},h5:{fontWeight:600,fontSize:"1.44rem",lineHeight:1.167},h6:{fontWeight:600,fontSize:"1.25rem",lineHeight:1.167},fontFamily:"'Quattrocento Sans', sans-serif"}})),Yt=Object(Rt.a)(Object(Wt.a)({palette:{primary:{main:"#009688"},secondary:{main:"#f50057"},type:"dark"},typography:{h1:{fontWeight:600,fontSize:"3rem",lineHeight:1.167},h2:{fontWeight:600,fontSize:"2.5rem",lineHeight:1.167},h3:{fontWeight:600,fontSize:"2rem",lineHeight:1.167},h4:{fontWeight:600,fontSize:"1.88rem",lineHeight:1.167},h5:{fontWeight:600,fontSize:"1.44rem",lineHeight:1.167},h6:{fontWeight:600,fontSize:"1.25rem",lineHeight:1.167,fontFamily:"'Open Sans', sans-serif"},fontFamily:"'Quattrocento Sans', sans-serif"}})),Lt=a(348),Nt=a(365),Bt=a(344),Ht=a(362),Gt=a(352),Vt=a(349),$t=a(345),qt=a(297),_t=a(346),Qt=a(347),Jt=function(t){var e=t.ChartState,a=t.onNavigate,r=(Object(Bt.a)("(min-width:600px)"),e.yaxis),i=(r.widthYAxis,r.widthTickmarkLines,e.xaxis),o=(i.heightXAxis,i.heightTickMarkLines,e.containerSize.width,e.containerSize.height,e.xaxis.xAxisTicks,Object(f.a)());return Object(w.jsx)(n.a.Fragment,{children:Object(w.jsxs)($t.a,{children:[Object(w.jsxs)(qt.a,{button:!0,onClick:function(){null===a||void 0===a||a("chart")},children:[Object(w.jsx)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:o.palette.secondary.main,minWidth:48,height:48},children:Object(w.jsx)(v.a,{path:g.i,size:2,color:o.palette.secondary.contrastText})}),Object(w.jsx)(Qt.a,{primary:"Chart",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(w.jsxs)(qt.a,{button:!0,onClick:function(){null===a||void 0===a||a("indicators")},children:[Object(w.jsx)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:o.palette.secondary.main,minWidth:48,height:48},children:Object(w.jsx)(v.a,{path:g.h,size:2,color:o.palette.secondary.contrastText})}),Object(w.jsx)(Qt.a,{primary:"Indicators",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(w.jsxs)(qt.a,{button:!0,onClick:function(){null===a||void 0===a||a("tools")},children:[Object(w.jsx)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:o.palette.secondary.main,minWidth:48,height:48},children:Object(w.jsx)(v.a,{path:g.A,size:2,color:o.palette.secondary.contrastText})}),Object(w.jsx)(Qt.a,{primary:"Tools",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(w.jsxs)(qt.a,{button:!0,onClick:function(){null===a||void 0===a||a("settings")},children:[Object(w.jsx)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:o.palette.secondary.main,minWidth:48,height:48},children:Object(w.jsx)(v.a,{path:g.H,size:2,color:o.palette.secondary.contrastText})}),Object(w.jsx)(Qt.a,{primary:"Settings",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(w.jsxs)(qt.a,{button:!0,onClick:function(){null===a||void 0===a||a("quickys")},children:[Object(w.jsx)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:o.palette.secondary.main,minWidth:48,height:48},children:Object(w.jsx)(v.a,{path:g.F,size:2,color:o.palette.secondary.contrastText})}),Object(w.jsx)(Qt.a,{primary:"Quick Tasks",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]})]})})},Kt=a(369),Zt=a(353),te=a(354),ee={indicatorFn:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=t.map((function(e,r){if(r<a-1)return{prices:[null],date:e.date};var n=0;return t.slice(r-a+1,r+1).forEach((function(t){k(t)?n+=t.close:S(t)&&(n+=t.prices[0]?t.prices[0]:0)})),{prices:[n/a],date:e.date}}))||[];return r},name:"SMA",params:[{name:"period",val:10}],default:{params:[{name:"period",val:10}],newSubchart:!1},type:"line"},ae=function(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=[],n=0;n<t.length;n++)if(n<a-1)r.push({prices:[null],date:t[n].date});else if(n===a-1){for(var i=0,o=0;o<a;o++){var s=t[o],l=k(s)?s.close:S(s)&&s.prices[0]||0;i+=l}i/=a,r.push({prices:[i],date:t[n].date})}else{var c=2/(a+1),d=t[n],u=k(d)?d.close:S(d)&&d.prices[0]||0,h=(u-r[n-1].prices[0])*c+r[n-1].prices[0];r.push({prices:[h],date:t[n].date})}return r},re={indicatorFn:ae,name:"EMA",params:[{name:"period",val:10}],default:{params:[{name:"period",val:10}],newSubchart:!1},type:"line"},ne={indicatorFn:function(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=[],n=0;n<t.length;n++)if(n<a)r.push({prices:[null],date:t[n].date});else{for(var i=0,o=n-a+1;o<=n;o++){var s=t[o],l=t[o-1],c=0;if(O(s)&&O(l)){var d=s.high-s.low,u=Math.abs(s.high-l.close),h=Math.abs(s.low-l.close);c=Math.max(d,u,h)}else Math.abs(s.close-l.close);i+=c}r.push({prices:[i/a],date:t[n].date})}return r},name:"ATR",params:[{name:"period",val:14}],default:{params:[{name:"period",val:14}],newSubchart:!0},type:"line"},ie={indicatorFn:function(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=[],n=null,i=0;i<t.length;i++)if(!(i<a&&(r.push({prices:[null],date:t[i].date}),0===i))){var o=t[i],s=t[i-1],l=o.close-s.close,c=l>0?l:0,d=l<0?-l:0,u=1/a;if(1===i&&(n={lastUpEma:c,lastDwnEma:d}),n&&!(i<a)){var h=c*u+(1-u)*n.lastUpEma;n.lastUpEma=h;var p=d*u+(1-u)*n.lastDwnEma;n.lastDwnEma=p;var b=0===p?100:100-100/(1+h/p);i<a?r.push({prices:[null],date:t[i].date}):r.push({prices:[b],date:t[i].date})}}return r},name:"RSI",params:[{name:"period",val:14}],default:{params:[{name:"period",val:14}],newSubchart:!0,decimals:2,fixedYScale:[0,100]},type:"line"},oe={name:"OBV",type:"line",params:[],default:{params:[],newSubchart:!0,decimals:0},indicatorFn:function(t){for(var e=[],a=0;a<t.length;a++){var r=t[a];if(0===a&&C(r))e.push({prices:[r.volume],date:r.date});else{var n=t[a-1];if(C(r)&&C(n)){var i=r.volume+n.volume;e.push({prices:[i],date:t[a].date})}else e.push({prices:[null],date:t[a].date})}}return e}},se={indicatorFn:function(t){for(var e=[],a=0;a<t.length;a++){var r=t[a];C(r)?e.push({prices:[r.volume],date:r.date}):e.push({prices:[0],date:r.date})}return e},name:"Volume",params:[],default:{params:[],newSubchart:!0,decimals:0},type:"bars"},le={indicatorFn:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:26,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:9,i=ae(t,e,a),o=ae(t,e,r),s=i.map((function(e,a){var r=o[a].prices[0],n=e.prices[0];return{prices:[null===n||null===r?null:n-r],date:t[a].date,priceLabels:["EMA"]}})),l=ae(s,e,n),d=s.map((function(t,e){var a=t.prices[0],r=l[e].prices[0],n=null===a||null===r?null:a-r;return Object(c.a)(Object(c.a)({},t),{},{prices:[a,r,n]})}));return d},name:"MACD",params:[{name:"period short",val:12},{name:"period long",val:26},{name:"signal period",val:9}],default:{params:[{name:"period short",val:12},{name:"period long",val:26},{name:"signal period",val:9}],newSubchart:!0},type:"line"},ce=a(358),de=a(367),ue=Object(Lt.a)((function(t){return Object(Nt.a)({root:{color:t.palette.text.secondary,"&:hover > $content":{backgroundColor:t.palette.action.hover},"&:focus > $content, &$selected > $content":{backgroundColor:"var(--tree-view-bg-color, ".concat(t.palette.grey[400],")"),color:"var(--tree-view-color)"},"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label":{backgroundColor:"transparent"}},content:{color:t.palette.text.secondary,borderTopRightRadius:t.spacing(2),borderBottomRightRadius:t.spacing(2),paddingRight:t.spacing(1),fontWeight:t.typography.fontWeightMedium,"$expanded > &":{fontWeight:t.typography.fontWeightRegular},width:"auto"},group:{marginLeft:0,"& $content":{paddingLeft:t.spacing(2)}},expanded:{},selected:{},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:t.spacing(1,0)},labelRootBtn:{width:"max-content",paddingRight:5},btnLabel:{padding:0},labelIcon:{marginRight:t.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1,paddingLeft:3}})})),he=function(t){var e=ue(),a=t.labelText,r=t.labelIcon,n=t.labelInfo,i=t.color,o=t.bgColor,s=t.onLabelClick,l=t.onIconClick,d=t.labelTypographyVariant,u=t.infoTypographyVariant,h=t.labelTypographyColor,p=t.infoTypographyColor,b=Object(W.a)(t,["labelText","labelIcon","labelInfo","color","bgColor","onLabelClick","onIconClick","labelTypographyVariant","infoTypographyVariant","labelTypographyColor","infoTypographyColor"]);return Object(w.jsx)(de.a,Object(c.a)({onLabelClick:s,onIconClick:l,label:Object(w.jsxs)("div",{className:e.labelRoot,children:[r,Object(w.jsx)(m.a,{variant:null!==d&&void 0!==d?d:"body1",className:e.labelText,color:null!==h&&void 0!==h?h:"initial",children:a}),Object(w.jsx)(m.a,{variant:null!==u&&void 0!==u?u:"caption",color:null!==p&&void 0!==p?p:"initial",children:n})]}),style:{"--tree-view-color":i,"--tree-view-bg-color":o},classes:{root:e.root,content:e.content,expanded:e.expanded,selected:e.selected,group:e.group,label:e.label}},b))},pe=a(350),be=a(368),xe=["0, 0, 0","102, 102, 102","187, 187, 187","255, 255, 255","144, 19, 254","189, 16, 224","63, 81, 181","6, 147, 227","142, 209, 252","0, 128, 128","0, 208, 132","123, 220, 181","184, 0, 0","245, 0, 87","247, 141, 167","121, 85, 72","255, 105, 0","252, 185, 0"],fe=function(t){var e=t.color,a=t.width,r=void 0===a?15:a,n=t.height,i=void 0===n?15:n,o=t.container,s=void 0===o?{}:o;return Object(w.jsx)("div",{style:Object(c.a)({width:24,height:24,boxSizing:"border-box",padding:4},s),children:Object(w.jsx)("div",{style:{border:"2px solid #000",width:r,height:i,borderRadius:3,boxSizing:"border-box",background:e}})})},je=function(t){var e=t.color,a=t.onColorSelected,r=n.a.useState(!1),i=Object(s.a)(r,2),o=i[0],l=i[1],c=n.a.useState(null),d=Object(s.a)(c,2),u=d[0],h=d[1],p=n.a.useRef(null),b=/((^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$))/i.test(e),x=b&&"string"===typeof e?X(e):null,f="string"===typeof e?e.match(/^(rgb)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/):null,g=!!f&&2 in f&&"a"===f[2],y=f&&3 in f&&4 in f&&5 in f?[parseFloat(f[3]),parseFloat(f[4]),parseFloat(f[5])]:b&&x?[x.r,x.g,x.b]:[];if(0===y.length){var v=e in A?X(A.name):null;v&&y.push(v.r,v.g,v.b)}var O=g&&f&&6 in f?100*parseFloat(f[6]):100,k=n.a.useState(O),C=Object(s.a)(k,2),S=C[0],T=C[1];return Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(Vt.a,{color:"primary",style:{padding:0},onClick:function(){l(!0)},ref:p,children:Object(w.jsx)(fe,{color:e})}),Object(w.jsxs)(pe.a,{id:"id",open:o,anchorEl:p.current,onClose:function(){l(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},style:{width:300},children:[Object(w.jsxs)(Gt.a,{container:!0,alignContent:"center",alignItems:"center",justify:"space-evenly",spacing:1,style:{margin:"10px 15px 10px 15px",width:250},children:[xe.map((function(t,e){return Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(Vt.a,{color:"default",style:{padding:0},onMouseOver:function(t){h("rgba(".concat(xe[e],",").concat(S,")"))},onMouseLeave:function(){h(null)},onClick:function(){a("rgba("+xe[e]+","+S/100+")")},children:Object(w.jsx)(fe,{color:"rgba("+t+",1)",width:24,height:24,container:{width:"auto",height:"auto"}})})},e)})),Object(w.jsx)(Gt.a,{item:!0,xs:3,children:Object(w.jsx)(m.a,{children:"Alpha"})}),Object(w.jsx)(Gt.a,{item:!0,xs:6,style:{padding:"0px 10px"},children:Object(w.jsx)(be.a,{value:S,onChange:function(t,e){T(Array.isArray(e)?e[0]:e),a("rgba(".concat(y[0],",").concat(y[1],",").concat(y[2],",").concat((Array.isArray(e)?e[0]:e)/100,")"))}})}),Object(w.jsx)(Gt.a,{item:!0,xs:3,children:Object(w.jsx)(ce.a,{margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:"5px 5px 5px 10px"}},value:S,onChange:function(t){var e=parseInt(t.target.value,10);isNaN(e)&&(e=0),e<0||e>100||(T(e),a("rgba(".concat(y[0],",").concat(y[1],",").concat(y[2],",").concat(e/100,")")))}})})]}),Object(w.jsxs)("div",{style:{background:"#bbb",borderTop:"1px solid #666"},children:[Object(w.jsxs)(Gt.a,{container:!0,alignItems:"center",alignContent:"center",justify:"center",style:{paddingBottom:5,margin:"10px 15px 0px 15px",width:250},children:[Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(m.a,{component:"div",align:"center",children:"R"})}),Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(m.a,{component:"div",align:"center",children:"G"})}),Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(m.a,{component:"div",align:"center",children:"B"})}),Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(m.a,{component:"div",align:"center",children:"A"})}),Object(w.jsx)(Gt.a,{item:!0,xs:2}),Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(fe,{color:u||e,width:24,height:24,container:{width:"auto",height:"auto"}})})]}),Object(w.jsxs)(Gt.a,{container:!0,alignItems:"center",alignContent:"center",justify:"center",style:{paddingBottom:15,paddingLeft:"15px"},children:[Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(ce.a,{value:y?y[0]:e,margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:5,background:"rgba(184, 0, 0, ".concat(S/100,")")}}})}),Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(ce.a,{value:y?y[1]:e,margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:5,background:"rgba(0, 208, 132, ".concat(S/100,")")}},fullWidth:!0})}),Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(ce.a,{value:y?y[2]:e,margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:5,background:"rgba(6, 147, 227, ".concat(S/100,")")}}})}),Object(w.jsx)(Gt.a,{item:!0,xs:2,children:Object(w.jsx)(ce.a,{value:S,margin:"none",variant:"outlined",size:"small",inputProps:{style:{padding:5,background:"#bbb"}}})}),Object(w.jsx)(Gt.a,{item:!0,xs:1}),Object(w.jsx)(Gt.a,{item:!0,xs:3,children:Object(w.jsx)("div",{style:{textAlign:"center",margin:"0px auto"},children:Object(w.jsx)(j.a,{color:"primary",variant:"outlined",size:"small",style:{minWidth:0},onClick:function(){return l(!1)},children:"OK"})})})]})]})]})]})},me=function(t,e){return t.default.newSubchart?function(){e.methods.addSubchart(e.subCharts[0].yaxis[0].graphs[0].data,e.subCharts[0].yaxis[0].graphs[0].name,t)}:function(){e.methods.addGraph(e.subCharts[0].yaxis[0].graphs[0].data,e.subCharts[0].yaxis[0].graphs[0].name,0,t)}},ge=function(t){var e,a,r=t.subchartIdx,n=t.yaxisIdx,i=t.graphIdx,o=t.ChartState,s=t.ChartStateDispatch,l=t.handleToggleExpanded,c=o.subCharts[r].yaxis[n].graphs[i],d=u(c)?c:null,h=Object(f.a)();return d?Object(w.jsxs)(he,{nodeId:"graph-sub-".concat(r,"-y-").concat(n,"-graph-").concat(i),labelText:d.name,bgColor:h.palette.primary.light,onLabelClick:function(){var t="graph-sub-".concat(r,"-y-").concat(n,"-graph-").concat(i);null===l||void 0===l||l(t)},labelIcon:Object(w.jsx)("div",{style:{background:h.palette.primary.main,width:32,height:32,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(w.jsx)(y.Icon,{path:g.h,size:"32px",color:h.palette.secondary.contrastText})}),labelInfo:0!==r||0!==i?Object(w.jsx)(Vt.a,{size:"small",onClick:function(t){t.preventDefault(),s({task:"removeGraph",params:{subchartIdx:r,yaxisIdx:0,graphIdx:i}})},children:Object(w.jsx)(y.Icon,{path:g.j,size:1,color:"light"===h.palette.type?"#333":"#fff"})}):void 0,children:[Object(w.jsx)(he,{nodeId:(1e3*r+100*n+i).toString(),labelText:"line stroke color",labelIcon:Object(w.jsx)(y.Icon,{path:g.d,size:1,color:"light"===h.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:null===(e=o.subCharts[r].yaxis[0].graphs[i].style)||void 0===e||null===(a=e.strokeColor)||void 0===a?void 0:a[0],onColorSelected:function(t){s({task:"setLineChartStrokeColor",params:{color:t,subchartIdx:r,yaxisIdx:0,graphIdx:i}})}})},1e3*r+100*n+i),d.indicator.params.map((function(t,e){return Object(w.jsx)(he,{nodeId:"".concat(2+r,"00-").concat(i,"-").concat(e),labelText:t.name,labelIcon:Object(w.jsx)(y.Icon,{path:g.u,size:1,color:"light"===h.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(ce.a,{variant:"outlined",margin:"none",size:"small",inputProps:{style:{padding:5,width:50}},defaultValue:t.val,onChange:function(t){var a=parseFloat(t.target.value);isNaN(a)||s({task:"setIndicatorParam",params:{val:a,subchartIdx:r,yaxisIdx:0,graphIdx:i,paramIdx:e}})}})})}))]},"graph-sub-".concat(r,"-y-").concat(n,"-graph-").concat(i)):null},ye=function(t){var e=t.ChartState,a=t.onNavigate,r=t.open,i=t.ChartStateDispatch,o=Object(f.a)(),l=n.a.useState(!0),c=Object(s.a)(l,2),d=c[0],h=c[1],p=[{name:"Average",icon:g.k},{name:"Oszillator",icon:g.h},{name:"Volatility",icon:g.a},{name:"Volume",icon:g.B}],b=[{name:"SMA",indicator:ee,category:"Average"},{name:"EMA",indicator:re,category:"Average"},{name:"RSI",indicator:ie,category:"Oszillator"},{name:"MACD",indicator:le,category:"Oszillator"},{name:"ATR",indicator:ne,category:"Volatility"},{name:"Volume",indicator:se,category:"Volume"},{name:"OBV",indicator:oe,category:"Volume"}],x=e.subCharts.map((function(t,e){return t.yaxis.map((function(t,e){return t.graphs.filter((function(t){return"indicator"===t.type})).length}))})).flat().reduce((function(t,e){return t+e}));return Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsxs)("div",{style:{position:"absolute",right:24,zIndex:2},children:[x>0?Object(w.jsx)("div",{style:{paddingBottom:5},children:Object(w.jsxs)(Kt.a,{value:"web",exclusive:!0,style:{borderRadius:500},size:"small",children:[Object(w.jsx)(Zt.a,{style:{borderBottomLeftRadius:50,textTransform:"none",borderTopLeftRadius:50,background:"indicators"===r?o.palette.secondary.light:o.palette.background.paper},onClick:function(){null===a||void 0===a||a("indicators")},children:Object(w.jsx)(m.a,{children:" Add"})}),Object(w.jsx)(Zt.a,{value:"android",style:{borderBottomRightRadius:50,borderTopRightRadius:50,background:"editIndicator"===r?o.palette.secondary.light:o.palette.background.paper},onClick:function(){null===a||void 0===a||a("editIndicator")},children:"Edit"})]})}):null,Object(w.jsxs)("div",{style:{background:o.palette.secondary.light,border:"1px solid #666",borderRadius:50,padding:5},children:[Object(w.jsx)(Vt.a,{size:"small",style:{border:"1px solid #fff",margin:"0px 5px"},onClick:function(){return alert("upcoming")},children:Object(w.jsx)(y.Icon,{path:g.v,size:1,color:o.palette.primary.contrastText})}),Object(w.jsx)(Vt.a,{size:"small",style:{border:"1px solid #fff",margin:"0px 5px 0px 0px"},onClick:function(){return h((function(t){return!t}))},children:Object(w.jsx)(y.Icon,{path:d?g.E:g.n,size:1,color:o.palette.primary.contrastText})})]})]}),Object(w.jsx)(te.a,{defaultCollapseIcon:Object(w.jsx)(y.Icon,{path:g.x,size:1,color:"light"===o.palette.type?"#333":"#fff"}),defaultExpandIcon:Object(w.jsx)(y.Icon,{path:g.y,size:1,color:"light"===o.palette.type?"#333":"#fff"}),defaultEndIcon:Object(w.jsx)("div",{style:{width:24}}),disableSelection:!0,children:"editIndicator"===r?e.subCharts.map((function(t,a){return t.yaxis.map((function(t,r){return t.graphs.map((function(t,n){return u(t)?Object(w.jsx)(ge,{ChartState:e,ChartStateDispatch:i,subchartIdx:a,yaxisIdx:r,graphIdx:n},"editIndicator-sub-".concat(a,"-yaxis-").concat(r,"-graph-").concat(n)):null}))}))})):d?p.map((function(t,a){return Object(w.jsx)(he,{nodeId:a.toString(),labelText:t.name,bgColor:o.palette.primary.light,labelIcon:Object(w.jsx)("div",{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:o.palette.secondary.main,minWidth:48,height:48},children:Object(w.jsx)(y.Icon,{path:t.icon,size:2,color:o.palette.secondary.contrastText})}),children:b.filter((function(e){return e.category===t.name})).sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,r){return Object(w.jsx)(he,{nodeId:(100*(a+1)+(r+1)).toString(),labelText:t.name,onLabelClick:me(t.indicator,e)},"cat-".concat(a,"-indi-").concat(r))}))},"cat-".concat(a))})):b.sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,a){return Object(w.jsx)(he,{nodeId:(a+1).toString(),labelText:t.name,onLabelClick:me(t.indicator,e)},"cat-indi-".concat(a))}))})]})},ve=function(t,e){t({task:"draw",params:{type:e,subchartIdx:0}})},Oe=function(t){var e,a,r,n,i,o=t.subchartIdx,s=t.yaxisIdx,l=t.toolIdx,c=t.ChartState,d=t.ChartStateDispatch,u=t.handleToggleExpanded,h=null===(e=c.subCharts)||void 0===e||null===(a=e[o])||void 0===a||null===(r=a.yaxis)||void 0===r||null===(n=r[s])||void 0===n||null===(i=n.tools)||void 0===i?void 0:i[l],p=h||null,b=Object(f.a)();return p?Object(w.jsxs)(he,{nodeId:"tool-".concat(o,"-").concat(l),labelText:"hline"===p.type?"horizontal line":"vline"===p.type?"vertical line":"trendline"===p.type?"Trendline":"Tool",labelIcon:Object(w.jsx)(y.Icon,{path:"hline"===p.type||"vline"===p.type||"trendline"===p.type?g.z:g.s,size:1,color:"light"===b.palette.type?"#333":"#fff",rotate:"trendline"===p.type?-45:"vline"===p.type?90:0}),onLabelClick:function(){var t="tool-".concat(o,"-").concat(l);null===u||void 0===u||u(t)},bgColor:b.palette.primary.light,children:["hline"===p.type?Object(w.jsx)(he,{nodeId:"tool-".concat(o,"-y0-").concat(l,"-hlinelevel"),labelText:"Y-Level",labelIcon:Object(w.jsx)(y.Icon,{path:g.c,size:1,color:"light"===b.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(ce.a,{variant:"outlined",margin:"none",size:"small",inputProps:{style:{padding:5,width:50}},defaultValue:p.xy[0][1],onChange:function(t){var e=parseFloat(t.target.value);isNaN(e)||d({task:"setHlineYlevel",params:{val:e,subchartIdx:o,yaxisIdx:0,toolIdx:l}})}})},"tool-".concat(o,"-y0-").concat(l,"-hlinelevel")):null,Object(w.jsx)(he,{nodeId:"tool-".concat(o,"-").concat(l,"-stroke"),labelText:"stroke color",labelIcon:Object(w.jsx)(y.Icon,{path:g.d,size:1,color:"light"===b.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:p.style.strokeColor,onColorSelected:function(t){d({task:"setToolStrokeColor",params:{color:t,subchartIdx:o,yaxisIdx:0,toolIdx:l}})}})},"tool-".concat(o,"-").concat(l,"-stroke")),Object(w.jsx)(he,{nodeId:"tool-".concat(o,"-").concat(l,"-anchorColor"),labelText:"anchor color",labelIcon:Object(w.jsx)(y.Icon,{path:g.f,size:1,color:"light"===b.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:p.style.anchorColor,onColorSelected:function(t){d({task:"setToolAnchorColor",params:{color:t,subchartIdx:o,yaxisIdx:0,toolIdx:l}})}})},"tool-".concat(o,"-").concat(l,"-anchorColor"))]},"tool-".concat(l)):null},ke=function(t){var e=t.ChartState,a=t.onNavigate,r=t.ChartStateDispatch,i=t.open,o=Object(f.a)(),l=n.a.useState(!0),c=Object(s.a)(l,2),d=c[0],u=c[1],h=[{name:"Lines",icon:g.C},{name:"Upcoming",icon:g.D}],p=[{name:"trendline",type:"trendline",category:"Lines"},{name:"horizontal",type:"hline",category:"Lines"},{name:"vertical",type:"vline",category:"Lines"}],b=e.subCharts.map((function(t){return t.yaxis.map((function(t){return t.tools.length}))})).flat().reduce((function(t,e){return t+e}));return Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsxs)("div",{style:{position:"absolute",right:24,zIndex:2},children:[b>0?Object(w.jsx)("div",{style:{paddingBottom:5},children:Object(w.jsxs)(Kt.a,{value:"web",exclusive:!0,style:{borderRadius:500},size:"small",children:[Object(w.jsx)(Zt.a,{style:{borderBottomLeftRadius:50,textTransform:"none",borderTopLeftRadius:50,background:"tools"===i?o.palette.secondary.light:o.palette.background.paper},onClick:function(){null===a||void 0===a||a("tools")},children:Object(w.jsx)(m.a,{children:" Add"})}),Object(w.jsx)(Zt.a,{value:"android",style:{borderBottomRightRadius:50,borderTopRightRadius:50,background:"editTool"===i?o.palette.secondary.light:o.palette.background.paper},onClick:function(){null===a||void 0===a||a("editTool")},children:"Edit"})]})}):null,Object(w.jsxs)("div",{style:{background:o.palette.secondary.light,border:"1px solid #666",borderRadius:50,padding:5},children:[Object(w.jsx)(Vt.a,{size:"small",style:{border:"1px solid #fff",margin:"0px 5px"},onClick:function(){return alert("upcoming")},children:Object(w.jsx)(y.Icon,{path:g.v,size:1,color:o.palette.primary.contrastText})}),Object(w.jsx)(Vt.a,{size:"small",style:{border:"1px solid #fff",margin:"0px 5px 0px 0px"},onClick:function(){return u((function(t){return!t}))},children:Object(w.jsx)(y.Icon,{path:d?g.E:g.n,size:1,color:o.palette.primary.contrastText})})]})]}),Object(w.jsx)(te.a,{defaultCollapseIcon:Object(w.jsx)(y.Icon,{path:g.x,size:1,color:"light"===o.palette.type?"#333":"#fff"}),defaultExpandIcon:Object(w.jsx)(y.Icon,{path:g.y,size:1,color:"light"===o.palette.type?"#333":"#fff"}),defaultEndIcon:Object(w.jsx)("div",{style:{width:24}}),disableSelection:!0,children:"editTool"===i?e.subCharts.map((function(t,a){return t.yaxis.map((function(t,n){return t.tools.map((function(t,i){return Object(w.jsx)(Oe,{ChartState:e,ChartStateDispatch:r,subchartIdx:a,yaxisIdx:n,toolIdx:i},"editIndicator-sub-".concat(a,"-yaxis-").concat(n,"-graph-").concat(i))}))}))})):d?h.map((function(t,e){return Object(w.jsx)(he,{nodeId:e.toString(),labelText:t.name,labelIcon:Object(w.jsx)("div",{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:o.palette.secondary.main,minWidth:48,height:48},children:Object(w.jsx)(y.Icon,{path:t.icon,size:2,color:o.palette.secondary.contrastText})}),bgColor:o.palette.primary.light,children:p.filter((function(e){return e.category===t.name})).sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,n){return Object(w.jsx)(he,{nodeId:(100*(e+1)+(n+1)).toString(),labelText:t.name,onLabelClick:function(){ve(r,t.type),null===a||void 0===a||a(null)}},"cat-".concat(e,"-tool-").concat(n))}))},"cat-".concat(e))})):p.sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,e){return Object(w.jsx)(he,{nodeId:(e+1).toString(),labelText:t.name,onLabelClick:function(){ve(r,t.type),null===a||void 0===a||a(null)}},"cat-tool-".concat(e))}))})]})},Ce=a(166),Se=a(355),we=a(360),Te=function(t){var e=t.ChartState,a=t.onNavigate,r=t.ChartStateDispatch,i=t.onSettingsExpand,o=t.ChartMenuState,l=Object(f.a)(),c=n.a.useState(!1),d=Object(s.a)(c,2),p=(d[0],d[1],n.a.useState(null)),b=Object(s.a)(p,2),x=b[0],v=b[1],O=function(t){v(null),t&&(null===a||void 0===a||a(t))};return Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)("div",{style:{position:"absolute",right:24,zIndex:2},children:Object(w.jsxs)("div",{style:{paddingBottom:5},children:[Object(w.jsx)(j.a,{style:{border:"1px solid #666",borderRadius:50,padding:5,textTransform:"none",background:l.palette.secondary.light,width:"100%",color:l.palette.secondary.contrastText},onClick:function(t){v(t.currentTarget)},children:Object(w.jsx)(m.a,{children:" Add..."})}),Object(w.jsxs)(Ce.a,{id:"quick-add",anchorEl:x,keepMounted:!0,open:Boolean(x),onClose:function(){return O(void 0)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(w.jsx)(Se.a,{onClick:function(){return O("indicators")},children:"Indicator"}),Object(w.jsx)(Se.a,{onClick:function(){return O("tools")},children:"Tool"})]})]})}),Object(w.jsxs)(te.a,{defaultCollapseIcon:Object(w.jsx)(y.Icon,{path:g.x,size:1,color:"light"===l.palette.type?"#333":"#fff"}),defaultExpandIcon:Object(w.jsx)(y.Icon,{path:g.y,size:1,color:"light"===l.palette.type?"#333":"#fff"}),defaultEndIcon:Object(w.jsx)("div",{style:{width:24}}),disableSelection:!0,expanded:o.expandedSetting,children:[Object(w.jsxs)(he,{nodeId:"1",labelText:"General",labelIcon:Object(w.jsx)("div",{style:{background:l.palette.secondary.main,width:48,height:48,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(w.jsx)(y.Icon,{path:g.l,size:2,color:l.palette.secondary.contrastText})}),bgColor:l.palette.primary.light,labelTypographyVariant:"h6",onLabelClick:function(){null===i||void 0===i||i("1")},children:[Object(w.jsx)(he,{nodeId:"11",labelText:"background color",labelIcon:Object(w.jsx)(y.Icon,{path:g.I,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:e.backgroundColor,onColorSelected:function(t){r({task:"setBackgroundColor",params:{color:t}})}})}),Object(w.jsx)(he,{nodeId:"12",labelText:"axis fill color",labelIcon:Object(w.jsx)(y.Icon,{path:g.I,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:e.xaxis.style.fillColor,onColorSelected:function(t){r({task:"setAxisFillColor",params:{color:t}})}})}),Object(w.jsx)(he,{nodeId:"13",labelText:"axis stroke color",labelIcon:Object(w.jsx)(y.Icon,{path:g.d,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:e.xaxis.style.strokeColor,onColorSelected:function(t){r({task:"setAxisStrokeColor",params:{color:t}})}})}),Object(w.jsx)(he,{nodeId:"14",labelText:"axis text color",labelIcon:Object(w.jsx)(y.Icon,{path:g.o,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:e.xaxis.style.fontColor,onColorSelected:function(t){r({task:"setAxisTextColor",params:{color:t}})}})}),Object(w.jsx)(he,{nodeId:"15",labelText:"use x-axis grid",labelIcon:Object(w.jsx)(y.Icon,{path:g.r,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(we.a,{checked:e.grid.useGridX,size:"small",style:{padding:0,width:24,height:24},onChange:function(){r({task:"toggleXaxisGrid",params:{}})}})}),Object(w.jsx)(he,{nodeId:"16",labelText:"use y-axis grid",labelIcon:Object(w.jsx)(y.Icon,{path:g.r,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(we.a,{checked:e.grid.useGridY,size:"small",style:{padding:0,width:24,height:24},onChange:function(){r({task:"toggleYaxisGrid",params:{}})}})}),Object(w.jsx)(he,{nodeId:"17",labelText:"grid stroke color",labelIcon:Object(w.jsx)(y.Icon,{path:g.d,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:e.grid.style.strokeColor,onColorSelected:function(t){r({task:"setGridStrokeColor",params:{color:t}})}})})]}),e.subCharts.map((function(t,a){return Object(w.jsxs)(he,{labelTypographyVariant:"h6",nodeId:"sub-".concat(a),labelText:0===a?"Mainchart":"Subchart ".concat(a),bgColor:l.palette.primary.light,onLabelClick:function(){var t="sub-".concat(a);null===i||void 0===i||i(t)},labelIcon:Object(w.jsx)("div",{style:{background:l.palette.secondary.main,width:48,height:48,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(w.jsx)(y.Icon,{path:g.g,size:2,color:l.palette.secondary.contrastText})}),labelInfo:0!==a?Object(w.jsx)(Vt.a,{size:"small",onClick:function(t){t.preventDefault(),r({task:"removeSubchart",params:{subchartIdx:a}})},children:Object(w.jsx)(y.Icon,{path:g.j,size:1,color:"light"===l.palette.type?"#333":"#fff"})}):void 0,children:[t.yaxis[0].graphs.map((function(t,o){var s,c;return u(t)?Object(w.jsx)(ge,{ChartState:e,ChartStateDispatch:r,subchartIdx:a,yaxisIdx:0,graphIdx:o,handleToggleExpanded:i},"editIndicator-sub-".concat(a,"-yaxis-",0,"-graph-").concat(o)):h(t)?Object(w.jsx)(n.a.Fragment,{children:Object(w.jsx)(he,{onLabelClick:function(){var t="graph-sub-".concat(a,"-y-",0,"-graph-").concat(o);null===i||void 0===i||i(t)},nodeId:"graph-sub-".concat(a,"-y-",0,"-graph-").concat(o),labelText:t.name,bgColor:l.palette.primary.light,labelIcon:Object(w.jsx)("div",{style:{background:l.palette.primary.main,width:32,height:32,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(w.jsx)(y.Icon,{path:g.i,size:"32px",color:l.palette.secondary.contrastText})}),labelInfo:0!==a||0!==o?Object(w.jsx)(Vt.a,{size:"small",onClick:function(t){t.preventDefault(),r({task:"removeGraph",params:{subchartIdx:a,yaxisIdx:0,graphIdx:o}})},children:Object(w.jsx)(y.Icon,{path:g.j,size:1,color:"light"===l.palette.type?"#333":"#fff"})}):void 0,children:"linechart"===t.meta.type?Object(w.jsx)(he,{nodeId:"graph-sub-".concat(a,"-y-",0,"-graph-").concat(o,"-strokeColor"),labelText:"line stroke color",labelIcon:Object(w.jsx)(y.Icon,{path:g.d,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:null===(s=e.subCharts[a].yaxis[0].graphs[o].style)||void 0===s||null===(c=s.strokeColor)||void 0===c?void 0:c[0],onColorSelected:function(t){r({task:"setLineChartStrokeColor",params:{color:t,subchartIdx:a,yaxisIdx:0,graphIdx:o}})}})}):"candlechart"===t.meta.type?Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(he,{nodeId:"graph-sub-".concat(a,"-y-",0,"-graph-").concat(o,"-candleUpColor"),labelText:"candle up color",labelIcon:Object(w.jsx)(y.Icon,{path:g.d,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:t.style.candleUpColor,onColorSelected:function(t){r({task:"setCandleChartUpColor",params:{color:t,subchartIdx:a,yaxisIdx:0,graphIdx:o}})}})}),Object(w.jsx)(he,{nodeId:"graph-sub-".concat(a,"-y-",0,"-graph-").concat(o,"-candleDownColor"),labelText:"candle down color",labelIcon:Object(w.jsx)(y.Icon,{path:g.d,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:t.style.candleDownColor,onColorSelected:function(t){r({task:"setCandleChartDownColor",params:{color:t,subchartIdx:a,yaxisIdx:0,graphIdx:o}})}})}),Object(w.jsx)(he,{nodeId:"graph-sub-".concat(a,"-y-",0,"-graph-").concat(o,"-candleStrokeColor"),labelText:"candle stroke color",labelIcon:Object(w.jsx)(y.Icon,{path:g.d,size:1,color:"light"===l.palette.type?"#333":"#fff"}),labelInfo:Object(w.jsx)(je,{color:t.style.candleStrokeColor,onColorSelected:function(t){r({task:"setCandleChartStrokeColor",params:{color:t,subchartIdx:a,yaxisIdx:0,graphIdx:o}})}})})]}):null},"graph-sub-".concat(a,"-y-",0,"-graph-").concat(o))},"graph-sub-".concat(a,"-y-",0,"-graph-").concat(o,"-frag")):null})),t.yaxis[0].tools.length>0?Object(w.jsx)(he,{nodeId:"tools-".concat(a,"-y0"),labelIcon:Object(w.jsx)("div",{style:{background:l.palette.primary.main,width:32,height:32,border:"1px solid #666",borderRadius:5,marginRight:10},children:Object(w.jsx)(y.Icon,{path:g.A,size:"32px",color:l.palette.secondary.contrastText})}),labelText:"Tools",onLabelClick:function(){var t="tools-".concat(a,"-y0");null===i||void 0===i||i(t)},children:t.yaxis[0].tools.map((function(t,n){return Object(w.jsx)(Oe,{ChartState:e,ChartStateDispatch:r,subchartIdx:a,yaxisIdx:0,toolIdx:n,handleToggleExpanded:i},"editTool-sub-".concat(a,"-yaxis-",0,"-tool-").concat(n))}))},"tools-".concat(a,"-y0")):null]},"sub-".concat(a))}))]})]})},Ie=function(t){t.ChartState,t.onNavigate;var e=t.ChartStateDispatch,a=(Object(Bt.a)("(min-width:600px)"),Object(f.a)());return Object(w.jsx)(n.a.Fragment,{children:Object(w.jsxs)($t.a,{children:[Object(w.jsxs)(qt.a,{button:!0,onClick:function(){e({task:"clearChart",params:{mode:"indicators"}})},children:[Object(w.jsxs)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:a.palette.secondary.main,minWidth:48,height:48,position:"relative",top:0},children:[Object(w.jsx)(v.a,{path:g.e,size:2,color:a.palette.secondary.contrastText,style:{position:"absolute",top:0,left:0},rotate:5}),Object(w.jsx)(v.a,{path:g.h,size:.8,color:"#fff",style:{position:"absolute",bottom:0,right:0}})]}),Object(w.jsx)(Qt.a,{primary:"Clear All Indicators",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(w.jsxs)(qt.a,{button:!0,onClick:function(){e({task:"clearChart",params:{mode:"tools"}})},children:[Object(w.jsxs)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:a.palette.secondary.main,minWidth:48,height:48,position:"relative",top:0},children:[Object(w.jsx)(v.a,{path:g.e,size:2,color:a.palette.secondary.contrastText,style:{position:"absolute",top:0,left:0},rotate:5}),Object(w.jsx)(v.a,{path:g.A,size:.7,color:"#fff",style:{position:"absolute",bottom:1,right:1}})]}),Object(w.jsx)(Qt.a,{primary:"Clear All Tools",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(w.jsxs)(qt.a,{button:!0,onClick:function(){},children:[Object(w.jsx)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:a.palette.secondary.main,width:48,height:48},children:Object(w.jsx)(v.a,{path:g.H,size:2,color:a.palette.secondary.contrastText})}),Object(w.jsx)(Qt.a,{primary:"Autoscale Y axis (mode to disable upcoming)",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]})]})})},Pe=a(53),Me=a.n(Pe),ze=a(103),De=a(364),Ae=a(363),Xe=a(359);function Ee(t){return Object(w.jsx)(Xe.a,Object(c.a)({elevation:6,variant:"filled"},t))}var Re=function(t){var e=t.open,a=t.onClose,r=t.content,n=function(t,e){"clickaway"!==e&&(null===a||void 0===a||a())};return Object(w.jsx)(Ae.a,{open:e,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(w.jsx)(Ee,{onClose:n,severity:"error",children:r})})},We=a(148),Fe=Object(Lt.a)({popper:{zIndex:1800},tooltip:{background:"rgba(205, 205, 205, 0.95)"}});function Ue(t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(ze.a)(Me.a.mark((function t(e){var a;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.text().then((function(t){var e,a,r,n,i,o,s,c,d,u,h=[{chars:"\n",amt:null!==(e=null===(a=t.match(/\n/gm))||void 0===a?void 0:a.length)&&void 0!==e?e:0},{chars:"\r",amt:null!==(r=null===(n=t.match(/\r/gm))||void 0===n?void 0:n.length)&&void 0!==r?r:0},{chars:"\r\n",amt:null!==(i=null===(o=t.match(/\r\n/gm))||void 0===o?void 0:o.length)&&void 0!==i?i:0}],p=h.map((function(t){return t.amt})),b=h[p.indexOf(Math.max.apply(Math,Object(l.a)(p)))].chars,x=t.split(b),f=[{chars:",",amt:null!==(s=null===(c=x[0].match(/,/gm))||void 0===c?void 0:c.length)&&void 0!==s?s:0},{chars:";",amt:null!==(d=null===(u=x[0].match(/;/gm))||void 0===u?void 0:u.length)&&void 0!==d?d:0}],j=f.map((function(t){return t.amt})),m=f[j.indexOf(Math.max.apply(Math,Object(l.a)(j)))].chars,g={dots:0,commas:0};x.forEach((function(t){t.split(m).forEach((function(t){var e=t.lastIndexOf("."),a=t.lastIndexOf(",");-1!==e&&-1!==a?e>a?g.dots++:g.commas++:-1!==e&&-1===a?g.dots++:-1===e&&-1!==a&&g.commas++}))}));var y=g.dots<g.commas,v=g.dots>g.commas&&g.commas>0,O=y?t.replaceAll(".","").replaceAll(",","."):v?t.replaceAll(",",""):t,k=We(O,{delimiter:m,record_delimiter:b,cast:!0,trim:!0,cast_date:!0}).map((function(t){return{date:t[0],open:t[1],high:t[2],low:t[3],close:t[4],volume:t[5]}}));return k.shift(),k}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Le=function(t){var e=t.ChartState,a=(t.ChartStateDispatch,Fe()),r=n.a.useState(null),i=Object(s.a)(r,2),o=i[0],l=i[1],c=Object(f.a)(),d=n.a.useRef(null),u=n.a.useState(!1),h=Object(s.a)(u,2),p=h[0],b=h[1],x=n.a.useState(""),j=Object(s.a)(x,2),m=j[0],v=j[1];function O(){return(O=Object(ze.a)(Me.a.mark((function t(a){var r,n;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.target.files){t.next=3;break}return t.abrupt("return");case 3:if(!(r.length>0)){t.next=15;break}return t.prev=4,t.next=7,Ue(r[0]);case 7:n=t.sent,e.methods.addSubchart(n,"some chart",void 0,!0),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),console.log("Error - could not parse provided local file",t.t0),l("Error - could not parse provided local file");case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(ze.a)(Me.a.mark((function t(){var a,r,n;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(m);case 3:if(a=t.sent){t.next=6;break}throw Error("cant download file from url");case 6:return r=a,t.next=9,Ue(r);case 9:n=t.sent,e.methods.addSubchart(n,"some chart",void 0,!0),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("Error - could not download file from URL or File could not be parsed",t.t0),l("Error - could not download file from URL or File could not be parsed");case 17:b(!1);case 18:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}return Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(Re,{open:!!o,onClose:function(){return l(null)},content:o||""}),Object(w.jsx)("input",{type:"file",style:{visibility:"hidden",position:"absolute",top:0,height:0,width:0},ref:d,onChange:function(t){return O.apply(this,arguments)}}),Object(w.jsxs)($t.a,{children:[Object(w.jsxs)(qt.a,{button:!0,onClick:function(){var t,e;null===d||void 0===d||null===(t=d.current)||void 0===t||null===(e=t.click)||void 0===e||e.call(t)},children:[Object(w.jsx)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:c.palette.secondary.main,minWidth:48,height:48},children:Object(w.jsx)(y.Icon,{path:g.m,size:2,color:c.palette.secondary.contrastText})}),Object(w.jsx)(Qt.a,{primary:"CSV from device",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]}),Object(w.jsx)(De.a,{PopperProps:{disablePortal:!0},classes:{popper:a.popper,tooltip:a.tooltip},style:{zIndex:1500},open:p,title:Object(w.jsx)("div",{children:Object(w.jsx)(ce.a,{helperText:"Enter/Paste URL",fullWidth:!0,onKeyUp:function(t){"Enter"===t.key&&"keyup"===t.type&&k()},value:m,onChange:function(t){return v(t.target.value)},InputProps:{endAdornment:Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(Vt.a,{onClick:k,size:"small",children:Object(w.jsx)(y.Icon,{path:g.b,size:1})}),Object(w.jsx)(Vt.a,{onClick:function(){return b(!1)},children:Object(w.jsx)(y.Icon,{path:g.j,size:1})})]})}})}),interactive:!0,arrow:!0,placement:"bottom",children:Object(w.jsxs)(qt.a,{button:!0,onClick:function(){b(!0)},children:[Object(w.jsx)(_t.a,{style:{border:"1px solid #666",borderRadius:5,marginRight:10,background:c.palette.secondary.main,minWidth:48,height:48},children:Object(w.jsx)(y.Icon,{path:g.J,size:2,color:c.palette.secondary.contrastText})}),Object(w.jsx)(Qt.a,{primary:"CSV from URL",primaryTypographyProps:{variant:"h6",color:"textSecondary"}})]})})]})]})},Ne=Object(Lt.a)((function(t){return Object(Nt.a)({paper:{minHeight:"33%",border:"1px solid #666",borderTopLeftRadius:10,borderTopRightRadius:10},paperDesktop:{minHeight:"33%",border:"1px solid #666",borderBottomRightRadius:10,borderTopRightRadius:10}})})),Be=function(t){var e=t.onClose,a=t.ChartMenuState,r=t.ChartState,n=t.onNavigate,i=t.ChartStateDispatch,o=t.onSettingsExpand,s=Object(f.a)(),l=Object(Bt.a)("(min-width:600px)"),c=Ne();return Object(w.jsxs)(Ht.a,{anchor:l?"left":"bottom",open:!!a.location,classes:{paper:l?c.paperDesktop:c.paper},ModalProps:{hideBackdrop:!0},children:[Object(w.jsx)("div",{style:{background:s.palette.primary.main,color:s.palette.primary.contrastText,padding:10},children:Object(w.jsxs)(Gt.a,{container:!0,alignItems:"center",justify:"center",children:[Object(w.jsx)(Gt.a,{item:!0,children:Object(w.jsx)(m.a,{component:"div",variant:"h4",children:"quickys"===a.location?"Quick Tasks":"editIndicator"===a.location?"Edit Indicator":"indicators"===a.location?"Add Indicator":"editTool"===a.location?"Edit Tool":"tools"===a.location?"Add Tool":"settings"===a.location?"Settings":"Chart Menu"})}),Object(w.jsx)(Gt.a,{item:!0,xs:!0}),Object(w.jsx)(Gt.a,{item:!0,children:Object(w.jsxs)("div",{style:{height:"2.6rem"},children:[a.location&&"menu"!==a.location?Object(w.jsx)(Vt.a,{size:"small",onClick:function(){n("menu")},children:Object(w.jsx)(v.a,{path:g.t,size:1.75,color:s.palette.primary.contrastText})}):null,Object(w.jsx)(Vt.a,{size:"small",onClick:function(){i({task:"toggleFullscreen",params:[]})},children:Object(w.jsx)(v.a,{path:g.p,size:1.75,color:s.palette.primary.contrastText})}),Object(w.jsx)(Vt.a,{size:"small",onClick:function(){null===e||void 0===e||e()},children:Object(w.jsx)(v.a,{path:g.j,size:1.75,color:s.palette.primary.contrastText})})]})})]})}),Object(w.jsx)("div",{style:{padding:10},children:"menu"===a.location?Object(w.jsx)(Jt,{ChartState:r,onNavigate:n}):"indicators"===a.location||"editIndicator"===a.location?Object(w.jsx)(ye,{ChartState:r,onNavigate:n,open:a.location,ChartStateDispatch:i}):"tools"===a.location||"editTool"===a.location?Object(w.jsx)(ke,{ChartState:r,ChartStateDispatch:i,onNavigate:n,open:a.location}):"settings"===a.location?Object(w.jsx)(Te,{ChartMenuState:a,ChartState:r,ChartStateDispatch:i,onNavigate:n,onSettingsExpand:o}):"quickys"===a.location?Object(w.jsx)(Ie,{ChartState:r,onNavigate:n,ChartStateDispatch:i}):"chart"===a.location?Object(w.jsx)(Le,{ChartState:r,ChartStateDispatch:i}):null})]})},He=new b.a,Ge=function(t){var e=t.disablePortal;return Object(w.jsxs)(n.a.Fragment,{children:[e?t.children:Object(w.jsx)(Xt.a,{children:t.children}),";"]})},Ve=function(t){var e,a,r,i,o,h,p,b,f,m,y,O=t.width,k=t.height,C=t.chartData,S=t.style,M=t.viewMode,z=t.disableTheme,D=n.a.useRef(null),A=n.a.useState({location:null,expandedSetting:[]}),X=Object(s.a)(A,2),W=X[0],F=X[1],U=S||{},Y=Mt(D,{width:O,height:k,viewMode:M,initState:U}),L=Object(s.a)(Y,2),N=L[0],B=L[1];N.xaxis.scaledWidthPerTick;var H=N.yaxis,G=(H.widthYAxis,H.widthTickmarkLines),V=N.xaxis,$=V.heightXAxis,q=V.heightTickMarkLines,_=N.containerSize.width-1,Q=N.containerSize.height-1,J=N.containerSize.init;n.a.useEffect((function(){U.darkMode!==N.darkMode&&B({task:"toggleDarkMode",params:[]})}),[U.darkMode,N.darkMode]);n.a.useEffect((function(){if(J){var t=He.compile(x);if(t(C)){if(0===N.subCharts.length){var e={task:"addSubchart",params:{chartSeries:C[0].data,chartName:C[0].name,containerHeight:Q}};B(e)}}else alert("ERROR - chartData prop is not valid, check console"),console.log("ERROR - chartData prop is not valid -> ","data:",C,"errors:",t.errors)}}),[C,N.subCharts.length,Q,J,$]);var K=N;console.log(K);var Z=K.xaxis.xAxisTicks,tt=N.darkMode;return Object(w.jsx)(n.a.Fragment,{children:Object(w.jsx)(Ft,{theme:tt?Object(c.a)({},Yt):Object(c.a)({},Ut),disableTheme:z,children:Object(w.jsx)(Ge,{disablePortal:!0,children:Object(w.jsxs)("div",{ref:D,style:{boxSizing:"border-box",position:"relative",top:0,zIndex:12e4,background:K.backgroundColor},children:[Object(w.jsxs)(d.f,{width:N.containerSize.width,height:N.containerSize.height,listening:!1,children:[Object(w.jsxs)(d.b,{children:[0 in K.subCharts?Object(w.jsx)(P,{fullState:K}):null,K.subCharts.map((function(t,e){return t.yaxis.map((function(t,a){return t.graphs.map((function(t,a){var r=K.subCharts[e].yaxis[0].graphs[a],n=u(r)?r.indicator.type:null;if(u(r)&&r.data.length>0){var i=r.data[r.data.length-1].prices;if("line"===n)return i.map((function(t,r){return Object(w.jsx)(E,{fullState:K,subchartIdx:e,yaxisIdx:0,graphIdx:a,indSeriesIdx:r},"lineChart-".concat(e,"-").concat(a,"-").concat(r))}));if("bars"===n)return Object(w.jsx)(R,{fullState:K,subchartIdx:e,yaxisIdx:0,graphIdx:a},"barchart-".concat(e,"-").concat(a))}return null}))}))})),K.pointer.move.isMoving&&K.draw.pixXy.length>=1?Object(w.jsx)(d.c,{x:0,y:0,points:[K.draw.pixXy[0][0],K.draw.pixXy[0][1],(null===(e=K.pointer)||void 0===e?void 0:e.chartPointer.move.x)?K.methods.xToPix(K.pointer.chartPointer.move.x):K.pointer.move.xy[0],(null===(a=K.pointer)||void 0===a||null===(r=a.chartPointer)||void 0===r||null===(i=r.move.snapDatasets)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.pixYSnap)?null===(h=K.pointer)||void 0===h||null===(p=h.chartPointer)||void 0===p?void 0:p.move.snapDatasets[0].pixYSnap:K.pointer.move.xy[1]],stroke:"red",strokeWidth:1}):null,0 in K.subCharts?K.subCharts[0].yaxis[0].tools.map((function(t,e){return"trendline"===t.type&&2===t.xy.length?Object(w.jsx)(zt,{mode:"trendline",subchartTop:K.subCharts[0].top,subchartBottom:K.subCharts[0].bottom,pixXy:[[K.methods.xToPix(t.xy[0][0]),K.methods.yToPix(t.xy[0][1],0,0)],[K.methods.xToPix(t.xy[1][0]),K.methods.yToPix(t.xy[1][1],0,0)]],style:{anchorColor:t.style.anchorColor,strokeColor:t.style.strokeColor}},"trendline-sub-0-y-0-tool-".concat(e)):"vline"===t.type&&1===t.xy.length?Object(w.jsx)(Dt,{mode:"extendUpDown",subchartTop:K.subCharts[0].top,subchartBottom:K.subCharts[0].bottom,pixXy:[[K.methods.xToPix(t.xy[0][0]),K.methods.yToPix(t.xy[0][1],0,0)]],style:{anchorColor:t.style.anchorColor,strokeColor:t.style.strokeColor}},"vline-sub-0-y-0-tool-".concat(e)):"hline"===t.type&&1===t.xy.length?Object(w.jsx)(At,{mode:"extendLeftRight",pixXstart:0,pixXend:K.containerSize.width-K.yaxis.widthYAxis,pixXy:[[K.methods.xToPix(t.xy[0][0]),K.methods.yToPix(t.xy[0][1],0,0)]],style:{anchorColor:t.style.anchorColor,strokeColor:t.style.strokeColor}},"hline-sub-0-y-0-tool-".concat(e)):null})):null]}),Object(w.jsxs)(d.b,{children:[Object(w.jsx)(d.d,{x:.5,y:Q-$+.5,width:_,height:$,fill:N.xaxis.style.fillColor,stroke:N.border,strokeWidth:1}),K.subCharts.map((function(t,e){return Object(w.jsx)(n.a.Fragment,{children:Object(w.jsx)(d.d,{x:.5,y:t.top+.5,width:_,height:t.bottom-t.top,stroke:N.border,strokeWidth:1})},"subchart-border-".concat(e))}))]}),Object(w.jsx)(d.b,{children:Z.map((function(t,e){return Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(d.c,{x:t.x,y:N.containerSize.height-1-$+.5,points:[0,0,0,q],stroke:N.xaxis.style.strokeColor,strokeWidth:1}),N.grid.useGridX?Object(w.jsx)(d.c,{x:t.x,y:.5,points:[0,0,0,N.containerSize.height-1-$+.5],stroke:N.grid.style.strokeColor,strokeWidth:1}):null,Object(w.jsx)(d.e,{sceneFunc:function(e,a){var r=e._context;r.font=N.xaxis.style.fontSize+"px "+N.xaxis.style.fontName,r.fillStyle=N.xaxis.style.fontColor,r.textAlign="center",r.textBaseline="top",r.fillText(t.dateString,t.x,N.containerSize.height-1-$+.5+20+5),e.fillStrokeShape(a)}})]},"xaxis-ticks-".concat(e))}))}),Object(w.jsx)(d.b,{children:K.subCharts.map((function(t,e){return t.yaxis.map((function(t,e){return t.drawTicks.map((function(t,e){return Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(d.c,{x:N.containerSize.width-1+.5-N.yaxis.widthTickmarkLines,y:t.pixY+.5,points:[0,0,G,0],stroke:N.yaxis.style.strokeColor,strokeWidth:1}),N.grid.useGridY?Object(w.jsx)(d.c,{x:.5,y:t.pixY+.5,points:[0,0,N.containerSize.width-1+.5,0],stroke:N.grid.style.strokeColor,strokeWidth:1}):null,Object(w.jsx)(d.e,{sceneFunc:function(e,a){var r=e._context;r.font=N.yaxis.style.fontSize+"px "+N.yaxis.style.fontName,r.fillStyle=N.yaxis.style.fontColor,r.textAlign="right",r.textBaseline="middle",r.fillText(t.label,N.containerSize.width-1-N.yaxis.widthTickmarkLines+.5,t.pixY),e.fillStrokeShape(a)}})]},"yaxis-ticks-".concat(e))}))}))}))}),Object(w.jsx)(d.b,{children:(null===(b=N.pointer.move)||void 0===b?void 0:b.xy)&&N.pointer.isHovering?Object(w.jsx)(I,{fullState:K}):null})]}),K.xaxis.xEnd&&Z.length>0?K.subCharts.map((function(t,e){return Object(w.jsx)("div",{style:{position:"absolute",top:t.top+2},children:t.yaxis[0].graphs.map((function(t,a){var r,n,i,o,s,l,c,d,h,p,b,x=u(t)&&t.indicator.params.length>0?"".concat(t.indicator.name,"(").concat(t.indicator.params[0].val,")"):u(t)&&0===t.indicator.params.length?"".concat(t.indicator.name):t.name;if(!t.datasets.last)return null;var f=(K.pointer.isHovering&&e===(null===(r=K.pointer)||void 0===r||null===(n=r.chartPointer)||void 0===n?void 0:n.move.subchartIdx)&&(null===(i=K.pointer)||void 0===i||null===(o=i.chartPointer)||void 0===o||null===(s=o.move.snapDatasets)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.graphIdx)===a?null===(c=K.pointer)||void 0===c||null===(d=c.chartPointer)||void 0===d||null===(h=d.move)||void 0===h||null===(p=h.snapDatasets)||void 0===p||null===(b=p[0])||void 0===b?void 0:b.data:K.pointer.isHovering&&null!==K.pointer.chartPointer.move.x?t.data[K.pointer.chartPointer.move.x]:t.datasets.last.data)||t.datasets.last.data;return Object(w.jsx)(T,{onClick:function(){return F((function(t){return{location:"settings",expandedSetting:["graph-sub-".concat(e,"-y-0-graph-").concat(a),"sub-".concat(e)]}}))},name:x,dataset:f,decimals:u(t)&&void 0!==t.indicator.default.decimals?t.indicator.default.decimals:t.decimals},"chart-label-".concat(e,"-").concat(a))}))},"chart-label-subarea-".concat(e))})):null,Object(w.jsx)("div",{style:{position:"absolute",top:(null!==(f=null===(m=K.subCharts)||void 0===m||null===(y=m[0])||void 0===y?void 0:y.bottom)&&void 0!==f?f:0)-64-10,left:10},children:Object(w.jsx)(j.a,{color:"primary",variant:"contained",style:{width:64,height:64,textTransform:"none",borderRadius:5,opacity:.8},onClick:function(){return F((function(t){return Object(c.a)(Object(c.a)({},t),{},{location:"menu"})}))},children:Object(w.jsx)("div",{style:{position:"relative",top:0,height:64},children:Object(w.jsx)(v.a,{path:g.w,size:"64px",color:"#fff"})})})}),Object(w.jsx)(Be,{ChartMenuState:W,onClose:function(){F((function(t){return Object(c.a)(Object(c.a)({},t),{},{location:null})}))},onNavigate:function(t){return F((function(e){return Object(c.a)(Object(c.a)({},e),{},{location:t})}))},ChartState:K,ChartStateDispatch:B,onSettingsExpand:function(t){W.expandedSetting.includes(t)?F((function(e){return Object(c.a)(Object(c.a)({},e),{},{expandedSetting:W.expandedSetting.filter((function(e){return e!==t}))})})):F((function(e){return Object(c.a)(Object(c.a)({},e),{},{expandedSetting:[].concat(Object(l.a)(W.expandedSetting),[t])})}))}})]})})})})},$e=a(356),qe=Object(Lt.a)((function(t){return Object(Nt.a)({root:{flexGrow:1},menuButton:{marginRight:t.spacing(0),color:t.palette.primary.main},title:{flexGrow:1}})})),_e=function(t){var e=qe(),a=t.setDarkMode,r=Object(f.a)();return Object(w.jsxs)("div",{style:{height:"100%"},children:[Object(w.jsxs)("div",{style:{height:220,backgroundColor:r.palette.background.paper,color:r.palette.getContrastText(r.palette.background.default),backgroundImage:"url(https://github.com/carmnk/resources/raw/main/icons/logo512.png)",backgroundRepeat:"no-repeat",backgroundSize:128,backgroundPosition:"50% 35%"},children:[Object(w.jsxs)($e.a,{children:[Object(w.jsx)(m.a,{variant:"h6",className:e.title,color:"primary",children:"react-tech-chart"}),Object(w.jsx)(j.a,{className:e.menuButton,children:Object(w.jsx)(m.a,{children:"Docs"})}),Object(w.jsx)(Vt.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return a((function(t){return!t}))},children:Object(w.jsx)(v.a,{path:g.G,size:1.2})}),Object(w.jsx)(Vt.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(w.jsx)(v.a,{path:g.q,size:1.2})}),Object(w.jsx)(Vt.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(w.jsx)(v.a,{path:g.w,size:1.2})})]}),Object(w.jsx)("div",{style:{minWidth:320,maxWidth:"max(100%, 900px)",margin:"0px auto",position:"relative",top:0,height:"calc(100% - 64px)"},children:Object(w.jsx)("div",{style:{height:"100%"},children:Object(w.jsx)("div",{style:{padding:"100px 16px 0px 16px",textAlign:"center",color:r.palette.text.secondary},children:Object(w.jsx)(m.a,{children:"a high-level react stockchart component providing tools esp. for technical analysis."})})})})]}),Object(w.jsx)("div",{style:{position:"relative",top:0,height:"calc(100% - 220px)"},children:t.children})]})},Qe=a(148);var Je=function(){var t=n.a.useState(null),e=Object(s.a)(t,2),a=e[0],r=e[1],i=n.a.useState(!0),o=Object(s.a)(i,2),l=o[0],c=o[1],d=n.a.useRef(null),u=n.a.useState(400),h=Object(s.a)(u,2);return h[0],h[1],console.log(d),n.a.useEffect((function(){fetch("https://raw.githubusercontent.com/carmnk/resources/main/data/csv/BAYN.DE.csv").then((function(t){return t.text()})).then((function(t){var e=Qe(t,{delimiter:",",cast:!0,trim:!0,cast_date:!0}).map((function(t){return{date:t[0],open:t[1],high:t[2],low:t[3],close:t[4],volume:t[5]}}));return e.shift(),e})).then((function(t){return r(t)}))}),[]),a?(console.log("DATA:",[{data:a,name:"coolChart"}]),Object(w.jsx)(n.a.Fragment,{children:Object(w.jsx)(Et.a,{theme:l?Yt:Ut,children:Object(w.jsx)(_e,{setDarkMode:c,children:Object(w.jsx)("div",{style:{height:"100%"},children:Object(w.jsx)(Ve,{chartData:[{data:a,name:"coolChart"}],viewMode:"responsive",disableTheme:!0,style:{darkMode:l,grid:{useGridX:!1,useGridY:!1}}})})})})})):null},Ke=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,370)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,i=e.getLCP,o=e.getTTFB;a(t),r(t),n(t),i(t),o(t)}))};o.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(Je,{})}),document.getElementById("root")),Ke()}},[[295,1,2]]]);
//# sourceMappingURL=main.11fa7acd.chunk.js.map